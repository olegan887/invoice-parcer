(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var IV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function kA(){if(R0)return $l;R0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return $l.Fragment=e,$l.jsx=t,$l.jsxs=t,$l}var x0;function UA(){return x0||(x0=1,Hm.exports=kA()),Hm.exports}var R=UA(),Fm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function jA(){if(C0)return Ie;C0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,j={};function W(I,H,ne){this.props=I,this.context=H,this.refs=j,this.updater=ne||V}W.prototype.isReactComponent={},W.prototype.setState=function(I,H){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,H,"setState")},W.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function re(){}re.prototype=W.prototype;function X(I,H,ne){this.props=I,this.context=H,this.refs=j,this.updater=ne||V}var le=X.prototype=new re;le.constructor=X,B(le,W.prototype),le.isPureReactComponent=!0;var ge=Array.isArray;function ve(){}var D={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function A(I,H,ne){var ue=ne.ref;return{$$typeof:i,type:I,key:H,ref:ue!==void 0?ue:null,props:ne}}function M(I,H){return A(I.type,H,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function U(I){var H={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return H[ne]})}var O=/\/+/g;function Te(I,H){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):H.toString(36)}function Qe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ve,ve):(I.status="pending",I.then(function(H){I.status==="pending"&&(I.status="fulfilled",I.value=H)},function(H){I.status==="pending"&&(I.status="rejected",I.reason=H)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Y(I,H,ne,ue,fe){var Ae=typeof I;(Ae==="undefined"||Ae==="boolean")&&(I=null);var Ce=!1;if(I===null)Ce=!0;else switch(Ae){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(I.$$typeof){case i:case e:Ce=!0;break;case _:return Ce=I._init,Y(Ce(I._payload),H,ne,ue,fe)}}if(Ce)return fe=fe(I),Ce=ue===""?"."+Te(I,0):ue,ge(fe)?(ne="",Ce!=null&&(ne=Ce.replace(O,"$&/")+"/"),Y(fe,H,ne,"",function(qi){return qi})):fe!=null&&(C(fe)&&(fe=M(fe,ne+(fe.key==null||I&&I.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+Ce)),H.push(fe)),1;Ce=0;var pt=ue===""?".":ue+":";if(ge(I))for(var st=0;st<I.length;st++)ue=I[st],Ae=pt+Te(ue,st),Ce+=Y(ue,H,ne,Ae,fe);else if(st=x(I),typeof st=="function")for(I=st.call(I),st=0;!(ue=I.next()).done;)ue=ue.value,Ae=pt+Te(ue,st++),Ce+=Y(ue,H,ne,Ae,fe);else if(Ae==="object"){if(typeof I.then=="function")return Y(Qe(I),H,ne,ue,fe);throw H=String(I),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function se(I,H,ne){if(I==null)return I;var ue=[],fe=0;return Y(I,ue,"","",function(Ae){return H.call(ne,Ae,fe++)}),ue}function ae(I){if(I._status===-1){var H=I._result;H=H(),H.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=H)}if(I._status===1)return I._result.default;throw I._result}var we=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ce={map:se,forEach:function(I,H,ne){se(I,function(){H.apply(this,arguments)},ne)},count:function(I){var H=0;return se(I,function(){H++}),H},toArray:function(I){return se(I,function(H){return H})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ie.Activity=v,Ie.Children=ce,Ie.Component=W,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=X,Ie.StrictMode=r,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Ie.cache=function(I){return function(){return I.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(I,H,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ue=B({},I.props),fe=I.key;if(H!=null)for(Ae in H.key!==void 0&&(fe=""+H.key),H)!N.call(H,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&H.ref===void 0||(ue[Ae]=H[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=ne;else if(1<Ae){for(var Ce=Array(Ae),pt=0;pt<Ae;pt++)Ce[pt]=arguments[pt+2];ue.children=Ce}return A(I.type,fe,ue)},Ie.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Ie.createElement=function(I,H,ne){var ue,fe={},Ae=null;if(H!=null)for(ue in H.key!==void 0&&(Ae=""+H.key),H)N.call(H,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(fe[ue]=H[ue]);var Ce=arguments.length-2;if(Ce===1)fe.children=ne;else if(1<Ce){for(var pt=Array(Ce),st=0;st<Ce;st++)pt[st]=arguments[st+2];fe.children=pt}if(I&&I.defaultProps)for(ue in Ce=I.defaultProps,Ce)fe[ue]===void 0&&(fe[ue]=Ce[ue]);return A(I,Ae,fe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(I){return{$$typeof:d,render:I}},Ie.isValidElement=C,Ie.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:ae}},Ie.memo=function(I,H){return{$$typeof:g,type:I,compare:H===void 0?null:H}},Ie.startTransition=function(I){var H=D.T,ne={};D.T=ne;try{var ue=I(),fe=D.S;fe!==null&&fe(ne,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ve,we)}catch(Ae){we(Ae)}finally{H!==null&&ne.types!==null&&(H.types=ne.types),D.T=H}},Ie.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ie.use=function(I){return D.H.use(I)},Ie.useActionState=function(I,H,ne){return D.H.useActionState(I,H,ne)},Ie.useCallback=function(I,H){return D.H.useCallback(I,H)},Ie.useContext=function(I){return D.H.useContext(I)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(I,H){return D.H.useDeferredValue(I,H)},Ie.useEffect=function(I,H){return D.H.useEffect(I,H)},Ie.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Ie.useId=function(){return D.H.useId()},Ie.useImperativeHandle=function(I,H,ne){return D.H.useImperativeHandle(I,H,ne)},Ie.useInsertionEffect=function(I,H){return D.H.useInsertionEffect(I,H)},Ie.useLayoutEffect=function(I,H){return D.H.useLayoutEffect(I,H)},Ie.useMemo=function(I,H){return D.H.useMemo(I,H)},Ie.useOptimistic=function(I,H){return D.H.useOptimistic(I,H)},Ie.useReducer=function(I,H,ne){return D.H.useReducer(I,H,ne)},Ie.useRef=function(I){return D.H.useRef(I)},Ie.useState=function(I){return D.H.useState(I)},Ie.useSyncExternalStore=function(I,H,ne){return D.H.useSyncExternalStore(I,H,ne)},Ie.useTransition=function(){return D.H.useTransition()},Ie.version="19.2.0",Ie}var I0;function mf(){return I0||(I0=1,Fm.exports=jA()),Fm.exports}var k=mf();const zA=QT(k);var Gm={exports:{}},Kl={},$m={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function BA(){return N0||(N0=1,(function(i){function e(Y,se){var ae=Y.length;Y.push(se);e:for(;0<ae;){var we=ae-1>>>1,ce=Y[we];if(0<a(ce,se))Y[we]=se,Y[ae]=ce,ae=we;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],ae=Y.pop();if(ae!==se){Y[0]=ae;e:for(var we=0,ce=Y.length,I=ce>>>1;we<I;){var H=2*(we+1)-1,ne=Y[H],ue=H+1,fe=Y[ue];if(0>a(ne,ae))ue<ce&&0>a(fe,ne)?(Y[we]=fe,Y[ue]=ae,we=ue):(Y[we]=ne,Y[H]=ae,we=H);else if(ue<ce&&0>a(fe,ae))Y[we]=fe,Y[ue]=ae,we=ue;else break e}}return se}function a(Y,se){var ae=Y.sortIndex-se.sortIndex;return ae!==0?ae:Y.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,v=null,S=3,x=!1,V=!1,B=!1,j=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function le(Y){for(var se=t(g);se!==null;){if(se.callback===null)r(g);else if(se.startTime<=Y)r(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(g)}}function ge(Y){if(B=!1,le(Y),!V)if(t(p)!==null)V=!0,ve||(ve=!0,U());else{var se=t(g);se!==null&&Qe(ge,se.startTime-Y)}}var ve=!1,D=-1,N=5,A=-1;function M(){return j?!0:!(i.unstable_now()-A<N)}function C(){if(j=!1,ve){var Y=i.unstable_now();A=Y;var se=!0;try{e:{V=!1,B&&(B=!1,re(D),D=-1),x=!0;var ae=S;try{t:{for(le(Y),v=t(p);v!==null&&!(v.expirationTime>Y&&M());){var we=v.callback;if(typeof we=="function"){v.callback=null,S=v.priorityLevel;var ce=we(v.expirationTime<=Y);if(Y=i.unstable_now(),typeof ce=="function"){v.callback=ce,le(Y),se=!0;break t}v===t(p)&&r(p),le(Y)}else r(p);v=t(p)}if(v!==null)se=!0;else{var I=t(g);I!==null&&Qe(ge,I.startTime-Y),se=!1}}break e}finally{v=null,S=ae,x=!1}se=void 0}}finally{se?U():ve=!1}}}var U;if(typeof X=="function")U=function(){X(C)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Te=O.port2;O.port1.onmessage=C,U=function(){Te.postMessage(null)}}else U=function(){W(C,0)};function Qe(Y,se){D=W(function(){Y(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ae=S;S=se;try{return Y()}finally{S=ae}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ae=S;S=Y;try{return se()}finally{S=ae}},i.unstable_scheduleCallback=function(Y,se,ae){var we=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,Y){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ae+ce,Y={id:_++,callback:se,priorityLevel:Y,startTime:ae,expirationTime:ce,sortIndex:-1},ae>we?(Y.sortIndex=ae,e(g,Y),t(p)===null&&Y===t(g)&&(B?(re(D),D=-1):B=!0,Qe(ge,ae-we))):(Y.sortIndex=ce,e(p,Y),V||x||(V=!0,ve||(ve=!0,U()))),Y},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Y){var se=S;return function(){var ae=S;S=se;try{return Y.apply(this,arguments)}finally{S=ae}}}})(Km)),Km}var O0;function qA(){return O0||(O0=1,$m.exports=BA()),$m.exports}var Qm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function HA(){if(D0)return Zt;D0=1;var i=mf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Zt.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:x}):_==="script"&&r.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Zt.requestFormReset=function(p){r.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var M0;function FA(){if(M0)return Qm.exports;M0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=HA(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function GA(){if(L0)return Kl;L0=1;var i=qA(),e=mf(),t=FA();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=m;break}if(b===u){E=!0,u=f,o=m;break}b=b.sibling}if(!E){for(b=m.child;b;){if(b===o){E=!0,o=m,u=f;break}if(b===u){E=!0,u=m,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=C&&n[C]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function Te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case W:return"Profiler";case j:return"StrictMode";case ge:return"Suspense";case ve:return"SuspenseList";case A:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case X:return n.displayName||"Context";case re:return(n._context.displayName||"Context")+".Consumer";case le:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:Te(n.type)||"Memo";case N:s=n._payload,n=n._init;try{return Te(n(s))}catch{}}return null}var Qe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},we=[],ce=-1;function I(n){return{current:n}}function H(n){0>ce||(n.current=we[ce],we[ce]=null,ce--)}function ne(n,s){ce++,we[ce]=n.current,n.current=s}var ue=I(null),fe=I(null),Ae=I(null),Ce=I(null);function pt(n,s){switch(ne(Ae,s),ne(fe,n),ne(ue,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Yv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Yv(s),n=Xv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}H(ue),ne(ue,n)}function st(){H(ue),H(fe),H(Ae)}function qi(n){n.memoizedState!==null&&ne(Ce,n);var s=ue.current,o=Xv(s,n.type);s!==o&&(ne(fe,n),ne(ue,o))}function Hi(n){fe.current===n&&(H(ue),H(fe)),Ce.current===n&&(H(Ce),ql._currentValue=ae)}var Ar,Sa;function ui(n){if(Ar===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ar=s&&s[1]||"",Sa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+n+Sa}var qo=!1;function Is(n,s){if(!n||qo)return"";qo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var $=Q}Reflect.construct(n,[],te)}else{try{te.call()}catch(Q){$=Q}n.call(te.prototype)}}else{try{throw Error()}catch(Q){$=Q}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],b=m[1];if(E&&b){var L=E.split(`
`),G=b.split(`
`);for(f=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===L.length||f===G.length)for(u=L.length-1,f=G.length-1;1<=u&&0<=f&&L[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(L[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||L[u]!==G[f]){var J=`
`+L[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ui(o):""}function Ho(n,s){switch(n.tag){case 26:case 27:case 5:return ui(n.type);case 16:return ui("Lazy");case 13:return n.child!==s&&s!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Is(n.type,!1);case 11:return Is(n.type.render,!1);case 1:return Is(n.type,!0);case 31:return ui("Activity");default:return""}}function Fo(n){try{var s="",o=null;do s+=Ho(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var St=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,Rr=i.unstable_cancelCallback,Gf=i.unstable_shouldYield,Gu=i.unstable_requestPaint,rn=i.unstable_now,Ns=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,$o=i.unstable_UserBlockingPriority,xr=i.unstable_NormalPriority,$f=i.unstable_LowPriority,$u=i.unstable_IdlePriority,Ku=i.log,Qu=i.unstable_setDisableYieldValue,$n=null,Ht=null;function In(n){if(typeof Ku=="function"&&Qu(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode($n,n)}catch{}}var gt=Math.clz32?Math.clz32:Xu,Yu=Math.log,ba=Math.LN2;function Xu(n){return n>>>=0,n===0?32:31-(Yu(n)/ba|0)|0}var ci=256,Os=262144,bt=4194304;function hi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fi(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?f=hi(u):(E&=b,E!==0?f=hi(E):o||(o=b&~n,o!==0&&(f=hi(o))))):(b=u&~m,b!==0?f=hi(b):E!==0?f=hi(E):o||(o=u&~n,o!==0&&(f=hi(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function Kn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Kf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var n=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),n}function di(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ds(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qf(n,s,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,L=n.expirationTimes,G=n.hiddenUpdates;for(o=E&~o;0<o;){var J=31-gt(o),te=1<<J;b[J]=0,L[J]=-1;var $=G[J];if($!==null)for(G[J]=null,J=0;J<$.length;J++){var Q=$[J];Q!==null&&(Q.lane&=-536870913)}o&=~te}u!==0&&Ms(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~s))}function Ms(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-gt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Ko(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-gt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Qo(n,s){var o=s&-s;return o=(o&42)!==0?1:Ls(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ls(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Wu(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:v0(n.type))}function Qn(n,s){var o=se.p;try{return se.p=n,s()}finally{se.p=o}}var Yn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Yn,Ut="__reactProps$"+Yn,mi="__reactContainer$"+Yn,wa="__reactEvents$"+Yn,Yf="__reactListeners$"+Yn,Zu="__reactHandles$"+Yn,ec="__reactResources$"+Yn,pi="__reactMarker$"+Yn;function Aa(n){delete n[wt],delete n[Ut],delete n[wa],delete n[Yf],delete n[Zu]}function gi(n){var s=n[wt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[mi]||o[wt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=i0(n);n!==null;){if(o=n[wt])return o;n=i0(n)}return s}n=o,o=n.parentNode}return null}function Nn(n){if(n=n[wt]||n[mi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function _n(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function yi(n){var s=n[ec];return s||(s=n[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(n){n[pi]=!0}var Yo=new Set,Xo={};function _i(n,s){vi(n,s),vi(n+"Capture",s)}function vi(n,s){for(Xo[n]=s,n=0;n<s.length;n++)Yo.add(s[n])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Zo={};function tc(n){return St.call(Zo,n)?!0:St.call(Wo,n)?!1:Jo.test(n)?Zo[n]=!0:(Wo[n]=!0,!1)}function Ra(n,s,o){if(tc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function vn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Rt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function el(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ye(n){if(!n._valueTracker){var s=Cr(n)?"checked":"value";n._valueTracker=el(n,s,""+n[s])}}function Vs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Cr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Ei(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ps=/[\n"\\]/g;function ln(n){return n.replace(Ps,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xa(n,s,o,u,f,m,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+jt(s)):n.value!==""+jt(s)&&(n.value=""+jt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?tl(n,E,jt(s)):o!=null?tl(n,E,jt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+jt(b):n.removeAttribute("name")}function nc(n,s,o,u,f,m,E,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ye(n);return}o=o!=null?""+jt(o):"",s=s!=null?""+jt(s):o,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Ye(n)}function tl(n,s,o){s==="number"&&Ei(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ir(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+jt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function ic(n,s,o){if(s!=null&&(s=""+jt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+jt(o):""}function Nr(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Qe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=jt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ye(n)}function un(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||rc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function il(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&nl(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&nl(n,m,s[m])}function Ca(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(n){return Or.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Xn(){}var rl=null;function On(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Dr=null,Ti=null;function ks(n){var s=Nn(n);if(s&&(n=s.stateNode)){var o=n[Ut]||null;e:switch(n=s.stateNode,s.type){case"input":if(xa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ln(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Ut]||null;if(!f)throw Error(r(90));xa(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Vs(u)}break e;case"textarea":ic(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ir(n,!!o.multiple,s,!1)}}}var Na=!1;function Mr(n,s,o){if(Na)return n(s,o);Na=!0;try{var u=n(s);return u}finally{if(Na=!1,(Dr!==null||Ti!==null)&&(Wc(),Dr&&(s=Dr,n=Ti,Ti=Dr=null,ks(s),n)))for(s=0;s<n.length;s++)ks(n[s])}}function Jn(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Ut]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(Dn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Us=!1}var Si=null,sl=null,js=null;function al(){if(js)return js;var n,s=sl,o=s.length,u,f="value"in Si?Si.value:Si.textContent,m=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return js=f.slice(n,1<u?1-u:void 0)}function zs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Gi(){return!0}function Wn(){return!1}function Ft(n){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gi:Wn,this.isPropagationStopped=Wn,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),s}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ft($i),Lr=v({},$i,{view:0,detail:0}),ol=Ft(Lr),Vr,Oa,wi,Da=v({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wi&&(wi&&n.type==="mousemove"?(Vr=n.screenX-wi.screenX,Oa=n.screenY-wi.screenY):Oa=Vr=0,wi=n),Vr)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),ll=Ft(Da),Bs=v({},Da,{dataTransfer:0}),ac=Ft(Bs),oc=v({},Lr,{relatedTarget:0}),qs=Ft(oc),ul=v({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),lc=Ft(ul),Ma=v({},$i,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uc=Ft(Ma),cc=v({},$i,{data:0}),Ai=Ft(cc),hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=dc[n])?!!s[n]:!1}function Pr(){return mc}var sn=v({},Lr,{key:function(n){if(n.key){var s=hc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=zs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(n){return n.type==="keypress"?zs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?zs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pc=Ft(sn),gc=v({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ft(gc),h=v({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),y=Ft(h),T=v({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(T),q=v({},Da,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(q),oe=v({},$i,{newState:0,oldState:0}),Oe=Ft(oe),yt=[9,13,27,32],Ge=Dn&&"CompositionEvent"in window,ut=null;Dn&&"documentMode"in document&&(ut=document.documentMode);var Mn=Dn&&"TextEvent"in window&&!ut,Ri=Dn&&(!Ge||ut&&8<ut&&11>=ut),Zn=" ",ei=!1;function Hs(n,s){switch(n){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Va=!1;function o1(n,s){switch(n){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(ei=!0,Zn);case"textInput":return n=s.data,n===Zn&&ei?null:n;default:return null}}function l1(n,s){if(Va)return n==="compositionend"||!Ge&&Hs(n,s)?(n=al(),js=sl=Si=null,Va=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ri&&s.locale!=="ko"?null:s.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!u1[n.type]:s==="textarea"}function oy(n,s,o,u){Dr?Ti?Ti.push(u):Ti=[u]:Dr=u,s=sh(s,"onChange"),0<s.length&&(o=new bi("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var cl=null,hl=null;function c1(n){Hv(n,0)}function yc(n){var s=_n(n);if(Vs(s))return n}function ly(n,s){if(n==="change")return s}var uy=!1;if(Dn){var Xf;if(Dn){var Jf="oninput"in document;if(!Jf){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Jf=typeof cy.oninput=="function"}Xf=Jf}else Xf=!1;uy=Xf&&(!document.documentMode||9<document.documentMode)}function hy(){cl&&(cl.detachEvent("onpropertychange",fy),hl=cl=null)}function fy(n){if(n.propertyName==="value"&&yc(hl)){var s=[];oy(s,hl,n,On(n)),Mr(c1,s)}}function h1(n,s,o){n==="focusin"?(hy(),cl=s,hl=o,cl.attachEvent("onpropertychange",fy)):n==="focusout"&&hy()}function f1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(hl)}function d1(n,s){if(n==="click")return yc(s)}function m1(n,s){if(n==="input"||n==="change")return yc(s)}function p1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var En=typeof Object.is=="function"?Object.is:p1;function fl(n,s){if(En(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!St.call(s,f)||!En(n[f],s[f]))return!1}return!0}function dy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function my(n,s){var o=dy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dy(o)}}function py(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?py(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function gy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ei(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Ei(n.document)}return s}function Wf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var g1=Dn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Zf=null,dl=null,ed=!1;function yy(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ed||Pa==null||Pa!==Ei(u)||(u=Pa,"selectionStart"in u&&Wf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&fl(dl,u)||(dl=u,u=sh(Zf,"onSelect"),0<u.length&&(s=new bi("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Pa)))}function Fs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ka={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},td={},_y={};Dn&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Gs(n){if(td[n])return td[n];if(!ka[n])return n;var s=ka[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in _y)return td[n]=s[o];return n}var vy=Gs("animationend"),Ey=Gs("animationiteration"),Ty=Gs("animationstart"),y1=Gs("transitionrun"),_1=Gs("transitionstart"),v1=Gs("transitioncancel"),Sy=Gs("transitionend"),by=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function ti(n,s){by.set(n,s),_i(s,[n])}var _c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ln=[],Ua=0,id=0;function vc(){for(var n=Ua,s=id=Ua=0;s<n;){var o=Ln[s];Ln[s++]=null;var u=Ln[s];Ln[s++]=null;var f=Ln[s];Ln[s++]=null;var m=Ln[s];if(Ln[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&wy(o,f,m)}}function Ec(n,s,o,u){Ln[Ua++]=n,Ln[Ua++]=s,Ln[Ua++]=o,Ln[Ua++]=u,id|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function rd(n,s,o,u){return Ec(n,s,o,u),Tc(n)}function $s(n,s){return Ec(n,null,null,s),Tc(n)}function wy(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-gt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function Tc(n){if(50<Vl)throw Vl=0,dm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ja={};function E1(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,s,o,u){return new E1(n,s,o,u)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qi(n,s){var o=n.alternate;return o===null?(o=Tn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ay(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Sc(n,s,o,u,f,m){var E=0;if(u=n,typeof n=="function")sd(n)&&(E=1);else if(typeof n=="string")E=AA(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case A:return n=Tn(31,o,s,f),n.elementType=A,n.lanes=m,n;case B:return Ks(o.children,f,m,s);case j:E=8,f|=24;break;case W:return n=Tn(12,o,s,f|2),n.elementType=W,n.lanes=m,n;case ge:return n=Tn(13,o,s,f),n.elementType=ge,n.lanes=m,n;case ve:return n=Tn(19,o,s,f),n.elementType=ve,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:E=10;break e;case re:E=9;break e;case le:E=11;break e;case D:E=14;break e;case N:E=16,u=null;break e}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Tn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function Ks(n,s,o,u){return n=Tn(7,n,u,s),n.lanes=o,n}function ad(n,s,o){return n=Tn(6,n,null,s),n.lanes=o,n}function Ry(n){var s=Tn(18,null,null,0);return s.stateNode=n,s}function od(n,s,o){return s=Tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var xy=new WeakMap;function Vn(n,s){if(typeof n=="object"&&n!==null){var o=xy.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Fo(s)},xy.set(n,s),s)}return{value:n,source:s,stack:Fo(s)}}var za=[],Ba=0,bc=null,ml=0,Pn=[],kn=0,kr=null,xi=1,Ci="";function Yi(n,s){za[Ba++]=ml,za[Ba++]=bc,bc=n,ml=s}function Cy(n,s,o){Pn[kn++]=xi,Pn[kn++]=Ci,Pn[kn++]=kr,kr=n;var u=xi;n=Ci;var f=32-gt(u)-1;u&=~(1<<f),o+=1;var m=32-gt(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,xi=1<<32-gt(s)+f|o<<f|u,Ci=m+n}else xi=1<<m|o<<f|u,Ci=n}function ld(n){n.return!==null&&(Yi(n,1),Cy(n,1,0))}function ud(n){for(;n===bc;)bc=za[--Ba],za[Ba]=null,ml=za[--Ba],za[Ba]=null;for(;n===kr;)kr=Pn[--kn],Pn[kn]=null,Ci=Pn[--kn],Pn[kn]=null,xi=Pn[--kn],Pn[kn]=null}function Iy(n,s){Pn[kn++]=xi,Pn[kn++]=Ci,Pn[kn++]=kr,xi=s.id,Ci=s.overflow,kr=n}var Gt=null,at=null,Be=!1,Ur=null,Un=!1,cd=Error(r(519));function jr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Vn(s,n)),cd}function Ny(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[wt]=n,s[Ut]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<kl.length;o++)Ve(kl[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),nc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Nr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Kv(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||jr(n,!0)}function Oy(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Gt=Gt.return}}function qa(n){if(n!==Gt)return!1;if(!Be)return Oy(n),Be=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Cm(n.type,n.memoizedProps)),o=!o),o&&at&&jr(n),Oy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));at=n0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));at=n0(n)}else s===27?(s=at,Zr(n.type)?(n=Mm,Mm=null,at=n):at=s):at=Gt?zn(n.stateNode.nextSibling):null;return!0}function Qs(){at=Gt=null,Be=!1}function hd(){var n=Ur;return n!==null&&(dn===null?dn=n:dn.push.apply(dn,n),Ur=null),n}function pl(n){Ur===null?Ur=[n]:Ur.push(n)}var fd=I(null),Ys=null,Xi=null;function zr(n,s,o){ne(fd,s._currentValue),s._currentValue=o}function Ji(n){n._currentValue=fd.current,H(fd)}function dd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function md(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var L=0;L<s.length;L++)if(b.context===s[L]){m.lanes|=o,b=m.alternate,b!==null&&(b.lanes|=o),dd(m.return,o,n),u||(E=null);break e}m=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),dd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ha(n,s,o,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;En(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ce.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&md(s,n,o,u),s.flags|=262144}function wc(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xs(n){Ys=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return Dy(Ys,n)}function Ac(n,s){return Ys===null&&Xs(n),Dy(n,s)}function Dy(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Xi===null){if(n===null)throw Error(r(308));Xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xi=Xi.next=s;return o}var T1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},S1=i.unstable_scheduleCallback,b1=i.unstable_NormalPriority,xt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new T1,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&S1(b1,function(){n.controller.abort()})}var yl=null,gd=0,Fa=0,Ga=null;function w1(n,s){if(yl===null){var o=yl=[];gd=0,Fa=vm(),Ga={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gd++,s.then(My,My),s}function My(){if(--gd===0&&yl!==null){Ga!==null&&(Ga.status="fulfilled");var n=yl;yl=null,Fa=0,Ga=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function A1(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ly=Y.S;Y.S=function(n,s){yv=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&w1(n,s),Ly!==null&&Ly(n,s)};var Js=I(null);function yd(){var n=Js.current;return n!==null?n:it.pooledCache}function Rc(n,s){s===null?ne(Js,Js.current):ne(Js,s.pool)}function Vy(){var n=yd();return n===null?null:{parent:xt._currentValue,pool:n}}var $a=Error(r(460)),_d=Error(r(474)),xc=Error(r(542)),Cc={then:function(){}};function Py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ky(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(Xn,Xn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jy(n),n;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,jy(n),n}throw Zs=s,$a}}function Ws(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Zs=o,$a):o}}var Zs=null;function Uy(){if(Zs===null)throw Error(r(459));var n=Zs;return Zs=null,n}function jy(n){if(n===$a||n===xc)throw Error(r(483))}var Ka=null,_l=0;function Ic(n){var s=_l;return _l+=1,Ka===null&&(Ka=[]),ky(Ka,n,s)}function vl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nc(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function zy(n){function s(z,P){if(n){var F=z.deletions;F===null?(z.deletions=[P],z.flags|=16):F.push(P)}}function o(z,P){if(!n)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function u(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Qi(z,P),z.index=0,z.sibling=null,z}function m(z,P,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<P?(z.flags|=67108866,P):F):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,P,F,Z){return P===null||P.tag!==6?(P=ad(F,z.mode,Z),P.return=z,P):(P=f(P,F),P.return=z,P)}function L(z,P,F,Z){var ye=F.type;return ye===B?J(z,P,F.props.children,Z,F.key):P!==null&&(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Ws(ye)===P.type)?(P=f(P,F.props),vl(P,F),P.return=z,P):(P=Sc(F.type,F.key,F.props,null,z.mode,Z),vl(P,F),P.return=z,P)}function G(z,P,F,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=od(F,z.mode,Z),P.return=z,P):(P=f(P,F.children||[]),P.return=z,P)}function J(z,P,F,Z,ye){return P===null||P.tag!==7?(P=Ks(F,z.mode,Z,ye),P.return=z,P):(P=f(P,F),P.return=z,P)}function te(z,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ad(""+P,z.mode,F),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return F=Sc(P.type,P.key,P.props,null,z.mode,F),vl(F,P),F.return=z,F;case V:return P=od(P,z.mode,F),P.return=z,P;case N:return P=Ws(P),te(z,P,F)}if(Qe(P)||U(P))return P=Ks(P,z.mode,F,null),P.return=z,P;if(typeof P.then=="function")return te(z,Ic(P),F);if(P.$$typeof===X)return te(z,Ac(z,P),F);Nc(z,P)}return null}function $(z,P,F,Z){var ye=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:b(z,P,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===ye?L(z,P,F,Z):null;case V:return F.key===ye?G(z,P,F,Z):null;case N:return F=Ws(F),$(z,P,F,Z)}if(Qe(F)||U(F))return ye!==null?null:J(z,P,F,Z,null);if(typeof F.then=="function")return $(z,P,Ic(F),Z);if(F.$$typeof===X)return $(z,P,Ac(z,F),Z);Nc(z,F)}return null}function Q(z,P,F,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(F)||null,b(P,z,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return z=z.get(Z.key===null?F:Z.key)||null,L(P,z,Z,ye);case V:return z=z.get(Z.key===null?F:Z.key)||null,G(P,z,Z,ye);case N:return Z=Ws(Z),Q(z,P,F,Z,ye)}if(Qe(Z)||U(Z))return z=z.get(F)||null,J(P,z,Z,ye,null);if(typeof Z.then=="function")return Q(z,P,F,Ic(Z),ye);if(Z.$$typeof===X)return Q(z,P,F,Ac(P,Z),ye);Nc(P,Z)}return null}function me(z,P,F,Z){for(var ye=null,He=null,pe=P,Me=P=0,ke=null;pe!==null&&Me<F.length;Me++){pe.index>Me?(ke=pe,pe=null):ke=pe.sibling;var Fe=$(z,pe,F[Me],Z);if(Fe===null){pe===null&&(pe=ke);break}n&&pe&&Fe.alternate===null&&s(z,pe),P=m(Fe,P,Me),He===null?ye=Fe:He.sibling=Fe,He=Fe,pe=ke}if(Me===F.length)return o(z,pe),Be&&Yi(z,Me),ye;if(pe===null){for(;Me<F.length;Me++)pe=te(z,F[Me],Z),pe!==null&&(P=m(pe,P,Me),He===null?ye=pe:He.sibling=pe,He=pe);return Be&&Yi(z,Me),ye}for(pe=u(pe);Me<F.length;Me++)ke=Q(pe,z,Me,F[Me],Z),ke!==null&&(n&&ke.alternate!==null&&pe.delete(ke.key===null?Me:ke.key),P=m(ke,P,Me),He===null?ye=ke:He.sibling=ke,He=ke);return n&&pe.forEach(function(rs){return s(z,rs)}),Be&&Yi(z,Me),ye}function Ee(z,P,F,Z){if(F==null)throw Error(r(151));for(var ye=null,He=null,pe=P,Me=P=0,ke=null,Fe=F.next();pe!==null&&!Fe.done;Me++,Fe=F.next()){pe.index>Me?(ke=pe,pe=null):ke=pe.sibling;var rs=$(z,pe,Fe.value,Z);if(rs===null){pe===null&&(pe=ke);break}n&&pe&&rs.alternate===null&&s(z,pe),P=m(rs,P,Me),He===null?ye=rs:He.sibling=rs,He=rs,pe=ke}if(Fe.done)return o(z,pe),Be&&Yi(z,Me),ye;if(pe===null){for(;!Fe.done;Me++,Fe=F.next())Fe=te(z,Fe.value,Z),Fe!==null&&(P=m(Fe,P,Me),He===null?ye=Fe:He.sibling=Fe,He=Fe);return Be&&Yi(z,Me),ye}for(pe=u(pe);!Fe.done;Me++,Fe=F.next())Fe=Q(pe,z,Me,Fe.value,Z),Fe!==null&&(n&&Fe.alternate!==null&&pe.delete(Fe.key===null?Me:Fe.key),P=m(Fe,P,Me),He===null?ye=Fe:He.sibling=Fe,He=Fe);return n&&pe.forEach(function(PA){return s(z,PA)}),Be&&Yi(z,Me),ye}function nt(z,P,F,Z){if(typeof F=="object"&&F!==null&&F.type===B&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var ye=F.key;P!==null;){if(P.key===ye){if(ye=F.type,ye===B){if(P.tag===7){o(z,P.sibling),Z=f(P,F.props.children),Z.return=z,z=Z;break e}}else if(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&Ws(ye)===P.type){o(z,P.sibling),Z=f(P,F.props),vl(Z,F),Z.return=z,z=Z;break e}o(z,P);break}else s(z,P);P=P.sibling}F.type===B?(Z=Ks(F.props.children,z.mode,Z,F.key),Z.return=z,z=Z):(Z=Sc(F.type,F.key,F.props,null,z.mode,Z),vl(Z,F),Z.return=z,z=Z)}return E(z);case V:e:{for(ye=F.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(z,P.sibling),Z=f(P,F.children||[]),Z.return=z,z=Z;break e}else{o(z,P);break}else s(z,P);P=P.sibling}Z=od(F,z.mode,Z),Z.return=z,z=Z}return E(z);case N:return F=Ws(F),nt(z,P,F,Z)}if(Qe(F))return me(z,P,F,Z);if(U(F)){if(ye=U(F),typeof ye!="function")throw Error(r(150));return F=ye.call(F),Ee(z,P,F,Z)}if(typeof F.then=="function")return nt(z,P,Ic(F),Z);if(F.$$typeof===X)return nt(z,P,Ac(z,F),Z);Nc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(o(z,P.sibling),Z=f(P,F),Z.return=z,z=Z):(o(z,P),Z=ad(F,z.mode,Z),Z.return=z,z=Z),E(z)):o(z,P)}return function(z,P,F,Z){try{_l=0;var ye=nt(z,P,F,Z);return Ka=null,ye}catch(pe){if(pe===$a||pe===xc)throw pe;var He=Tn(29,pe,null,z.mode);return He.lanes=Z,He.return=z,He}finally{}}}var ea=zy(!0),By=zy(!1),Br=!1;function vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hr(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Tc(n),wy(n,null,o),s}return Ec(n,u,s,o),Tc(n)}function El(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ko(n,o)}}function Td(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Sd=!1;function Tl(){if(Sd){var n=Ga;if(n!==null)throw n}}function Sl(n,s,o,u){Sd=!1;var f=n.updateQueue;Br=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var L=b,G=L.next;L.next=null,E===null?m=G:E.next=G,E=L;var J=n.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=G:b.next=G,J.lastBaseUpdate=L))}if(m!==null){var te=f.baseState;E=0,J=G=L=null,b=m;do{var $=b.lane&-536870913,Q=$!==b.lane;if(Q?(Pe&$)===$:(u&$)===$){$!==0&&$===Fa&&(Sd=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=n,Ee=b;$=s;var nt=o;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){te=me.call(nt,te,$);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,$=typeof me=="function"?me.call(nt,te,$):me,$==null)break e;te=v({},te,$);break e;case 2:Br=!0}}$=b.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(G=J=Q,L=te):J=J.next=Q,E|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(L=te),f.baseState=L,f.firstBaseUpdate=G,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Qr|=E,n.lanes=E,n.memoizedState=te}}function qy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Hy(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)qy(o[n],s)}var Qa=I(null),Oc=I(0);function Fy(n,s){n=ar,ne(Oc,n),ne(Qa,s),ar=n|s.baseLanes}function bd(){ne(Oc,ar),ne(Qa,Qa.current)}function wd(){ar=Oc.current,H(Qa),H(Oc)}var Sn=I(null),jn=null;function Fr(n){var s=n.alternate;ne(_t,_t.current&1),ne(Sn,n),jn===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(jn=n)}function Ad(n){ne(_t,_t.current),ne(Sn,n),jn===null&&(jn=n)}function Gy(n){n.tag===22?(ne(_t,_t.current),ne(Sn,n),jn===null&&(jn=n)):Gr()}function Gr(){ne(_t,_t.current),ne(Sn,Sn.current)}function bn(n){H(Sn),jn===n&&(jn=null),H(_t)}var _t=I(0);function Dc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Om(o)||Dm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wi=0,De=null,et=null,Ct=null,Mc=!1,Ya=!1,ta=!1,Lc=0,bl=0,Xa=null,R1=0;function dt(){throw Error(r(321))}function Rd(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!En(n[o],s[o]))return!1;return!0}function xd(n,s,o,u,f,m){return Wi=m,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=n===null||n.memoizedState===null?C_:qd,ta=!1,m=o(u,f),ta=!1,Ya&&(m=Ky(s,o,u,f)),$y(n),m}function $y(n){Y.H=Rl;var s=et!==null&&et.next!==null;if(Wi=0,Ct=et=De=null,Mc=!1,bl=0,Xa=null,s)throw Error(r(300));n===null||It||(n=n.dependencies,n!==null&&wc(n)&&(It=!0))}function Ky(n,s,o,u){De=n;var f=0;do{if(Ya&&(Xa=null),bl=0,Ya=!1,25<=f)throw Error(r(301));if(f+=1,Ct=et=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=I_,m=s(o,u)}while(Ya);return m}function x1(){var n=Y.H,s=n.useState()[0];return s=typeof s.then=="function"?wl(s):s,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(De.flags|=1024),s}function Cd(){var n=Lc!==0;return Lc=0,n}function Id(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Nd(n){if(Mc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Mc=!1}Wi=0,Ct=et=De=null,Ya=!1,bl=Lc=0,Xa=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?De.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function vt(){if(et===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var s=Ct===null?De.memoizedState:Ct.next;if(s!==null)Ct=s,et=n;else{if(n===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?De.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(n){var s=bl;return bl+=1,Xa===null&&(Xa=[]),n=ky(Xa,n,s),s=De,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?C_:qd),n}function Pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===X)return $t(n)}throw Error(r(438,String(n)))}function Od(n){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Vc(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function Zi(n,s){return typeof s=="function"?s(n):s}function kc(n){var s=vt();return Dd(s,et,n)}function Dd(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var b=E=null,L=null,G=s,J=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(Wi&te)===te){var $=G.revertLane;if($===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Fa&&(J=!0);else if((Wi&$)===$){G=G.next,$===Fa&&(J=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(b=L=te,E=m):L=L.next=te,De.lanes|=$,Qr|=$;te=G.action,ta&&o(m,te),m=G.hasEagerState?G.eagerState:o(m,te)}else $={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(b=L=$,E=m):L=L.next=$,De.lanes|=te,Qr|=te;G=G.next}while(G!==null&&G!==s);if(L===null?E=m:L.next=b,!En(m,n.memoizedState)&&(It=!0,J&&(o=Ga,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=L,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Md(n){var s=vt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);En(m,s.memoizedState)||(It=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Qy(n,s,o){var u=De,f=vt(),m=Be;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!En((et||f).memoizedState,o);if(E&&(f.memoizedState=o,It=!0),f=f.queue,Pd(Jy.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Ja(9,{destroy:void 0},Xy.bind(null,u,f,o,s),null),it===null)throw Error(r(349));m||(Wi&127)!==0||Yy(u,s,o)}return o}function Yy(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=Vc(),De.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Xy(n,s,o,u){s.value=o,s.getSnapshot=u,Wy(s)&&Zy(n)}function Jy(n,s,o){return o(function(){Wy(s)&&Zy(n)})}function Wy(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!En(n,o)}catch{return!0}}function Zy(n){var s=$s(n,2);s!==null&&mn(s,n,2)}function Ld(n){var s=an();if(typeof n=="function"){var o=n;if(n=o(),ta){In(!0);try{o()}finally{In(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},s}function e_(n,s,o,u){return n.baseState=o,Dd(n,et,typeof u=="function"?u:Zi)}function C1(n,s,o,u,f){if(zc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Y.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,t_(s,m)):(m.next=o.next,s.pending=o.next=m)}}function t_(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=Y.T,E={};Y.T=E;try{var b=o(f,u),L=Y.S;L!==null&&L(E,b),n_(n,s,b)}catch(G){Vd(n,s,G)}finally{m!==null&&E.types!==null&&(m.types=E.types),Y.T=m}}else try{m=o(f,u),n_(n,s,m)}catch(G){Vd(n,s,G)}}function n_(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){i_(n,s,u)},function(u){return Vd(n,s,u)}):i_(n,s,o)}function i_(n,s,o){s.status="fulfilled",s.value=o,r_(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,t_(n,o)))}function Vd(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,r_(s),s=s.next;while(s!==u)}n.action=null}function r_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function s_(n,s){return s}function a_(n,s){if(Be){var o=it.formState;if(o!==null){e:{var u=De;if(Be){if(at){t:{for(var f=at,m=Un;f.nodeType!==8;){if(!m){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=zn(f.nextSibling),u=f.data==="F!";break e}}jr(u)}u=!1}u&&(s=o[0])}}return o=an(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:s},o.queue=u,o=A_.bind(null,De,u),u.dispatch=o,u=Ld(!1),m=Bd.bind(null,De,!1,u.queue),u=an(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=C1.bind(null,De,f,m,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function o_(n){var s=vt();return l_(s,et,n)}function l_(n,s,o){if(s=Dd(n,s,s_)[0],n=kc(Zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=wl(s)}catch(E){throw E===$a?xc:E}else u=s;s=vt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(De.flags|=2048,Ja(9,{destroy:void 0},I1.bind(null,f,o),null)),[u,m,n]}function I1(n,s){n.action=s}function u_(n){var s=vt(),o=et;if(o!==null)return l_(s,o,n);vt(),s=s.memoizedState,o=vt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Ja(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=Vc(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function c_(){return vt().memoizedState}function Uc(n,s,o,u){var f=an();De.flags|=n,f.memoizedState=Ja(1|s,{destroy:void 0},o,u===void 0?null:u)}function jc(n,s,o,u){var f=vt();u=u===void 0?null:u;var m=f.memoizedState.inst;et!==null&&u!==null&&Rd(u,et.memoizedState.deps)?f.memoizedState=Ja(s,m,o,u):(De.flags|=n,f.memoizedState=Ja(1|s,m,o,u))}function h_(n,s){Uc(8390656,8,n,s)}function Pd(n,s){jc(2048,8,n,s)}function N1(n){De.flags|=4;var s=De.updateQueue;if(s===null)s=Vc(),De.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function f_(n){var s=vt().memoizedState;return N1({ref:s,nextImpl:n}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function d_(n,s){return jc(4,2,n,s)}function m_(n,s){return jc(4,4,n,s)}function p_(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function g_(n,s,o){o=o!=null?o.concat([n]):null,jc(4,4,p_.bind(null,s,n),o)}function kd(){}function y_(n,s){var o=vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Rd(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function __(n,s){var o=vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Rd(s,u[1]))return u[0];if(u=n(),ta){In(!0);try{n()}finally{In(!1)}}return o.memoizedState=[u,s],u}function Ud(n,s,o){return o===void 0||(Wi&1073741824)!==0&&(Pe&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=vv(),De.lanes|=n,Qr|=n,o)}function v_(n,s,o,u){return En(o,s)?o:Qa.current!==null?(n=Ud(n,o,u),En(n,s)||(It=!0),n):(Wi&42)===0||(Wi&1073741824)!==0&&(Pe&261930)===0?(It=!0,n.memoizedState=o):(n=vv(),De.lanes|=n,Qr|=n,s)}function E_(n,s,o,u,f){var m=se.p;se.p=m!==0&&8>m?m:8;var E=Y.T,b={};Y.T=b,Bd(n,!1,s,o);try{var L=f(),G=Y.S;if(G!==null&&G(b,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=A1(L,u);Al(n,s,J,Rn(n))}else Al(n,s,u,Rn(n))}catch(te){Al(n,s,{then:function(){},status:"rejected",reason:te},Rn())}finally{se.p=m,E!==null&&b.types!==null&&(E.types=b.types),Y.T=E}}function O1(){}function jd(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=T_(n).queue;E_(n,f,s,ae,o===null?O1:function(){return S_(n),o(u)})}function T_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function S_(n){var s=T_(n);s.next===null&&(s=n.alternate.memoizedState),Al(n,s.next.queue,{},Rn())}function zd(){return $t(ql)}function b_(){return vt().memoizedState}function w_(){return vt().memoizedState}function D1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Rn();n=qr(o);var u=Hr(s,n,o);u!==null&&(mn(u,s,o),El(u,s,o)),s={cache:pd()},n.payload=s;return}s=s.return}}function M1(n,s,o){var u=Rn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zc(n)?R_(s,o):(o=rd(n,s,o,u),o!==null&&(mn(o,n,u),x_(o,s,u)))}function A_(n,s,o){var u=Rn();Al(n,s,o,u)}function Al(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zc(n))R_(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,b=m(E,o);if(f.hasEagerState=!0,f.eagerState=b,En(b,E))return Ec(n,s,f,0),it===null&&vc(),!1}catch{}finally{}if(o=rd(n,s,f,u),o!==null)return mn(o,n,u),x_(o,s,u),!0}return!1}function Bd(n,s,o,u){if(u={lane:2,revertLane:vm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zc(n)){if(s)throw Error(r(479))}else s=rd(n,o,u,2),s!==null&&mn(s,n,2)}function zc(n){var s=n.alternate;return n===De||s!==null&&s===De}function R_(n,s){Ya=Mc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function x_(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ko(n,o)}}var Rl={readContext:$t,use:Pc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Rl.useEffectEvent=dt;var C_={readContext:$t,use:Pc,useCallback:function(n,s){return an().memoizedState=[n,s===void 0?null:s],n},useContext:$t,useEffect:h_,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Uc(4194308,4,p_.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Uc(4194308,4,n,s)},useInsertionEffect:function(n,s){Uc(4,2,n,s)},useMemo:function(n,s){var o=an();s=s===void 0?null:s;var u=n();if(ta){In(!0);try{n()}finally{In(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=an();if(o!==void 0){var f=o(s);if(ta){In(!0);try{o(s)}finally{In(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=M1.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=an();return n={current:n},s.memoizedState=n},useState:function(n){n=Ld(n);var s=n.queue,o=A_.bind(null,De,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:kd,useDeferredValue:function(n,s){var o=an();return Ud(o,n,s)},useTransition:function(){var n=Ld(!1);return n=E_.bind(null,De,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=De,f=an();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Pe&127)!==0||Yy(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,h_(Jy.bind(null,u,m,n),[n]),u.flags|=2048,Ja(9,{destroy:void 0},Xy.bind(null,u,m,o,s),null),o},useId:function(){var n=an(),s=it.identifierPrefix;if(Be){var o=Ci,u=xi;o=(u&~(1<<32-gt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Lc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=R1++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:zd,useFormState:a_,useActionState:a_,useOptimistic:function(n){var s=an();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bd.bind(null,De,!0,o),o.dispatch=s,[n,s]},useMemoCache:Od,useCacheRefresh:function(){return an().memoizedState=D1.bind(null,De)},useEffectEvent:function(n){var s=an(),o={impl:n};return s.memoizedState=o,function(){if(($e&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},qd={readContext:$t,use:Pc,useCallback:y_,useContext:$t,useEffect:Pd,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:__,useReducer:kc,useRef:c_,useState:function(){return kc(Zi)},useDebugValue:kd,useDeferredValue:function(n,s){var o=vt();return v_(o,et.memoizedState,n,s)},useTransition:function(){var n=kc(Zi)[0],s=vt().memoizedState;return[typeof n=="boolean"?n:wl(n),s]},useSyncExternalStore:Qy,useId:b_,useHostTransitionStatus:zd,useFormState:o_,useActionState:o_,useOptimistic:function(n,s){var o=vt();return e_(o,et,n,s)},useMemoCache:Od,useCacheRefresh:w_};qd.useEffectEvent=f_;var I_={readContext:$t,use:Pc,useCallback:y_,useContext:$t,useEffect:Pd,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:__,useReducer:Md,useRef:c_,useState:function(){return Md(Zi)},useDebugValue:kd,useDeferredValue:function(n,s){var o=vt();return et===null?Ud(o,n,s):v_(o,et.memoizedState,n,s)},useTransition:function(){var n=Md(Zi)[0],s=vt().memoizedState;return[typeof n=="boolean"?n:wl(n),s]},useSyncExternalStore:Qy,useId:b_,useHostTransitionStatus:zd,useFormState:u_,useActionState:u_,useOptimistic:function(n,s){var o=vt();return et!==null?e_(o,et,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Od,useCacheRefresh:w_};I_.useEffectEvent=f_;function Hd(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Fd={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Rn(),f=qr(u);f.payload=s,o!=null&&(f.callback=o),s=Hr(n,f,u),s!==null&&(mn(s,n,u),El(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Rn(),f=qr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Hr(n,f,u),s!==null&&(mn(s,n,u),El(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Rn(),u=qr(o);u.tag=2,s!=null&&(u.callback=s),s=Hr(n,u,o),s!==null&&(mn(s,n,o),El(s,n,o))}};function N_(n,s,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!fl(o,u)||!fl(f,m):!0}function O_(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Fd.enqueueReplaceState(s,s.state,null)}function na(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function D_(n){_c(n)}function M_(n){console.error(n)}function L_(n){_c(n)}function Bc(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function V_(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(n,s,o){return o=qr(o),o.tag=3,o.payload={element:null},o.callback=function(){Bc(n,s)},o}function P_(n){return n=qr(n),n.tag=3,n}function k_(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){V_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){V_(s,o,u),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function L1(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ha(s,o,f,!0),o=Sn.current,o!==null){switch(o.tag){case 31:case 13:return jn===null?Zc():o.alternate===null&&mt===0&&(mt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Cc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),gm(n,u,f)),!1;case 22:return o.flags|=65536,u===Cc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),gm(n,u,f)),!1}throw Error(r(435,o.tag))}return gm(n,u,f),Zc(),!1}if(Be)return s=Sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==cd&&(n=Error(r(422),{cause:u}),pl(Vn(n,o)))):(u!==cd&&(s=Error(r(423),{cause:u}),pl(Vn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Vn(u,o),f=Gd(n.stateNode,u,f),Td(n,f),mt!==4&&(mt=2)),!1;var m=Error(r(520),{cause:u});if(m=Vn(m,o),Ll===null?Ll=[m]:Ll.push(m),mt!==4&&(mt=2),s===null)return!0;u=Vn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Gd(o.stateNode,u,n),Td(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yr===null||!Yr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=P_(f),k_(f,n,o,u),Td(o,f),!1}o=o.return}while(o!==null);return!1}var $d=Error(r(461)),It=!1;function Kt(n,s,o,u){s.child=n===null?By(s,null,o,u):ea(s,n.child,o,u)}function U_(n,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Xs(s),u=xd(n,s,o,E,m,f),b=Cd(),n!==null&&!It?(Id(n,s,f),er(n,s,f)):(Be&&b&&ld(s),s.flags|=1,Kt(n,s,u,f),s.child)}function j_(n,s,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!sd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,z_(n,s,m,u,f)):(n=Sc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!em(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(E,u)&&n.ref===s.ref)return er(n,s,f)}return s.flags|=1,n=Qi(m,u),n.ref=s.ref,n.return=s,s.child=n}function z_(n,s,o,u,f){if(n!==null){var m=n.memoizedProps;if(fl(m,u)&&n.ref===s.ref)if(It=!1,s.pendingProps=u=m,em(n,f))(n.flags&131072)!==0&&(It=!0);else return s.lanes=n.lanes,er(n,s,f)}return Kd(n,s,o,u,f)}function B_(n,s,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return q_(n,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rc(s,m!==null?m.cachePool:null),m!==null?Fy(s,m):bd(),Gy(s);else return u=s.lanes=536870912,q_(n,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Rc(s,m.cachePool),Fy(s,m),Gr(),s.memoizedState=null):(n!==null&&Rc(s,null),bd(),Gr());return Kt(n,s,f,o),s.child}function xl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function q_(n,s,o,u,f){var m=yd();return m=m===null?null:{parent:xt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&Rc(s,null),bd(),Gy(s),n!==null&&Ha(n,s,u,!0),s.childLanes=f,null}function qc(n,s){return s=Fc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function H_(n,s,o){return ea(s,n.child,null,o),n=qc(s,s.pendingProps),n.flags|=2,bn(s),s.memoizedState=null,n}function V1(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Be){if(u.mode==="hidden")return n=qc(s,u),s.lanes=536870912,xl(null,n);if(Ad(s),(n=at)?(n=t0(n,Un),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:kr!==null?{id:xi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},o=Ry(n),o.return=s,s.child=o,Gt=s,at=null)):n=null,n===null)throw jr(s);return s.lanes=536870912,null}return qc(s,u)}var m=n.memoizedState;if(m!==null){var E=m.dehydrated;if(Ad(s),f)if(s.flags&256)s.flags&=-257,s=H_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(It||Ha(n,s,o,!1),f=(o&n.childLanes)!==0,It||f){if(u=it,u!==null&&(E=Qo(u,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,$s(n,E),mn(u,n,E),$d;Zc(),s=H_(n,s,o)}else n=m.treeContext,at=zn(E.nextSibling),Gt=s,Be=!0,Ur=null,Un=!1,n!==null&&Iy(s,n),s=qc(s,u),s.flags|=4096;return s}return n=Qi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Hc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Kd(n,s,o,u,f){return Xs(s),o=xd(n,s,o,u,void 0,f),u=Cd(),n!==null&&!It?(Id(n,s,f),er(n,s,f)):(Be&&u&&ld(s),s.flags|=1,Kt(n,s,o,f),s.child)}function F_(n,s,o,u,f,m){return Xs(s),s.updateQueue=null,o=Ky(s,u,o,f),$y(n),u=Cd(),n!==null&&!It?(Id(n,s,m),er(n,s,m)):(Be&&u&&ld(s),s.flags|=1,Kt(n,s,o,m),s.child)}function G_(n,s,o,u,f){if(Xs(s),s.stateNode===null){var m=ja,E=o.contextType;typeof E=="object"&&E!==null&&(m=$t(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Fd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},vd(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?$t(E):ja,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Hd(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Fd.enqueueReplaceState(m,m.state,null),Sl(s,u,m,f),Tl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var b=s.memoizedProps,L=na(o,b);m.props=L;var G=m.context,J=o.contextType;E=ja,typeof J=="object"&&J!==null&&(E=$t(J));var te=o.getDerivedStateFromProps;J=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||G!==E)&&O_(s,m,u,E),Br=!1;var $=s.memoizedState;m.state=$,Sl(s,u,m,f),Tl(),G=s.memoizedState,b||$!==G||Br?(typeof te=="function"&&(Hd(s,o,te,u),G=s.memoizedState),(L=Br||N_(s,o,L,u,$,G,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),m.props=u,m.state=G,m.context=E,u=L):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Ed(n,s),E=s.memoizedProps,J=na(o,E),m.props=J,te=s.pendingProps,$=m.context,G=o.contextType,L=ja,typeof G=="object"&&G!==null&&(L=$t(G)),b=o.getDerivedStateFromProps,(G=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==te||$!==L)&&O_(s,m,u,L),Br=!1,$=s.memoizedState,m.state=$,Sl(s,u,m,f),Tl();var Q=s.memoizedState;E!==te||$!==Q||Br||n!==null&&n.dependencies!==null&&wc(n.dependencies)?(typeof b=="function"&&(Hd(s,o,b,u),Q=s.memoizedState),(J=Br||N_(s,o,J,u,$,Q,L)||n!==null&&n.dependencies!==null&&wc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,L)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),m.props=u,m.state=Q,m.context=L,u=J):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,Hc(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=ea(s,n.child,null,f),s.child=ea(s,null,o,f)):Kt(n,s,o,f),s.memoizedState=m.state,n=s.child):n=er(n,s,f),n}function $_(n,s,o,u){return Qs(),s.flags|=256,Kt(n,s,o,u),s.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(n){return{baseLanes:n,cachePool:Vy()}}function Xd(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=An),n}function K_(n,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Be){if(f?Fr(s):Gr(),(n=at)?(n=t0(n,Un),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:kr!==null?{id:xi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},o=Ry(n),o.return=s,s.child=o,Gt=s,at=null)):n=null,n===null)throw jr(s);return Dm(n)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,f?(Gr(),f=s.mode,b=Fc({mode:"hidden",children:b},f),u=Ks(u,f,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=Yd(o),u.childLanes=Xd(n,E,o),s.memoizedState=Qd,xl(null,u)):(Fr(s),Jd(s,b))}var L=n.memoizedState;if(L!==null&&(b=L.dehydrated,b!==null)){if(m)s.flags&256?(Fr(s),s.flags&=-257,s=Wd(n,s,o)):s.memoizedState!==null?(Gr(),s.child=n.child,s.flags|=128,s=null):(Gr(),b=u.fallback,f=s.mode,u=Fc({mode:"visible",children:u.children},f),b=Ks(b,f,o,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,ea(s,n.child,null,o),u=s.child,u.memoizedState=Yd(o),u.childLanes=Xd(n,E,o),s.memoizedState=Qd,s=xl(null,u));else if(Fr(s),Dm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(r(419)),u.stack="",u.digest=E,pl({value:u,source:null,stack:null}),s=Wd(n,s,o)}else if(It||Ha(n,s,o,!1),E=(o&n.childLanes)!==0,It||E){if(E=it,E!==null&&(u=Qo(E,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,$s(n,u),mn(E,n,u),$d;Om(b)||Zc(),s=Wd(n,s,o)}else Om(b)?(s.flags|=192,s.child=n.child,s=null):(n=L.treeContext,at=zn(b.nextSibling),Gt=s,Be=!0,Ur=null,Un=!1,n!==null&&Iy(s,n),s=Jd(s,u.children),s.flags|=4096);return s}return f?(Gr(),b=u.fallback,f=s.mode,L=n.child,G=L.sibling,u=Qi(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,G!==null?b=Qi(G,b):(b=Ks(b,f,o,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,xl(null,u),u=s.child,b=n.child.memoizedState,b===null?b=Yd(o):(f=b.cachePool,f!==null?(L=xt._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=Vy(),b={baseLanes:b.baseLanes|o,cachePool:f}),u.memoizedState=b,u.childLanes=Xd(n,E,o),s.memoizedState=Qd,xl(n.child,u)):(Fr(s),o=n.child,n=o.sibling,o=Qi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Jd(n,s){return s=Fc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fc(n,s){return n=Tn(22,n,null,s),n.lanes=0,n}function Wd(n,s,o){return ea(s,n.child,null,o),n=Jd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Q_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),dd(n.return,s,o)}function Zd(n,s,o,u,f,m){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=m)}function Y_(n,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var E=_t.current,b=(E&2)!==0;if(b?(E=E&1|2,s.flags|=128):E&=1,ne(_t,E),Kt(n,s,u,o),u=Be?ml:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Q_(n,o,s);else if(n.tag===19)Q_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Dc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Zd(s,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Dc(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Zd(s,!0,o,null,m,u);break;case"together":Zd(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function er(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Qr|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ha(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Qi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Qi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function em(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&wc(n)))}function P1(n,s,o){switch(s.tag){case 3:pt(s,s.stateNode.containerInfo),zr(s,xt,n.memoizedState.cache),Qs();break;case 27:case 5:qi(s);break;case 4:pt(s,s.stateNode.containerInfo);break;case 10:zr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ad(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Fr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?K_(n,s,o):(Fr(s),n=er(n,s,o),n!==null?n.sibling:null);Fr(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ha(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Y_(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(_t,_t.current),u)break;return null;case 22:return s.lanes=0,B_(n,s,o,s.pendingProps);case 24:zr(s,xt,n.memoizedState.cache)}return er(n,s,o)}function X_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)It=!0;else{if(!em(n,o)&&(s.flags&128)===0)return It=!1,P1(n,s,o);It=(n.flags&131072)!==0}else It=!1,Be&&(s.flags&1048576)!==0&&Cy(s,ml,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ws(s.elementType),s.type=n,typeof n=="function")sd(n)?(u=na(n,u),s.tag=1,s=G_(null,s,n,u,o)):(s.tag=0,s=Kd(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===le){s.tag=11,s=U_(null,s,n,u,o);break e}else if(f===D){s.tag=14,s=j_(null,s,n,u,o);break e}}throw s=Te(n)||n,Error(r(306,s,""))}}return s;case 0:return Kd(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=na(u,s.pendingProps),G_(n,s,u,f,o);case 3:e:{if(pt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,Ed(n,s),Sl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,zr(s,xt,u),u!==m.cache&&md(s,[xt],o,!0),Tl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=$_(n,s,u,o);break e}else if(u!==f){f=Vn(Error(r(424)),s),pl(f),s=$_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=zn(n.firstChild),Gt=s,Be=!0,Ur=null,Un=!0,o=By(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Qs(),u===f){s=er(n,s,o);break e}Kt(n,s,u,o)}s=s.child}return s;case 26:return Hc(n,s),n===null?(o=o0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Be||(o=s.type,n=s.pendingProps,u=ah(Ae.current).createElement(o),u[wt]=s,u[Ut]=n,Qt(u,o,n),At(u),s.stateNode=u):s.memoizedState=o0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return qi(s),n===null&&Be&&(u=s.stateNode=r0(s.type,s.pendingProps,Ae.current),Gt=s,Un=!0,f=at,Zr(s.type)?(Mm=f,at=zn(u.firstChild)):at=f),Kt(n,s,s.pendingProps.children,o),Hc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Be&&((f=u=at)&&(u=fA(u,s.type,s.pendingProps,Un),u!==null?(s.stateNode=u,Gt=s,at=zn(u.firstChild),Un=!1,f=!0):f=!1),f||jr(s)),qi(s),f=s.type,m=s.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,Cm(f,m)?u=null:E!==null&&Cm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=xd(n,s,x1,null,null,o),ql._currentValue=f),Hc(n,s),Kt(n,s,u,o),s.child;case 6:return n===null&&Be&&((n=o=at)&&(o=dA(o,s.pendingProps,Un),o!==null?(s.stateNode=o,Gt=s,at=null,n=!0):n=!1),n||jr(s)),null;case 13:return K_(n,s,o);case 4:return pt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ea(s,null,u,o):Kt(n,s,u,o),s.child;case 11:return U_(n,s,s.type,s.pendingProps,o);case 7:return Kt(n,s,s.pendingProps,o),s.child;case 8:return Kt(n,s,s.pendingProps.children,o),s.child;case 12:return Kt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,zr(s,s.type,u.value),Kt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Xs(s),f=$t(f),u=u(f),s.flags|=1,Kt(n,s,u,o),s.child;case 14:return j_(n,s,s.type,s.pendingProps,o);case 15:return z_(n,s,s.type,s.pendingProps,o);case 19:return Y_(n,s,o);case 31:return V1(n,s,o);case 22:return B_(n,s,o,s.pendingProps);case 24:return Xs(s),u=$t(xt),n===null?(f=yd(),f===null&&(f=it,m=pd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},vd(s),zr(s,xt,f)):((n.lanes&o)!==0&&(Ed(n,s),Sl(s,null,null,o),Tl()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),zr(s,xt,u)):(u=m.cache,zr(s,xt,u),u!==f.cache&&md(s,[xt],o,!0))),Kt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function tr(n){n.flags|=4}function tm(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(bv())n.flags|=8192;else throw Zs=Cc,_d}else n.flags&=-16777217}function J_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!f0(s))if(bv())n.flags|=8192;else throw Zs=Cc,_d}function Gc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ju():536870912,n.lanes|=s,to|=s)}function Cl(n,s){if(!Be)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function k1(n,s,o){var u=s.pendingProps;switch(ud(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ji(xt),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(qa(s)?tr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hd())),ot(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(tr(s),m!==null?(ot(s),J_(s,m)):(ot(s),tm(s,f,null,u,o))):m?m!==n.memoizedState?(tr(s),ot(s),J_(s,m)):(ot(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&tr(s),ot(s),tm(s,f,n,u,o)),null;case 27:if(Hi(s),o=Ae.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&tr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}n=ue.current,qa(s)?Ny(s):(n=r0(f,u,o),s.stateNode=n,tr(s))}return ot(s),null;case 5:if(Hi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&tr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(m=ue.current,qa(s))Ny(s);else{var E=ah(Ae.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}m[wt]=s,m[Ut]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=m;e:switch(Qt(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&tr(s)}}return ot(s),tm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&tr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ae.current,qa(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[wt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Kv(n.nodeValue,o)),n||jr(s,!0)}else n=ah(n).createTextNode(u),n[wt]=s,s.stateNode=n}return ot(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=qa(s),o!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wt]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),n=!1}else o=hd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(bn(s),s):(bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=qa(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[wt]=s}else Qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=hd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(bn(s),s):(bn(s),null)}return bn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Gc(s,s.updateQueue),ot(s),null);case 4:return st(),n===null&&bm(s.stateNode.containerInfo),ot(s),null;case 10:return Ji(s.type),ot(s),null;case 19:if(H(_t),u=s.memoizedState,u===null)return ot(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)Cl(u,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Dc(n),m!==null){for(s.flags|=128,Cl(u,!1),n=m.updateQueue,s.updateQueue=n,Gc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Ay(o,n),o=o.sibling;return ne(_t,_t.current&1|2),Be&&Yi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&rn()>Xc&&(s.flags|=128,f=!0,Cl(u,!1),s.lanes=4194304)}else{if(!f)if(n=Dc(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Gc(s,n),Cl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Be)return ot(s),null}else 2*rn()-u.renderingStartTime>Xc&&o!==536870912&&(s.flags|=128,f=!0,Cl(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=rn(),n.sibling=null,o=_t.current,ne(_t,f?o&1|2:o&1),Be&&Yi(s,u.treeForkCount),n):(ot(s),null);case 22:case 23:return bn(s),wd(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),o=s.updateQueue,o!==null&&Gc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&H(Js),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ji(xt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function U1(n,s){switch(ud(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ji(xt),st(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Hi(s),null;case 31:if(s.memoizedState!==null){if(bn(s),s.alternate===null)throw Error(r(340));Qs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(bn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return H(_t),null;case 4:return st(),null;case 10:return Ji(s.type),null;case 22:case 23:return bn(s),wd(),n!==null&&H(Js),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ji(xt),null;case 25:return null;default:return null}}function W_(n,s){switch(ud(s),s.tag){case 3:Ji(xt),st();break;case 26:case 27:case 5:Hi(s);break;case 4:st();break;case 31:s.memoizedState!==null&&bn(s);break;case 13:bn(s);break;case 19:H(_t);break;case 10:Ji(s.type);break;case 22:case 23:bn(s),wd(),n!==null&&H(Js);break;case 24:Ji(xt)}}function Il(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){Je(s,s.return,b)}}function $r(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var L=o,G=b;try{G()}catch(J){Je(f,L,J)}}}u=u.next}while(u!==m)}}catch(J){Je(s,s.return,J)}}function Z_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{Hy(s,o)}catch(u){Je(n,n.return,u)}}}function ev(n,s,o){o.props=na(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Je(n,s,u)}}function Nl(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){Je(n,s,f)}}function Ii(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Je(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(n,s,f)}else o.current=null}function tv(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Je(n,n.return,f)}}function nm(n,s,o){try{var u=n.stateNode;aA(u,n.type,o,s),u[Ut]=s}catch(f){Je(n,n.return,f)}}function nv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Zr(n.type)||n.tag===4}function im(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Zr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Xn));else if(u!==4&&(u===27&&Zr(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(rm(n,s,o),n=n.sibling;n!==null;)rm(n,s,o),n=n.sibling}function $c(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Zr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for($c(n,s,o),n=n.sibling;n!==null;)$c(n,s,o),n=n.sibling}function iv(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qt(s,u,o),s[wt]=n,s[Ut]=o}catch(m){Je(n,n.return,m)}}var nr=!1,Nt=!1,sm=!1,rv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function j1(n,s){if(n=n.containerInfo,Rm=dh,n=gy(n),Wf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,b=-1,L=-1,G=0,J=0,te=n,$=null;t:for(;;){for(var Q;te!==o||f!==0&&te.nodeType!==3||(b=E+f),te!==m||u!==0&&te.nodeType!==3||(L=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(Q=te.firstChild)!==null;)$=te,te=Q;for(;;){if(te===n)break t;if($===o&&++G===f&&(b=E),$===m&&++J===u&&(L=E),(Q=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Q}o=b===-1||L===-1?null:{start:b,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(xm={focusedElem:n,selectionRange:o},dh=!1,zt=s;zt!==null;)if(s=zt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,zt=n;else for(;zt!==null;){switch(s=zt,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var me=na(o.type,f);n=u.getSnapshotBeforeUpdate(me,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){Je(o,o.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Nm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,zt=n;break}zt=s.return}}function sv(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:rr(n,o),u&4&&Il(5,o);break;case 1:if(rr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){Je(o,o.return,E)}else{var f=na(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(o,o.return,E)}}u&64&&Z_(o),u&512&&Nl(o,o.return);break;case 3:if(rr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Hy(n,s)}catch(E){Je(o,o.return,E)}}break;case 27:s===null&&u&4&&iv(o);case 26:case 5:rr(n,o),s===null&&u&4&&tv(o),u&512&&Nl(o,o.return);break;case 12:rr(n,o);break;case 31:rr(n,o),u&4&&lv(n,o);break;case 13:rr(n,o),u&4&&uv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Q1.bind(null,o),mA(n,o))));break;case 22:if(u=o.memoizedState!==null||nr,!u){s=s!==null&&s.memoizedState!==null||Nt,f=nr;var m=Nt;nr=u,(Nt=s)&&!m?sr(n,o,(o.subtreeFlags&8772)!==0):rr(n,o),nr=f,Nt=m}break;case 30:break;default:rr(n,o)}}function av(n){var s=n.alternate;s!==null&&(n.alternate=null,av(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Aa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,cn=!1;function ir(n,s,o){for(o=o.child;o!==null;)ov(n,s,o),o=o.sibling}function ov(n,s,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount($n,o)}catch{}switch(o.tag){case 26:Nt||Ii(o,s),ir(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||Ii(o,s);var u=ct,f=cn;Zr(o.type)&&(ct=o.stateNode,cn=!1),ir(n,s,o),jl(o.stateNode),ct=u,cn=f;break;case 5:Nt||Ii(o,s);case 6:if(u=ct,f=cn,ct=null,ir(n,s,o),ct=u,cn=f,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(m){Je(o,s,m)}else try{ct.removeChild(o.stateNode)}catch(m){Je(o,s,m)}break;case 18:ct!==null&&(cn?(n=ct,Zv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),uo(n)):Zv(ct,o.stateNode));break;case 4:u=ct,f=cn,ct=o.stateNode.containerInfo,cn=!0,ir(n,s,o),ct=u,cn=f;break;case 0:case 11:case 14:case 15:$r(2,o,s),Nt||$r(4,o,s),ir(n,s,o);break;case 1:Nt||(Ii(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ev(o,s,u)),ir(n,s,o);break;case 21:ir(n,s,o);break;case 22:Nt=(u=Nt)||o.memoizedState!==null,ir(n,s,o),Nt=u;break;default:ir(n,s,o)}}function lv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{uo(n)}catch(o){Je(s,s.return,o)}}}function uv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{uo(n)}catch(o){Je(s,s.return,o)}}function z1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new rv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new rv),s;default:throw Error(r(435,n.tag))}}function Kc(n,s){var o=z1(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=Y1.bind(null,n,u);u.then(f,f)}})}function hn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Zr(b.type)){ct=b.stateNode,cn=!1;break e}break;case 5:ct=b.stateNode,cn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,cn=!0;break e}b=b.return}if(ct===null)throw Error(r(160));ov(m,E,f),ct=null,cn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cv(s,n),s=s.sibling}var ni=null;function cv(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:hn(s,n),fn(n),u&4&&($r(3,n,n.return),Il(3,n),$r(5,n,n.return));break;case 1:hn(s,n),fn(n),u&512&&(Nt||o===null||Ii(o,o.return)),u&64&&nr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ni;if(hn(s,n),fn(n),u&512&&(Nt||o===null||Ii(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[pi]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Qt(m,u,o),m[wt]=n,At(m),u=m;break e;case"link":var E=c0("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(m=E[b],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}m=f.createElement(u),Qt(m,u,o),f.head.appendChild(m);break;case"meta":if(E=c0("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(m=E[b],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}m=f.createElement(u),Qt(m,u,o),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[wt]=n,At(m),u=m}n.stateNode=u}else h0(f,n.type,n.stateNode);else n.stateNode=u0(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?h0(f,n.type,n.stateNode):u0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&nm(n,n.memoizedProps,o.memoizedProps)}break;case 27:hn(s,n),fn(n),u&512&&(Nt||o===null||Ii(o,o.return)),o!==null&&u&4&&nm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(hn(s,n),fn(n),u&512&&(Nt||o===null||Ii(o,o.return)),n.flags&32){f=n.stateNode;try{un(f,"")}catch(me){Je(n,n.return,me)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,nm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(sm=!0);break;case 6:if(hn(s,n),fn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(me){Je(n,n.return,me)}}break;case 3:if(uh=null,f=ni,ni=oh(s.containerInfo),hn(s,n),ni=f,fn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(me){Je(n,n.return,me)}sm&&(sm=!1,hv(n));break;case 4:u=ni,ni=oh(n.stateNode.containerInfo),hn(s,n),fn(n),ni=u;break;case 12:hn(s,n),fn(n);break;case 31:hn(s,n),fn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Kc(n,u)));break;case 13:hn(s,n),fn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yc=rn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Kc(n,u)));break;case 22:f=n.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,G=nr,J=Nt;if(nr=G||f,Nt=J||L,hn(s,n),Nt=J,nr=G,fn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||L||nr||Nt||ia(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(m=L.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=L.stateNode;var te=L.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(me){Je(L,L.return,me)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(me){Je(L,L.return,me)}}}else if(s.tag===18){if(o===null){L=s;try{var Q=L.stateNode;f?e0(Q,!0):e0(L.stateNode,!1)}catch(me){Je(L,L.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Kc(n,o))));break;case 19:hn(s,n),fn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Kc(n,u)));break;case 30:break;case 21:break;default:hn(s,n),fn(n)}}function fn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(nv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=im(n);$c(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(un(E,""),o.flags&=-33);var b=im(n);$c(n,b,E);break;case 3:case 4:var L=o.stateNode.containerInfo,G=im(n);rm(n,G,L);break;default:throw Error(r(161))}}catch(J){Je(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function hv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;hv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function rr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)sv(n,s.alternate,s),s=s.sibling}function ia(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:$r(4,s,s.return),ia(s);break;case 1:Ii(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ev(s,s.return,o),ia(s);break;case 27:jl(s.stateNode);case 26:case 5:Ii(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}n=n.sibling}}function sr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:sr(f,m,o),Il(4,m);break;case 1:if(sr(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Je(u,u.return,G)}if(u=m,f=u.updateQueue,f!==null){var b=u.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)qy(L[f],b)}catch(G){Je(u,u.return,G)}}o&&E&64&&Z_(m),Nl(m,m.return);break;case 27:iv(m);case 26:case 5:sr(f,m,o),o&&u===null&&E&4&&tv(m),Nl(m,m.return);break;case 12:sr(f,m,o);break;case 31:sr(f,m,o),o&&E&4&&lv(f,m);break;case 13:sr(f,m,o),o&&E&4&&uv(f,m);break;case 22:m.memoizedState===null&&sr(f,m,o),Nl(m,m.return);break;case 30:break;default:sr(f,m,o)}s=s.sibling}}function am(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&gl(o))}function om(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&gl(n))}function ii(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fv(n,s,o,u),s=s.sibling}function fv(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ii(n,s,o,u),f&2048&&Il(9,s);break;case 1:ii(n,s,o,u);break;case 3:ii(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){ii(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,E=m.id,b=m.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){Je(s,s.return,L)}}else ii(n,s,o,u);break;case 31:ii(n,s,o,u);break;case 13:ii(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?ii(n,s,o,u):Ol(n,s):m._visibility&2?ii(n,s,o,u):(m._visibility|=2,Wa(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&am(E,s);break;case 24:ii(n,s,o,u),f&2048&&om(s.alternate,s);break;default:ii(n,s,o,u)}}function Wa(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,E=s,b=o,L=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:Wa(m,E,b,L,f),Il(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Wa(m,E,b,L,f):Ol(m,E):(J._visibility|=2,Wa(m,E,b,L,f)),f&&G&2048&&am(E.alternate,E);break;case 24:Wa(m,E,b,L,f),f&&G&2048&&om(E.alternate,E);break;default:Wa(m,E,b,L,f)}s=s.sibling}}function Ol(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Ol(o,u),f&2048&&am(u.alternate,u);break;case 24:Ol(o,u),f&2048&&om(u.alternate,u);break;default:Ol(o,u)}s=s.sibling}}var Dl=8192;function Za(n,s,o){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)dv(n,s,o),n=n.sibling}function dv(n,s,o){switch(n.tag){case 26:Za(n,s,o),n.flags&Dl&&n.memoizedState!==null&&RA(o,ni,n.memoizedState,n.memoizedProps);break;case 5:Za(n,s,o);break;case 3:case 4:var u=ni;ni=oh(n.stateNode.containerInfo),Za(n,s,o),ni=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Dl,Dl=16777216,Za(n,s,o),Dl=u):Za(n,s,o));break;default:Za(n,s,o)}}function mv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ml(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];zt=u,gv(u,n)}mv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&$r(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Qc(n)):Ml(n);break;default:Ml(n)}}function Qc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];zt=u,gv(u,n)}mv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:$r(8,s,s.return),Qc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Qc(s));break;default:Qc(s)}n=n.sibling}}function gv(n,s){for(;zt!==null;){var o=zt;switch(o.tag){case 0:case 11:case 15:$r(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,zt=u;else e:for(o=n;zt!==null;){u=zt;var f=u.sibling,m=u.return;if(av(u),u===o){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var B1={getCacheForType:function(n){var s=$t(xt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return $t(xt).controller.signal}},q1=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Le=null,Pe=0,Xe=0,wn=null,Kr=!1,eo=!1,lm=!1,ar=0,mt=0,Qr=0,ra=0,um=0,An=0,to=0,Ll=null,dn=null,cm=!1,Yc=0,yv=0,Xc=1/0,Jc=null,Yr=null,Vt=0,Xr=null,no=null,or=0,hm=0,fm=null,_v=null,Vl=0,dm=null;function Rn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:Y.T!==null?vm():Wu()}function vv(){if(An===0)if((Pe&536870912)===0||Be){var n=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),An=n}else An=536870912;return n=Sn.current,n!==null&&(n.flags|=32),An}function mn(n,s,o){(n===it&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(io(n,0),Jr(n,Pe,An,!1)),Ds(n,o),(($e&2)===0||n!==it)&&(n===it&&(($e&2)===0&&(ra|=o),mt===4&&Jr(n,Pe,An,!1)),Ni(n))}function Ev(n,s,o){if(($e&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||Kn(n,s),f=u?G1(n,s):pm(n,s,!0),m=u;do{if(f===0){eo&&!u&&Jr(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!H1(o)){f=pm(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;f=Ll;var L=b.current.memoizedState.isDehydrated;if(L&&(io(b,E).flags|=256),E=pm(b,E,!1),E!==2){if(lm&&!L){b.errorRecoveryDisabledLanes|=m,ra|=m,f=4;break e}m=dn,dn=f,m!==null&&(dn===null?dn=m:dn.push.apply(dn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){io(n,0),Jr(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Jr(u,s,An,!Kr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Yc+300-rn(),10<f)){if(Jr(u,s,An,!Kr),fi(u,0,!0)!==0)break e;or=s,u.timeoutHandle=Jv(Tv.bind(null,u,o,dn,Jc,cm,s,An,ra,to,Kr,m,"Throttled",-0,0),f);break e}Tv(u,o,dn,Jc,cm,s,An,ra,to,Kr,m,null,-0,0)}}break}while(!0);Ni(n)}function Tv(n,s,o,u,f,m,E,b,L,G,J,te,$,Q){if(n.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},dv(s,m,te);var me=(m&62914560)===m?Yc-rn():(m&4194048)===m?yv-rn():0;if(me=xA(te,me),me!==null){or=m,n.cancelPendingCommit=me(Iv.bind(null,n,s,m,o,u,f,E,b,L,J,te,null,$,Q)),Jr(n,m,E,!G);return}}Iv(n,s,m,o,u,f,E,b,L)}function H1(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!En(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jr(n,s,o,u){s&=~um,s&=~ra,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-gt(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Ms(n,o,s)}function Wc(){return($e&6)===0?(Pl(0),!1):!0}function mm(){if(Le!==null){if(Xe===0)var n=Le.return;else n=Le,Xi=Ys=null,Nd(n),Ka=null,_l=0,n=Le;for(;n!==null;)W_(n.alternate,n),n=n.return;Le=null}}function io(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,uA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),or=0,mm(),it=n,Le=o=Qi(n.current,null),Pe=s,Xe=0,wn=null,Kr=!1,eo=Kn(n,s),lm=!1,to=An=um=ra=Qr=mt=0,dn=Ll=null,cm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-gt(u),m=1<<f;s|=n[f],u&=~m}return ar=s,vc(),o}function Sv(n,s){De=null,Y.H=Rl,s===$a||s===xc?(s=Uy(),Xe=3):s===_d?(s=Uy(),Xe=4):Xe=s===$d?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Le===null&&(mt=1,Bc(n,Vn(s,n.current)))}function bv(){var n=Sn.current;return n===null?!0:(Pe&4194048)===Pe?jn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?n===jn:!1}function wv(){var n=Y.H;return Y.H=Rl,n===null?Rl:n}function Av(){var n=Y.A;return Y.A=B1,n}function Zc(){mt=4,Kr||(Pe&4194048)!==Pe&&Sn.current!==null||(eo=!0),(Qr&134217727)===0&&(ra&134217727)===0||it===null||Jr(it,Pe,An,!1)}function pm(n,s,o){var u=$e;$e|=2;var f=wv(),m=Av();(it!==n||Pe!==s)&&(Jc=null,io(n,s)),s=!1;var E=mt;e:do try{if(Xe!==0&&Le!==null){var b=Le,L=wn;switch(Xe){case 8:mm(),E=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(s=!0);var G=Xe;if(Xe=0,wn=null,ro(n,b,L,G),o&&eo){E=0;break e}break;default:G=Xe,Xe=0,wn=null,ro(n,b,L,G)}}F1(),E=mt;break}catch(J){Sv(n,J)}while(!0);return s&&n.shellSuspendCounter++,Xi=Ys=null,$e=u,Y.H=f,Y.A=m,Le===null&&(it=null,Pe=0,vc()),E}function F1(){for(;Le!==null;)Rv(Le)}function G1(n,s){var o=$e;$e|=2;var u=wv(),f=Av();it!==n||Pe!==s?(Jc=null,Xc=rn()+500,io(n,s)):eo=Kn(n,s);e:do try{if(Xe!==0&&Le!==null){s=Le;var m=wn;t:switch(Xe){case 1:Xe=0,wn=null,ro(n,s,m,1);break;case 2:case 9:if(Py(m)){Xe=0,wn=null,xv(s);break}s=function(){Xe!==2&&Xe!==9||it!==n||(Xe=7),Ni(n)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Py(m)?(Xe=0,wn=null,xv(s)):(Xe=0,wn=null,ro(n,s,m,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var b=Le;if(E?f0(E):b.stateNode.complete){Xe=0,wn=null;var L=b.sibling;if(L!==null)Le=L;else{var G=b.return;G!==null?(Le=G,eh(G)):Le=null}break t}}Xe=0,wn=null,ro(n,s,m,5);break;case 6:Xe=0,wn=null,ro(n,s,m,6);break;case 8:mm(),mt=6;break e;default:throw Error(r(462))}}$1();break}catch(J){Sv(n,J)}while(!0);return Xi=Ys=null,Y.H=u,Y.A=f,$e=o,Le!==null?0:(it=null,Pe=0,vc(),mt)}function $1(){for(;Le!==null&&!Gf();)Rv(Le)}function Rv(n){var s=X_(n.alternate,n,ar);n.memoizedProps=n.pendingProps,s===null?eh(n):Le=s}function xv(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=F_(o,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=F_(o,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Nd(s);default:W_(o,s),s=Le=Ay(s,ar),s=X_(o,s,ar)}n.memoizedProps=n.pendingProps,s===null?eh(n):Le=s}function ro(n,s,o,u){Xi=Ys=null,Nd(s),Ka=null,_l=0;var f=s.return;try{if(L1(n,f,s,o,Pe)){mt=1,Bc(n,Vn(o,n.current)),Le=null;return}}catch(m){if(f!==null)throw Le=f,m;mt=1,Bc(n,Vn(o,n.current)),Le=null;return}s.flags&32768?(Be||u===1?n=!0:eo||(Pe&536870912)!==0?n=!1:(Kr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cv(s,n)):eh(s)}function eh(n){var s=n;do{if((s.flags&32768)!==0){Cv(s,Kr);return}n=s.return;var o=k1(s.alternate,s,ar);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=n}while(s!==null);mt===0&&(mt=5)}function Cv(n,s){do{var o=U1(n.alternate,n);if(o!==null){o.flags&=32767,Le=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Le=n;return}Le=n=o}while(n!==null);mt=6,Le=null}function Iv(n,s,o,u,f,m,E,b,L){n.cancelPendingCommit=null;do th();while(Vt!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=id,Qf(n,o,m,E,b,L),n===it&&(Le=it=null,Pe=0),no=s,Xr=n,or=o,hm=m,fm=f,_v=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,X1(xr,function(){return Lv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=se.p,se.p=2,E=$e,$e|=4;try{j1(n,s,o)}finally{$e=E,se.p=f,Y.T=u}}Vt=1,Nv(),Ov(),Dv()}}function Nv(){if(Vt===1){Vt=0;var n=Xr,s=no,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=se.p;se.p=2;var f=$e;$e|=4;try{cv(s,n);var m=xm,E=gy(n.containerInfo),b=m.focusedElem,L=m.selectionRange;if(E!==b&&b&&b.ownerDocument&&py(b.ownerDocument.documentElement,b)){if(L!==null&&Wf(b)){var G=L.start,J=L.end;if(J===void 0&&(J=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(J,b.value.length);else{var te=b.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Q=$.getSelection(),me=b.textContent.length,Ee=Math.min(L.start,me),nt=L.end===void 0?Ee:Math.min(L.end,me);!Q.extend&&Ee>nt&&(E=nt,nt=Ee,Ee=E);var z=my(b,Ee),P=my(b,nt);if(z&&P&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var F=te.createRange();F.setStart(z.node,z.offset),Q.removeAllRanges(),Ee>nt?(Q.addRange(F),Q.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),Q.addRange(F))}}}}for(te=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var Z=te[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}dh=!!Rm,xm=Rm=null}finally{$e=f,se.p=u,Y.T=o}}n.current=s,Vt=2}}function Ov(){if(Vt===2){Vt=0;var n=Xr,s=no,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=se.p;se.p=2;var f=$e;$e|=4;try{sv(n,s.alternate,s)}finally{$e=f,se.p=u,Y.T=o}}Vt=3}}function Dv(){if(Vt===4||Vt===3){Vt=0,Gu();var n=Xr,s=no,o=or,u=_v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Vt=5:(Vt=0,no=Xr=null,Mv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Yr=null),Fi(o),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Y.T,f=se.p,se.p=2,Y.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];m(b.value,{componentStack:b.stack})}}finally{Y.T=s,se.p=f}}(or&3)!==0&&th(),Ni(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===dm?Vl++:(Vl=0,dm=n):Vl=0,Pl(0)}}function Mv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,gl(s)))}function th(){return Nv(),Ov(),Dv(),Lv()}function Lv(){if(Vt!==5)return!1;var n=Xr,s=hm;hm=0;var o=Fi(or),u=Y.T,f=se.p;try{se.p=32>o?32:o,Y.T=null,o=fm,fm=null;var m=Xr,E=or;if(Vt=0,no=Xr=null,or=0,($e&6)!==0)throw Error(r(331));var b=$e;if($e|=4,pv(m.current),fv(m,m.current,E,o),$e=b,Pl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot($n,m)}catch{}return!0}finally{se.p=f,Y.T=u,Mv(n,s)}}function Vv(n,s,o){s=Vn(o,s),s=Gd(n.stateNode,s,2),n=Hr(n,s,2),n!==null&&(Ds(n,2),Ni(n))}function Je(n,s,o){if(n.tag===3)Vv(n,n,o);else for(;s!==null;){if(s.tag===3){Vv(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yr===null||!Yr.has(u))){n=Vn(o,n),o=P_(2),u=Hr(s,o,2),u!==null&&(k_(o,u,s,n),Ds(u,2),Ni(u));break}}s=s.return}}function gm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new q1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(lm=!0,f.add(o),n=K1.bind(null,n,s,o),s.then(n,n))}function K1(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,it===n&&(Pe&o)===o&&(mt===4||mt===3&&(Pe&62914560)===Pe&&300>rn()-Yc?($e&2)===0&&io(n,0):um|=o,to===Pe&&(to=0)),Ni(n)}function Pv(n,s){s===0&&(s=Ju()),n=$s(n,s),n!==null&&(Ds(n,s),Ni(n))}function Q1(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Pv(n,o)}function Y1(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Pv(n,o)}function X1(n,s){return Lt(n,s)}var nh=null,so=null,ym=!1,ih=!1,_m=!1,Wr=0;function Ni(n){n!==so&&n.next===null&&(so===null?nh=so=n:so=so.next=n),ih=!0,ym||(ym=!0,W1())}function Pl(n,s){if(!_m&&ih){_m=!0;do for(var o=!1,u=nh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-gt(42|n)+1)-1,m&=f&~(E&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,zv(u,m))}else m=Pe,m=fi(u,u===it?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Kn(u,m)||(o=!0,zv(u,m));u=u.next}while(o);_m=!1}}function J1(){kv()}function kv(){ih=ym=!1;var n=0;Wr!==0&&lA()&&(n=Wr);for(var s=rn(),o=null,u=nh;u!==null;){var f=u.next,m=Uv(u,s);m===0?(u.next=null,o===null?nh=f:o.next=f,f===null&&(so=o)):(o=u,(n!==0||(m&3)!==0)&&(ih=!0)),u=f}Vt!==0&&Vt!==5||Pl(n),Wr!==0&&(Wr=0)}function Uv(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-gt(m),b=1<<E,L=f[E];L===-1?((b&o)===0||(b&u)!==0)&&(f[E]=Kf(b,s)):L<=s&&(n.expiredLanes|=b),m&=~b}if(s=it,o=Pe,o=fi(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Rr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Kn(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Rr(u),Fi(o)){case 2:case 8:o=$o;break;case 32:o=xr;break;case 268435456:o=$u;break;default:o=xr}return u=jv.bind(null,n),o=Lt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Rr(u),n.callbackPriority=2,n.callbackNode=null,2}function jv(n,s){if(Vt!==0&&Vt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(th()&&n.callbackNode!==o)return null;var u=Pe;return u=fi(n,n===it?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ev(n,u,s),Uv(n,rn()),n.callbackNode!=null&&n.callbackNode===o?jv.bind(null,n):null)}function zv(n,s){if(th())return null;Ev(n,s,!0)}function W1(){cA(function(){($e&6)!==0?Lt(Go,J1):kv()})}function vm(){if(Wr===0){var n=Fa;n===0&&(n=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Wr=n}return Wr}function Bv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ia(""+n)}function qv(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Z1(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=Bv((f[Ut]||null).action),E=u.submitter;E&&(s=(s=E[Ut]||null)?Bv(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var b=new bi("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wr!==0){var L=E?qv(f,E):new FormData(f);jd(o,{pending:!0,data:L,method:f.method,action:m},null,L)}}else typeof m=="function"&&(b.preventDefault(),L=E?qv(f,E):new FormData(f),jd(o,{pending:!0,data:L,method:f.method,action:m},m,L))},currentTarget:f}]})}}for(var Em=0;Em<nd.length;Em++){var Tm=nd[Em],eA=Tm.toLowerCase(),tA=Tm[0].toUpperCase()+Tm.slice(1);ti(eA,"on"+tA)}ti(vy,"onAnimationEnd"),ti(Ey,"onAnimationIteration"),ti(Ty,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(y1,"onTransitionRun"),ti(_1,"onTransitionStart"),ti(v1,"onTransitionCancel"),ti(Sy,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Hv(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],L=b.instance,G=b.currentTarget;if(b=b.listener,L!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(J){_c(J)}f.currentTarget=null,m=L}else for(E=0;E<u.length;E++){if(b=u[E],L=b.instance,G=b.currentTarget,b=b.listener,L!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(J){_c(J)}f.currentTarget=null,m=L}}}}function Ve(n,s){var o=s[wa];o===void 0&&(o=s[wa]=new Set);var u=n+"__bubble";o.has(u)||(Fv(s,n,2,!1),o.add(u))}function Sm(n,s,o){var u=0;s&&(u|=4),Fv(o,n,u,s)}var rh="_reactListening"+Math.random().toString(36).slice(2);function bm(n){if(!n[rh]){n[rh]=!0,Yo.forEach(function(o){o!=="selectionchange"&&(nA.has(o)||Sm(o,!1,n),Sm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[rh]||(s[rh]=!0,Sm("selectionchange",!1,s))}}function Fv(n,s,o,u){switch(v0(s)){case 2:var f=NA;break;case 8:f=OA;break;default:f=Um}o=f.bind(null,s,o,n),f=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function wm(n,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=gi(b),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){u=m=E;continue e}b=b.parentNode}}u=u.return}Mr(function(){var G=m,J=On(o),te=[];e:{var $=by.get(n);if($!==void 0){var Q=bi,me=n;switch(n){case"keypress":if(zs(o)===0)break e;case"keydown":case"keyup":Q=pc;break;case"focusin":me="focus",Q=qs;break;case"focusout":me="blur",Q=qs;break;case"beforeblur":case"afterblur":Q=qs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case vy:case Ey:case Ty:Q=lc;break;case Sy:Q=w;break;case"scroll":case"scrollend":Q=ol;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ki;break;case"toggle":case"beforetoggle":Q=Oe}var Ee=(s&4)!==0,nt=!Ee&&(n==="scroll"||n==="scrollend"),z=Ee?$!==null?$+"Capture":null:$;Ee=[];for(var P=G,F;P!==null;){var Z=P;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||z===null||(Z=Jn(P,z),Z!=null&&Ee.push(Ul(P,Z,F))),nt)break;P=P.return}0<Ee.length&&($=new Q($,me,null,o,J),te.push({event:$,listeners:Ee}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&o!==rl&&(me=o.relatedTarget||o.fromElement)&&(gi(me)||me[mi]))break e;if((Q||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(me=o.relatedTarget||o.toElement,Q=G,me=me?gi(me):null,me!==null&&(nt=l(me),Ee=me.tag,me!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(Q=null,me=G),Q!==me)){if(Ee=ll,Z="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=Ki,Z="onPointerLeave",z="onPointerEnter",P="pointer"),nt=Q==null?$:_n(Q),F=me==null?$:_n(me),$=new Ee(Z,P+"leave",Q,o,J),$.target=nt,$.relatedTarget=F,Z=null,gi(J)===G&&(Ee=new Ee(z,P+"enter",me,o,J),Ee.target=F,Ee.relatedTarget=nt,Z=Ee),nt=Z,Q&&me)t:{for(Ee=iA,z=Q,P=me,F=0,Z=z;Z;Z=Ee(Z))F++;Z=0;for(var ye=P;ye;ye=Ee(ye))Z++;for(;0<F-Z;)z=Ee(z),F--;for(;0<Z-F;)P=Ee(P),Z--;for(;F--;){if(z===P||P!==null&&z===P.alternate){Ee=z;break t}z=Ee(z),P=Ee(P)}Ee=null}else Ee=null;Q!==null&&Gv(te,$,Q,Ee,!1),me!==null&&nt!==null&&Gv(te,nt,me,Ee,!0)}}e:{if($=G?_n(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var He=ly;else if(ay($))if(uy)He=m1;else{He=f1;var pe=h1}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Ca(G.elementType)&&(He=ly):He=d1;if(He&&(He=He(n,G))){oy(te,He,o,J);break e}pe&&pe(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&tl($,"number",$.value)}switch(pe=G?_n(G):window,n){case"focusin":(ay(pe)||pe.contentEditable==="true")&&(Pa=pe,Zf=G,dl=null);break;case"focusout":dl=Zf=Pa=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,yy(te,o,J);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":yy(te,o,J)}var Me;if(Ge)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Va?Hs(n,o)&&(ke="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Ri&&o.locale!=="ko"&&(Va||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Va&&(Me=al()):(Si=J,sl="value"in Si?Si.value:Si.textContent,Va=!0)),pe=sh(G,ke),0<pe.length&&(ke=new Ai(ke,n,null,o,J),te.push({event:ke,listeners:pe}),Me?ke.data=Me:(Me=La(o),Me!==null&&(ke.data=Me)))),(Me=Mn?o1(n,o):l1(n,o))&&(ke=sh(G,"onBeforeInput"),0<ke.length&&(pe=new Ai("onBeforeInput","beforeinput",null,o,J),te.push({event:pe,listeners:ke}),pe.data=Me)),Z1(te,n,G,o,J)}Hv(te,s)})}function Ul(n,s,o){return{instance:n,listener:s,currentTarget:o}}function sh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Jn(n,o),f!=null&&u.unshift(Ul(n,f,m)),f=Jn(n,s),f!=null&&u.push(Ul(n,f,m))),n.tag===3)return u;n=n.return}return[]}function iA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Gv(n,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var b=o,L=b.alternate,G=b.stateNode;if(b=b.tag,L!==null&&L===u)break;b!==5&&b!==26&&b!==27||G===null||(L=G,f?(G=Jn(o,m),G!=null&&E.unshift(Ul(o,G,L))):f||(G=Jn(o,m),G!=null&&E.push(Ul(o,G,L)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function $v(n){return(typeof n=="string"?n:""+n).replace(rA,`
`).replace(sA,"")}function Kv(n,s){return s=$v(s),$v(n)===s}function tt(n,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||un(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&un(n,""+u);break;case"className":vn(n,"class",u);break;case"tabIndex":vn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(n,o,u);break;case"style":il(n,u,m);break;case"data":if(s!=="object"){vn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ia(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&tt(n,s,"name",f.name,f,null),tt(n,s,"formEncType",f.formEncType,f,null),tt(n,s,"formMethod",f.formMethod,f,null),tt(n,s,"formTarget",f.formTarget,f,null)):(tt(n,s,"encType",f.encType,f,null),tt(n,s,"method",f.method,f,null),tt(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ia(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Xn);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ia(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ra(n,"popover",u);break;case"xlinkActuate":Rt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ra(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sc.get(o)||o,Ra(n,o,u))}}function Am(n,s,o,u,f,m){switch(o){case"style":il(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?un(n,u):(typeof u=="number"||typeof u=="bigint")&&un(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=n[Ut]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ra(n,o,u)}}}function Qt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(n,s,m,E,o,null)}}f&&tt(n,s,"srcSet",o.srcSet,o,null),u&&tt(n,s,"src",o.src,o,null);return;case"input":Ve("invalid",n);var b=m=E=f=null,L=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":E=J;break;case"checked":L=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:tt(n,s,u,J,o,null)}}nc(n,m,b,L,G,E,f,!1);return;case"select":Ve("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:tt(n,s,f,b,o,null)}s=m,o=E,n.multiple=!!u,s!=null?Ir(n,!!u,s,!1):o!=null&&Ir(n,!!u,o,!0);return;case"textarea":Ve("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:tt(n,s,E,b,o,null)}Nr(n,u,f,m);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(n,s,L,u,o,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<kl.length;u++)Ve(kl[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(n,s,G,u,o,null)}return;default:if(Ca(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Am(n,s,J,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&tt(n,s,b,u,o,null))}function aA(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,b=null,L=null,G=null,J=null;for(Q in o){var te=o[Q];if(o.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":L=te;default:u.hasOwnProperty(Q)||tt(n,s,Q,null,u,te)}}for(var $ in u){var Q=u[$];if(te=o[$],u.hasOwnProperty($)&&(Q!=null||te!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==te&&tt(n,s,$,Q,u,te)}}xa(n,E,b,L,G,J,m,f);return;case"select":Q=E=b=$=null;for(m in o)if(L=o[m],o.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":Q=L;default:u.hasOwnProperty(m)||tt(n,s,m,null,u,L)}for(f in u)if(m=u[f],L=o[f],u.hasOwnProperty(f)&&(m!=null||L!=null))switch(f){case"value":$=m;break;case"defaultValue":b=m;break;case"multiple":E=m;default:m!==L&&tt(n,s,f,m,u,L)}s=b,o=E,u=Q,$!=null?Ir(n,!!o,$,!1):!!u!=!!o&&(s!=null?Ir(n,!!o,s,!0):Ir(n,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(n,s,b,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&tt(n,s,E,f,u,m)}ic(n,$,Q);return;case"option":for(var me in o)if($=o[me],o.hasOwnProperty(me)&&$!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:tt(n,s,me,null,u,$)}for(L in u)if($=u[L],Q=o[L],u.hasOwnProperty(L)&&$!==Q&&($!=null||Q!=null))switch(L){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:tt(n,s,L,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)$=o[Ee],o.hasOwnProperty(Ee)&&$!=null&&!u.hasOwnProperty(Ee)&&tt(n,s,Ee,null,u,$);for(G in u)if($=u[G],Q=o[G],u.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:tt(n,s,G,$,u,Q)}return;default:if(Ca(s)){for(var nt in o)$=o[nt],o.hasOwnProperty(nt)&&$!==void 0&&!u.hasOwnProperty(nt)&&Am(n,s,nt,void 0,u,$);for(J in u)$=u[J],Q=o[J],!u.hasOwnProperty(J)||$===Q||$===void 0&&Q===void 0||Am(n,s,J,$,u,Q);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&tt(n,s,z,null,u,$);for(te in u)$=u[te],Q=o[te],!u.hasOwnProperty(te)||$===Q||$==null&&Q==null||tt(n,s,te,$,u,Q)}function Qv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,E=f.initiatorType,b=f.duration;if(m&&b&&Qv(E)){for(E=0,b=f.responseEnd,u+=1;u<o.length;u++){var L=o[u],G=L.startTime;if(G>b)break;var J=L.transferSize,te=L.initiatorType;J&&Qv(te)&&(L=L.responseEnd,E+=J*(L<b?1:(b-G)/(L-G)))}if(--u,s+=8*(m+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Rm=null,xm=null;function ah(n){return n.nodeType===9?n:n.ownerDocument}function Yv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Cm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Im=null;function lA(){var n=window.event;return n&&n.type==="popstate"?n===Im?!1:(Im=n,!0):(Im=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(n){return Wv.resolve(null).then(n).catch(hA)}:Jv;function hA(n){setTimeout(function(){throw n})}function Zr(n){return n==="head"}function Zv(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),uo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")jl(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,jl(o);for(var m=o.firstChild;m;){var E=m.nextSibling,b=m.nodeName;m[pi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&jl(n.ownerDocument.body);o=f}while(o);uo(s)}function e0(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Nm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Nm(o),Aa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function fA(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[pi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=zn(n.nextSibling),n===null)break}return null}function dA(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=zn(n.nextSibling),n===null))return null;return n}function t0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=zn(n.nextSibling),n===null))return null;return n}function Om(n){return n.data==="$?"||n.data==="$~"}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function mA(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function zn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Mm=null;function n0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return zn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function i0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function r0(n,s,o){switch(s=ah(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function jl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Aa(n)}var Bn=new Map,s0=new Set;function oh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var lr=se.d;se.d={f:pA,r:gA,D:yA,C:_A,L:vA,m:EA,X:SA,S:TA,M:bA};function pA(){var n=lr.f(),s=Wc();return n||s}function gA(n){var s=Nn(n);s!==null&&s.tag===5&&s.type==="form"?S_(s):lr.r(n)}var ao=typeof document>"u"?null:document;function a0(n,s,o){var u=ao;if(u&&typeof s=="string"&&s){var f=ln(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),s0.has(f)||(s0.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Qt(s,"link",n),At(s),u.head.appendChild(s)))}}function yA(n){lr.D(n),a0("dns-prefetch",n,null)}function _A(n,s){lr.C(n,s),a0("preconnect",n,s)}function vA(n,s,o){lr.L(n,s,o);var u=ao;if(u&&n&&s){var f='link[rel="preload"][as="'+ln(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ln(o.imageSizes)+'"]')):f+='[href="'+ln(n)+'"]';var m=f;switch(s){case"style":m=oo(n);break;case"script":m=lo(n)}Bn.has(m)||(n=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Bn.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(zl(m))||s==="script"&&u.querySelector(Bl(m))||(s=u.createElement("link"),Qt(s,"link",n),At(s),u.head.appendChild(s)))}}function EA(n,s){lr.m(n,s);var o=ao;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=lo(n)}if(!Bn.has(m)&&(n=v({rel:"modulepreload",href:n},s),Bn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bl(m)))return}u=o.createElement("link"),Qt(u,"link",n),At(u),o.head.appendChild(u)}}}function TA(n,s,o){lr.S(n,s,o);var u=ao;if(u&&n){var f=yi(u).hoistableStyles,m=oo(n);s=s||"default";var E=f.get(m);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(zl(m)))b.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Bn.get(m))&&Lm(n,o);var L=E=u.createElement("link");At(L),Qt(L,"link",n),L._p=new Promise(function(G,J){L.onload=G,L.onerror=J}),L.addEventListener("load",function(){b.loading|=1}),L.addEventListener("error",function(){b.loading|=2}),b.loading|=4,lh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(m,E)}}}function SA(n,s){lr.X(n,s);var o=ao;if(o&&n){var u=yi(o).hoistableScripts,f=lo(n),m=u.get(f);m||(m=o.querySelector(Bl(f)),m||(n=v({src:n,async:!0},s),(s=Bn.get(f))&&Vm(n,s),m=o.createElement("script"),At(m),Qt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function bA(n,s){lr.M(n,s);var o=ao;if(o&&n){var u=yi(o).hoistableScripts,f=lo(n),m=u.get(f);m||(m=o.querySelector(Bl(f)),m||(n=v({src:n,async:!0,type:"module"},s),(s=Bn.get(f))&&Vm(n,s),m=o.createElement("script"),At(m),Qt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function o0(n,s,o,u){var f=(f=Ae.current)?oh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=oo(o.href),o=yi(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=oo(o.href);var m=yi(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(zl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Bn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(n,o),m||wA(f,n,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(o),o=yi(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function oo(n){return'href="'+ln(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function l0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function wA(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qt(s,"link",o),At(s),n.head.appendChild(s))}function lo(n){return'[src="'+ln(n)+'"]'}function Bl(n){return"script[async]"+n}function u0(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+ln(o.href)+'"]');if(u)return s.instance=u,At(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),At(u),Qt(u,"style",f),lh(u,o.precedence,n),s.instance=u;case"stylesheet":f=oo(o.href);var m=n.querySelector(zl(f));if(m)return s.state.loading|=4,s.instance=m,At(m),m;u=l0(o),(f=Bn.get(f))&&Lm(u,f),m=(n.ownerDocument||n).createElement("link"),At(m);var E=m;return E._p=new Promise(function(b,L){E.onload=b,E.onerror=L}),Qt(m,"link",u),s.state.loading|=4,lh(m,o.precedence,n),s.instance=m;case"script":return m=lo(o.src),(f=n.querySelector(Bl(m)))?(s.instance=f,At(f),f):(u=o,(f=Bn.get(m))&&(u=v({},o),Vm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),At(f),Qt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,lh(u,o.precedence,n));return s.instance}function lh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Vm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var uh=null;function c0(n,s,o){if(uh===null){var u=new Map,f=uh=new Map;f.set(o,u)}else f=uh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[pi]||m[wt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=n+E;var b=u.get(E);b?b.push(m):u.set(E,[m])}}return u}function h0(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function AA(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function RA(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=oo(u.href),m=s.querySelector(zl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=ch.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=m,At(m);return}m=s.ownerDocument||s,u=l0(u),(f=Bn.get(f))&&Lm(u,f),m=m.createElement("link"),At(m);var E=m;E._p=new Promise(function(b,L){E.onload=b,E.onerror=L}),Qt(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=ch.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Pm=0;function xA(n,s){return n.stylesheets&&n.count===0&&fh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&fh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&Pm===0&&(Pm=62500*oA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Pm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hh=null;function fh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hh=new Map,s.forEach(CA,n),hh=null,ch.call(n))}function CA(n,s){if(!(s.state.loading&4)){var o=hh.get(n);if(o)var u=o.get(null);else{o=new Map,hh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=ch.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ql={$$typeof:X,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function IA(n,s,o,u,f,m,E,b,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function d0(n,s,o,u,f,m,E,b,L,G,J,te){return n=new IA(n,s,o,E,L,G,J,te,b),s=1,m===!0&&(s|=24),m=Tn(3,null,null,s),n.current=m,m.stateNode=n,s=pd(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},vd(m),n}function m0(n){return n?(n=ja,n):ja}function p0(n,s,o,u,f,m){f=m0(f),u.context===null?u.context=f:u.pendingContext=f,u=qr(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Hr(n,u,s),o!==null&&(mn(o,n,s),El(o,n,s))}function g0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function km(n,s){g0(n,s),(n=n.alternate)&&g0(n,s)}function y0(n){if(n.tag===13||n.tag===31){var s=$s(n,67108864);s!==null&&mn(s,n,67108864),km(n,67108864)}}function _0(n){if(n.tag===13||n.tag===31){var s=Rn();s=Ls(s);var o=$s(n,s);o!==null&&mn(o,n,s),km(n,s)}}var dh=!0;function NA(n,s,o,u){var f=Y.T;Y.T=null;var m=se.p;try{se.p=2,Um(n,s,o,u)}finally{se.p=m,Y.T=f}}function OA(n,s,o,u){var f=Y.T;Y.T=null;var m=se.p;try{se.p=8,Um(n,s,o,u)}finally{se.p=m,Y.T=f}}function Um(n,s,o,u){if(dh){var f=jm(u);if(f===null)wm(n,s,u,mh,o),E0(n,u);else if(MA(f,n,s,o,u))u.stopPropagation();else if(E0(n,u),s&4&&-1<DA.indexOf(n)){for(;f!==null;){var m=Nn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=hi(m.pendingLanes);if(E!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var L=1<<31-gt(E);b.entanglements[1]|=L,E&=~L}Ni(m),($e&6)===0&&(Xc=rn()+500,Pl(0))}}break;case 31:case 13:b=$s(m,2),b!==null&&mn(b,m,2),Wc(),km(m,2)}if(m=jm(u),m===null&&wm(n,s,u,mh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else wm(n,s,u,null,o)}}function jm(n){return n=On(n),zm(n)}var mh=null;function zm(n){if(mh=null,n=gi(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return mh=n,null}function v0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Go:return 2;case $o:return 8;case xr:case $f:return 32;case $u:return 268435456;default:return 32}default:return 32}}var Bm=!1,es=null,ts=null,ns=null,Hl=new Map,Fl=new Map,is=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(n,s){switch(n){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(s.pointerId)}}function Gl(n,s,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Nn(s),s!==null&&y0(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function MA(n,s,o,u,f){switch(s){case"focusin":return es=Gl(es,n,s,o,u,f),!0;case"dragenter":return ts=Gl(ts,n,s,o,u,f),!0;case"mouseover":return ns=Gl(ns,n,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return Hl.set(m,Gl(Hl.get(m)||null,n,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Fl.set(m,Gl(Fl.get(m)||null,n,s,o,u,f)),!0}return!1}function T0(n){var s=gi(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Qn(n.priority,function(){_0(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,Qn(n.priority,function(){_0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ph(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=jm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);rl=u,o.target.dispatchEvent(u),rl=null}else return s=Nn(o),s!==null&&y0(s),n.blockedOn=o,!1;s.shift()}return!0}function S0(n,s,o){ph(n)&&o.delete(s)}function LA(){Bm=!1,es!==null&&ph(es)&&(es=null),ts!==null&&ph(ts)&&(ts=null),ns!==null&&ph(ns)&&(ns=null),Hl.forEach(S0),Fl.forEach(S0)}function gh(n,s){n.blockedOn===s&&(n.blockedOn=null,Bm||(Bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,LA)))}var yh=null;function b0(n){yh!==n&&(yh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yh===n&&(yh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(zm(u||o)===null)continue;break}var m=Nn(o);m!==null&&(n.splice(s,3),s-=3,jd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function uo(n){function s(L){return gh(L,n)}es!==null&&gh(es,n),ts!==null&&gh(ts,n),ns!==null&&gh(ns,n),Hl.forEach(s),Fl.forEach(s);for(var o=0;o<is.length;o++){var u=is[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<is.length&&(o=is[0],o.blockedOn===null);)T0(o),o.blockedOn===null&&is.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Ut]||null;if(typeof m=="function")E||b0(o);else if(E){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Ut]||null)b=E.formAction;else if(zm(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),b0(o)}}}function w0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qm(n){this._internalRoot=n}_h.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Rn();p0(o,u,n,s,null,null)},_h.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;p0(n.current,2,null,n,null,null),Wc(),s[mi]=null}};function _h(n){this._internalRoot=n}_h.prototype.unstable_scheduleHydration=function(n){if(n){var s=Wu();n={blockedOn:null,target:n,priority:s};for(var o=0;o<is.length&&s!==0&&s<is[o].priority;o++);is.splice(o,0,n),o===0&&T0(n)}};var A0=e.version;if(A0!=="19.2.0")throw Error(r(527,A0,"19.2.0"));se.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var VA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{$n=vh.inject(VA),Ht=vh}catch{}}return Kl.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=D_,m=M_,E=L_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=d0(n,1,!1,null,null,o,u,null,f,m,E,w0),n[mi]=s.current,bm(n),new qm(s)},Kl.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",m=D_,E=M_,b=L_,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),s=d0(n,1,!0,s,o??null,u,f,L,m,E,b,w0),s.context=m0(null),o=s.current,u=Rn(),u=Ls(u),f=qr(u),f.callback=null,Hr(o,f,u),o=u,s.current.lanes=o,Ds(s,o),Ni(s),n[mi]=s.current,bm(n),new _h(s)},Kl.version="19.2.0",Kl}var V0;function $A(){if(V0)return Gm.exports;V0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=GA(),Gm.exports}var KA=$A();const QA=QT(KA);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P0="popstate";function YA(i={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return pp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:du(a)}return JA(e,t,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function k0(i,e){return{usr:i.state,key:i.key,idx:e}}function pp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:t,key:e&&e.key||r||XA()}}function du({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Oo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function JA(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let j=_(),W=j==null?null:j-g;g=j,p&&p({action:d,location:B.location,delta:W})}function S(j,W){d="PUSH";let re=pp(B.location,j,W);g=_()+1;let X=k0(re,g),le=B.createHref(re);try{c.pushState(X,"",le)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;a.location.assign(le)}l&&p&&p({action:d,location:B.location,delta:1})}function x(j,W){d="REPLACE";let re=pp(B.location,j,W);g=_();let X=k0(re,g),le=B.createHref(re);c.replaceState(X,"",le),l&&p&&p({action:d,location:B.location,delta:0})}function V(j){return WA(j)}let B={get action(){return d},get location(){return i(a,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(P0,v),p=j,()=>{a.removeEventListener(P0,v),p=null}},createHref(j){return e(a,j)},createURL:V,encodeLocation(j){let W=V(j);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:x,go(j){return c.go(j)}};return B}function WA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:du(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function YT(i,e,t="/"){return ZA(i,e,t,!1)}function ZA(i,e,t,r){let a=typeof e=="string"?Oo(e):e,l=yr(a.pathname||"/",t);if(l==null)return null;let c=XT(i);eR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=hR(l);d=uR(c[p],g,r)}return d}function XT(i,e=[],t=[],r="",a=!1){let l=(c,d,p=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;ht(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let v=mr([r,_.relativePath]),S=t.concat(_);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),XT(c.children,e,S,v,p)),!(c.path==null&&!c.index)&&e.push({path:v,score:oR(v,c.index),routesMeta:S})};return i.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of JT(c.path))l(c,d,!0,g)}),e}function JT(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=JT(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function eR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:lR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tR=/^:[\w-]+$/,nR=3,iR=2,rR=1,sR=10,aR=-2,U0=i=>i==="*";function oR(i,e){let t=i.split("/"),r=t.length;return t.some(U0)&&(r+=aR),e&&(r+=iR),t.filter(a=>!U0(a)).reduce((a,l)=>a+(tR.test(l)?nR:l===""?rR:sR),r)}function lR(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function uR(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:mr([l,v.pathname]),pathnameBase:gR(mr([l,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(l=mr([l,v.pathnameBase]))}return c}function Fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=cR(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:v},S)=>{if(_==="*"){let V=d[S]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[S];return v&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function cR(i,e=!1,t=!0){Fn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function hR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}var fR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dR=i=>fR.test(i);function mR(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?Oo(i):i,l;if(t)if(dR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Fn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=j0(t.substring(1),"/"):l=j0(t,e)}else l=e;return{pathname:l,search:yR(r),hash:_R(a)}}function j0(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ym(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zp(i){let e=pR(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function eg(i,e,t,r=!1){let a;typeof i=="string"?a=Oo(i):(a={...i},ht(!a.pathname||!a.pathname.includes("?"),Ym("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),Ym("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),Ym("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),v-=1;a.pathname=S.join("/")}d=v>=0?e[v]:"/"}let p=mR(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),gR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),yR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_R=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function vR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WT=["POST","PUT","PATCH","DELETE"];new Set(WT);var ER=["GET",...WT];new Set(ER);var Do=k.createContext(null);Do.displayName="DataRouter";var pf=k.createContext(null);pf.displayName="DataRouterState";k.createContext(!1);var ZT=k.createContext({isTransitioning:!1});ZT.displayName="ViewTransition";var TR=k.createContext(new Map);TR.displayName="Fetchers";var SR=k.createContext(null);SR.displayName="Await";var oi=k.createContext(null);oi.displayName="Navigation";var Cu=k.createContext(null);Cu.displayName="Location";var Bi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var tg=k.createContext(null);tg.displayName="RouteError";function bR(i,{relative:e}={}){ht(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=k.useContext(oi),{hash:a,pathname:l,search:c}=Iu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:mr([t,l])),r.createHref({pathname:d,search:c,hash:a})}function Mo(){return k.useContext(Cu)!=null}function br(){return ht(Mo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Cu).location}var eS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tS(i){k.useContext(oi).static||k.useLayoutEffect(i)}function ng(){let{isDataRoute:i}=k.useContext(Bi);return i?PR():wR()}function wR(){ht(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Do),{basename:e,navigator:t}=k.useContext(oi),{matches:r}=k.useContext(Bi),{pathname:a}=br(),l=JSON.stringify(Zp(r)),c=k.useRef(!1);return tS(()=>{c.current=!0}),k.useCallback((p,g={})=>{if(Fn(c.current,eS),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=eg(p,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:mr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,i])}k.createContext(null);function Iu(i,{relative:e}={}){let{matches:t}=k.useContext(Bi),{pathname:r}=br(),a=JSON.stringify(Zp(t));return k.useMemo(()=>eg(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function AR(i,e){return nS(i,e)}function nS(i,e,t,r,a){var re;ht(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(oi),{matches:c}=k.useContext(Bi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let X=v&&v.path||"";iS(g,!v||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=br(),x;if(e){let X=typeof e=="string"?Oo(e):e;ht(_==="/"||((re=X.pathname)==null?void 0:re.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=S;let V=x.pathname||"/",B=V;if(_!=="/"){let X=_.replace(/^\//,"").split("/");B="/"+V.replace(/^\//,"").split("/").slice(X.length).join("/")}let j=YT(i,{pathname:B});Fn(v||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Fn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=NR(j&&j.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:mr([_,l.encodeLocation?l.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:mr([_,l.encodeLocation?l.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,t,r,a);return e&&W?k.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function RR(){let i=VR(),e=vR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:a},t):null,c)}var xR=k.createElement(RR,null),CR=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?k.createElement(Bi.Provider,{value:this.props.routeContext},k.createElement(tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IR({routeContext:i,match:e,children:t}){let r=k.useContext(Do);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Bi.Provider,{value:i},t)}function NR(i,e=[],t=null,r=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t==null?void 0:t.errors;if(c!=null){let _=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);ht(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:S,errors:x}=t,V=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||V){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&r?(_,v)=>{var S,x;r(_,{location:t.location,params:((x=(S=t.matches)==null?void 0:S[0])==null?void 0:x.params)??{},errorInfo:v})}:void 0;return l.reduceRight((_,v,S)=>{let x,V=!1,B=null,j=null;t&&(x=c&&v.route.id?c[v.route.id]:void 0,B=v.route.errorElement||xR,d&&(p<0&&S===0?(iS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,j=null):p===S&&(V=!0,j=v.route.hydrateFallbackElement||null)));let W=e.concat(l.slice(0,S+1)),re=()=>{let X;return x?X=B:V?X=j:v.route.Component?X=k.createElement(v.route.Component,null):v.route.element?X=v.route.element:X=_,k.createElement(IR,{match:v,routeContext:{outlet:_,matches:W,isDataRoute:t!=null},children:X})};return t&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?k.createElement(CR,{location:t.location,revalidation:t.revalidation,component:B,error:x,children:re(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):re()},null)}function ig(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OR(i){let e=k.useContext(Do);return ht(e,ig(i)),e}function DR(i){let e=k.useContext(pf);return ht(e,ig(i)),e}function MR(i){let e=k.useContext(Bi);return ht(e,ig(i)),e}function rg(i){let e=MR(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function LR(){return rg("useRouteId")}function VR(){var r;let i=k.useContext(tg),e=DR("useRouteError"),t=rg("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function PR(){let{router:i}=OR("useNavigate"),e=rg("useNavigate"),t=k.useRef(!1);return tS(()=>{t.current=!0}),k.useCallback(async(a,l={})=>{Fn(t.current,eS),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var z0={};function iS(i,e,t){!e&&!z0[i]&&(z0[i]=!0,Fn(!1,t))}k.memo(kR);function kR({routes:i,future:e,state:t,unstable_onError:r}){return nS(i,void 0,t,r,e)}function Ql({to:i,replace:e,state:t,relative:r}){ht(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(oi);Fn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(Bi),{pathname:c}=br(),d=ng(),p=eg(i,Zp(l),c,r==="path"),g=JSON.stringify(p);return k.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:r})},[d,g,r,e,t]),null}function sa(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UR({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){ht(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Oo(t));let{pathname:p="/",search:g="",hash:_="",state:v=null,key:S="default"}=t,x=k.useMemo(()=>{let V=yr(p,c);return V==null?null:{location:{pathname:V,search:g,hash:_,state:v,key:S},navigationType:r}},[c,p,g,_,v,S,r]);return Fn(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(oi.Provider,{value:d},k.createElement(Cu.Provider,{children:e,value:x}))}function jR({children:i,location:e}){return AR(gp(i),e)}function gp(i,e=[]){let t=[];return k.Children.forEach(i,(r,a)=>{if(!k.isValidElement(r))return;let l=[...e,a];if(r.type===k.Fragment){t.push.apply(t,gp(r.props.children,l));return}ht(r.type===sa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=gp(r.props.children,l)),t.push(c)}),t}var Oh="get",Dh="application/x-www-form-urlencoded";function gf(i){return i!=null&&typeof i.tagName=="string"}function zR(i){return gf(i)&&i.tagName.toLowerCase()==="button"}function BR(i){return gf(i)&&i.tagName.toLowerCase()==="form"}function qR(i){return gf(i)&&i.tagName.toLowerCase()==="input"}function HR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FR(i,e){return i.button===0&&(!e||e==="_self")&&!HR(i)}var Eh=null;function GR(){if(Eh===null)try{new FormData(document.createElement("form"),0),Eh=!1}catch{Eh=!0}return Eh}var $R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(i){return i!=null&&!$R.has(i)?(Fn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):i}function KR(i,e){let t,r,a,l,c;if(BR(i)){let d=i.getAttribute("action");r=d?yr(d,e):null,t=i.getAttribute("method")||Oh,a=Xm(i.getAttribute("enctype"))||Dh,l=new FormData(i)}else if(zR(i)||qR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?yr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Oh,a=Xm(i.getAttribute("formenctype"))||Xm(d.getAttribute("enctype"))||Dh,l=new FormData(d,i),!GR()){let{name:g,type:_,value:v}=i;if(_==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,v)}}else{if(gf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Oh,r=null,a=Dh,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function QR(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&yr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function YR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function JR(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await YR(l,t);return c.links?c.links():[]}return[]}));return tx(r.flat(1).filter(XR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function B0(i,e,t,r,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var v;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function WR(i,e,{includeHydrateFallback:t}={}){return ZR(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZR(i){return[...new Set(i)]}function ex(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function tx(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(ex(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function rS(){let i=k.useContext(Do);return sg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nx(){let i=k.useContext(pf);return sg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ag=k.createContext(void 0);ag.displayName="FrameworkContext";function sS(){let i=k.useContext(ag);return sg(i,"You must render this element inside a <HydratedRouter> element"),i}function ix(i,e){let t=k.useContext(ag),[r,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,S=k.useRef(null);k.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let B=W=>{W.forEach(re=>{c(re.isIntersecting)})},j=new IntersectionObserver(B,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[i]),k.useEffect(()=>{if(r){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[r]);let x=()=>{a(!0)},V=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,S,{}]:[l,S,{onFocus:Yl(d,x),onBlur:Yl(p,V),onMouseEnter:Yl(g,x),onMouseLeave:Yl(_,V),onTouchStart:Yl(v,x)}]:[!1,S,{}]}function Yl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function rx({page:i,...e}){let{router:t}=rS(),r=k.useMemo(()=>YT(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?k.createElement(ax,{page:i,matches:r,...e}):null}function sx(i){let{manifest:e,routeModules:t}=sS(),[r,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return JR(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function ax({page:i,matches:e,...t}){let r=br(),{manifest:a,routeModules:l}=sS(),{basename:c}=rS(),{loaderData:d,matches:p}=nx(),g=k.useMemo(()=>B0(i,e,p,a,r,"data"),[i,e,p,a,r]),_=k.useMemo(()=>B0(i,e,p,a,r,"assets"),[i,e,p,a,r]),v=k.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let V=new Set,B=!1;if(e.forEach(W=>{var X;let re=a.routes[W.route.id];!re||!re.hasLoader||(!g.some(le=>le.route.id===W.route.id)&&W.route.id in d&&((X=l[W.route.id])!=null&&X.shouldRevalidate)||re.hasClientLoader?B=!0:V.add(W.route.id))}),V.size===0)return[];let j=QR(i,c,"data");return B&&V.size>0&&j.searchParams.set("_routes",e.filter(W=>V.has(W.route.id)).map(W=>W.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,g,e,i,l]),S=k.useMemo(()=>WR(_,a),[_,a]),x=sx(_);return k.createElement(k.Fragment,null,v.map(V=>k.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),S.map(V=>k.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),x.map(({key:V,link:B})=>k.createElement("link",{key:V,nonce:t.nonce,...B})))}function ox(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aS&&(window.__reactRouterVersion="7.9.6")}catch{}function lx({basename:i,children:e,window:t}){let r=k.useRef();r.current==null&&(r.current=YA({window:t,v5Compat:!0}));let a=r.current,[l,c]=k.useState({action:a.action,location:a.location}),d=k.useCallback(p=>{k.startTransition(()=>c(p))},[c]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.createElement(UR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var oS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mu=k.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:v,...S},x){let{basename:V}=k.useContext(oi),B=typeof g=="string"&&oS.test(g),j,W=!1;if(typeof g=="string"&&B&&(j=g,aS))try{let A=new URL(window.location.href),M=g.startsWith("//")?new URL(A.protocol+g):new URL(g),C=yr(M.pathname,V);M.origin===A.origin&&C!=null?g=C+M.search+M.hash:W=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=bR(g,{relative:a}),[X,le,ge]=ix(r,S),ve=fx(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:v});function D(A){e&&e(A),A.defaultPrevented||ve(A)}let N=k.createElement("a",{...S,...ge,href:j||re,onClick:W||l?e:D,ref:ox(x,le),target:p,"data-discover":!B&&t==="render"?"true":void 0});return X&&!B?k.createElement(k.Fragment,null,N,k.createElement(rx,{page:re})):N});mu.displayName="Link";var ux=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let v=Iu(c,{relative:g.relative}),S=br(),x=k.useContext(pf),{navigator:V,basename:B}=k.useContext(oi),j=x!=null&&yx(v)&&d===!0,W=V.encodeLocation?V.encodeLocation(v).pathname:v.pathname,re=S.pathname,X=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(re=re.toLowerCase(),X=X?X.toLowerCase():null,W=W.toLowerCase()),X&&B&&(X=yr(X,B)||X);const le=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ge=re===W||!a&&re.startsWith(W)&&re.charAt(le)==="/",ve=X!=null&&(X===W||!a&&X.startsWith(W)&&X.charAt(W.length)==="/"),D={isActive:ge,isPending:ve,isTransitioning:j},N=ge?e:void 0,A;typeof r=="function"?A=r(D):A=[r,ge?"active":null,ve?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(D):l;return k.createElement(mu,{...g,"aria-current":N,className:A,ref:_,style:M,to:c,viewTransition:d},typeof p=="function"?p(D):p)});ux.displayName="NavLink";var cx=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Oh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:v,...S},x)=>{let V=px(),B=gx(d,{relative:g}),j=c.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&oS.test(d),re=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let le=X.nativeEvent.submitter,ge=(le==null?void 0:le.getAttribute("formmethod"))||c;V(le||X.currentTarget,{fetcherKey:e,method:ge,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:v})};return k.createElement("form",{ref:x,method:j,action:B,onSubmit:r?p:re,...S,"data-discover":!W&&i==="render"?"true":void 0})});cx.displayName="Form";function hx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(i){let e=k.useContext(Do);return ht(e,hx(i)),e}function fx(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ng(),p=br(),g=Iu(i,{relative:l});return k.useCallback(_=>{if(FR(_,e)){_.preventDefault();let v=t!==void 0?t:du(p)===du(g);d(i,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,r,e,i,a,l,c])}var dx=0,mx=()=>`__${String(++dx)}__`;function px(){let{router:i}=lS("useSubmit"),{basename:e}=k.useContext(oi),t=LR();return k.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=KR(r,e);if(a.navigate===!1){let _=a.fetcherKey||mx();await i.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function gx(i,{relative:e}={}){let{basename:t}=k.useContext(oi),r=k.useContext(Bi);ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Iu(i||".",{relative:e})},c=br();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:mr([t,l.pathname])),du(l)}function yx(i,{relative:e}={}){let t=k.useContext(ZT);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lS("useViewTransitionState"),a=Iu(i,{relative:e});if(!t.isTransitioning)return!1;let l=yr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=yr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fh(a.pathname,c)!=null||Fh(a.pathname,l)!=null}let _x={data:""},vx=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||_x},Ex=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Tx=/\/\*[^]*?\*\/|  +/g,q0=/\n+/g,as=(i,e)=>{let t="",r="",a="";for(let l in i){let c=i[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":r+=l[1]=="f"?as(c,l):l+"{"+as(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=as(c,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=as.p?as.p(l,c):l+":"+c+";")}return t+(e&&a?e+"{"+a+"}":a)+r},ur={},uS=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+uS(i[t]);return e}return i},Sx=(i,e,t,r,a)=>{let l=uS(i),c=ur[l]||(ur[l]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(l));if(!ur[c]){let p=l!==i?i:(g=>{let _,v,S=[{}];for(;_=Ex.exec(g.replace(Tx,""));)_[4]?S.shift():_[3]?(v=_[3].replace(q0," ").trim(),S.unshift(S[0][v]=S[0][v]||{})):S[0][_[1]]=_[2].replace(q0," ").trim();return S[0]})(i);ur[c]=as(a?{["@keyframes "+c]:p}:p,t?"":"."+c)}let d=t&&ur.g?ur.g:null;return t&&(ur.g=ur[c]),((p,g,_,v)=>{v?g.data=g.data.replace(v,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(ur[c],e,r,d),c},bx=(i,e,t)=>i.reduce((r,a,l)=>{let c=e[l];if(c&&c.call){let d=c(t),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=p?"."+p:d&&typeof d=="object"?d.props?"":as(d,""):d===!1?"":d}return r+a+(c??"")},"");function yf(i){let e=this||{},t=i.call?i(e.p):i;return Sx(t.unshift?t.raw?bx(t,[].slice.call(arguments,1),e.p):t.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):t,vx(e.target),e.g,e.o,e.k)}let cS,yp,_p;yf.bind({g:1});let _r=yf.bind({k:1});function wx(i,e,t,r){as.p=e,cS=i,yp=t,_p=r}function bs(i,e){let t=this||{};return function(){let r=arguments;function a(l,c){let d=Object.assign({},l),p=d.className||a.className;t.p=Object.assign({theme:yp&&yp()},d),t.o=/ *go\d+/.test(p),d.className=yf.apply(t,r)+(p?" "+p:"");let g=i;return i[0]&&(g=d.as||i,delete d.as),_p&&g[0]&&_p(d),cS(g,d)}return a}}var Ax=i=>typeof i=="function",Gh=(i,e)=>Ax(i)?i(e):i,Rx=(()=>{let i=0;return()=>(++i).toString()})(),hS=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),xx=20,og="default",fS=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return fS(i,{type:i.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=e;return{...i,toasts:i.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let l=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},Mh=[],dS={toasts:[],pausedAt:void 0,settings:{toastLimit:xx}},Di={},mS=(i,e=og)=>{Di[e]=fS(Di[e]||dS,i),Mh.forEach(([t,r])=>{t===e&&r(Di[e])})},pS=i=>Object.keys(Di).forEach(e=>mS(i,e)),Cx=i=>Object.keys(Di).find(e=>Di[e].toasts.some(t=>t.id===i)),_f=(i=og)=>e=>{mS(e,i)},Ix={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Nx=(i={},e=og)=>{let[t,r]=k.useState(Di[e]||dS),a=k.useRef(Di[e]);k.useEffect(()=>(a.current!==Di[e]&&r(Di[e]),Mh.push([e,r]),()=>{let c=Mh.findIndex(([d])=>d===e);c>-1&&Mh.splice(c,1)}),[e]);let l=t.toasts.map(c=>{var d,p,g;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((d=i[c.type])==null?void 0:d.removeDelay)||(i==null?void 0:i.removeDelay),duration:c.duration||((p=i[c.type])==null?void 0:p.duration)||(i==null?void 0:i.duration)||Ix[c.type],style:{...i.style,...(g=i[c.type])==null?void 0:g.style,...c.style}}});return{...t,toasts:l}},Ox=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||Rx()}),Nu=i=>(e,t)=>{let r=Ox(e,i,t);return _f(r.toasterId||Cx(r.id))({type:2,toast:r}),r.id},Pt=(i,e)=>Nu("blank")(i,e);Pt.error=Nu("error");Pt.success=Nu("success");Pt.loading=Nu("loading");Pt.custom=Nu("custom");Pt.dismiss=(i,e)=>{let t={type:3,toastId:i};e?_f(e)(t):pS(t)};Pt.dismissAll=i=>Pt.dismiss(void 0,i);Pt.remove=(i,e)=>{let t={type:4,toastId:i};e?_f(e)(t):pS(t)};Pt.removeAll=i=>Pt.remove(void 0,i);Pt.promise=(i,e,t)=>{let r=Pt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(a=>{let l=e.success?Gh(e.success,a):void 0;return l?Pt.success(l,{id:r,...t,...t==null?void 0:t.success}):Pt.dismiss(r),a}).catch(a=>{let l=e.error?Gh(e.error,a):void 0;l?Pt.error(l,{id:r,...t,...t==null?void 0:t.error}):Pt.dismiss(r)}),i};var Dx=1e3,Mx=(i,e="default")=>{let{toasts:t,pausedAt:r}=Nx(i,e),a=k.useRef(new Map).current,l=k.useCallback((v,S=Dx)=>{if(a.has(v))return;let x=setTimeout(()=>{a.delete(v),c({type:4,toastId:v})},S);a.set(v,x)},[]);k.useEffect(()=>{if(r)return;let v=Date.now(),S=t.map(x=>{if(x.duration===1/0)return;let V=(x.duration||0)+x.pauseDuration-(v-x.createdAt);if(V<0){x.visible&&Pt.dismiss(x.id);return}return setTimeout(()=>Pt.dismiss(x.id,e),V)});return()=>{S.forEach(x=>x&&clearTimeout(x))}},[t,r,e]);let c=k.useCallback(_f(e),[e]),d=k.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=k.useCallback((v,S)=>{c({type:1,toast:{id:v,height:S}})},[c]),g=k.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),_=k.useCallback((v,S)=>{let{reverseOrder:x=!1,gutter:V=8,defaultPosition:B}=S||{},j=t.filter(X=>(X.position||B)===(v.position||B)&&X.height),W=j.findIndex(X=>X.id===v.id),re=j.filter((X,le)=>le<W&&X.visible).length;return j.filter(X=>X.visible).slice(...x?[re+1]:[0,re]).reduce((X,le)=>X+(le.height||0)+V,0)},[t]);return k.useEffect(()=>{t.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let S=a.get(v.id);S&&(clearTimeout(S),a.delete(v.id))}})},[t,l]),{toasts:t,handlers:{updateHeight:p,startPause:d,endPause:g,calculateOffset:_}}},Lx=_r`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vx=_r`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Px=_r`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kx=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Px} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ux=_r`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jx=bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${Ux} 1s linear infinite;
`,zx=_r`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Bx=_r`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qx=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Bx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hx=bs("div")`
  position: absolute;
`,Fx=bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gx=_r`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$x=bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Kx=({toast:i})=>{let{icon:e,type:t,iconTheme:r}=i;return e!==void 0?typeof e=="string"?k.createElement($x,null,e):e:t==="blank"?null:k.createElement(Fx,null,k.createElement(jx,{...r}),t!=="loading"&&k.createElement(Hx,null,t==="error"?k.createElement(kx,{...r}):k.createElement(qx,{...r})))},Qx=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yx=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Xx="0%{opacity:0;} 100%{opacity:1;}",Jx="0%{opacity:1;} 100%{opacity:0;}",Wx=bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Zx=bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eC=(i,e)=>{let t=i.includes("top")?1:-1,[r,a]=hS()?[Xx,Jx]:[Qx(t),Yx(t)];return{animation:e?`${_r(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_r(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tC=k.memo(({toast:i,position:e,style:t,children:r})=>{let a=i.height?eC(i.position||e||"top-center",i.visible):{opacity:0},l=k.createElement(Kx,{toast:i}),c=k.createElement(Zx,{...i.ariaProps},Gh(i.message,i));return k.createElement(Wx,{className:i.className,style:{...a,...t,...i.style}},typeof r=="function"?r({icon:l,message:c}):k.createElement(k.Fragment,null,l,c))});wx(k.createElement);var nC=({id:i,className:e,style:t,onHeightUpdate:r,children:a})=>{let l=k.useCallback(c=>{if(c){let d=()=>{let p=c.getBoundingClientRect().height;r(i,p)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[i,r]);return k.createElement("div",{ref:l,className:e,style:t},a)},iC=(i,e)=>{let t=i.includes("top"),r=t?{top:0}:{bottom:0},a=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:hS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...a}},rC=yf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Th=16,sC=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:r,children:a,toasterId:l,containerStyle:c,containerClassName:d})=>{let{toasts:p,handlers:g}=Mx(t,l);return k.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Th,left:Th,right:Th,bottom:Th,pointerEvents:"none",...c},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(_=>{let v=_.position||e,S=g.calculateOffset(_,{reverseOrder:i,gutter:r,defaultPosition:e}),x=iC(v,S);return k.createElement(nC,{id:_.id,key:_.id,onHeightUpdate:g.updateHeight,className:_.visible?rC:"",style:x},_.type==="custom"?Gh(_.message,_):a?a(_):k.createElement(tC,{toast:_,position:v}))}))},We=Pt;const aC=({user:i,onLogout:e,plan:t,invoiceCount:r,onUpgrade:a})=>{const l=Math.min(r/t.invoiceLimit*100,100);return R.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:R.jsxs("div",{className:"container mx-auto px-4 md:px-8 py-3 flex items-center justify-between",children:[R.jsx(mu,{to:"/",className:"text-xl font-bold text-slate-800",children:"Invoice AI Parser"}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("div",{className:"relative",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsxs("span",{children:[t.name," Plan"]}),R.jsxs("span",{children:["(",r," / ",t.invoiceLimit,")"]})]}),R.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 mt-1",children:R.jsx("div",{className:`h-1.5 rounded-full ${l>90?"bg-red-500":"bg-indigo-600"}`,style:{width:`${l}%`}})}),l>80&&R.jsx("button",{onClick:a,className:"text-sm text-indigo-600 hover:underline",children:"Upgrade"})]}),R.jsx("button",{onClick:e,className:"text-sm text-slate-700 hover:underline",children:"Logout"}),R.jsx("img",{src:i.picture,alt:i.name,className:"h-9 w-9 rounded-full"})]})]})})},Re=i=>typeof i=="string",Xl=()=>{let i,e;const t=new Promise((r,a)=>{i=r,e=a});return t.resolve=i,t.reject=e,t},H0=i=>i==null?"":""+i,oC=(i,e,t)=>{i.forEach(r=>{e[r]&&(t[r]=e[r])})},lC=/###/g,F0=i=>i&&i.indexOf("###")>-1?i.replace(lC,"."):i,G0=i=>!i||Re(i),su=(i,e,t)=>{const r=Re(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(G0(i))return{};const l=F0(r[a]);!i[l]&&t&&(i[l]=new t),Object.prototype.hasOwnProperty.call(i,l)?i=i[l]:i={},++a}return G0(i)?{}:{obj:i,k:F0(r[a])}},$0=(i,e,t)=>{const{obj:r,k:a}=su(i,e,Object);if(r!==void 0||e.length===1){r[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=su(i,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=su(i,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},uC=(i,e,t,r)=>{const{obj:a,k:l}=su(i,e,Object);a[l]=a[l]||[],a[l].push(t)},$h=(i,e)=>{const{obj:t,k:r}=su(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},cC=(i,e,t)=>{const r=$h(i,t);return r!==void 0?r:$h(e,t)},gS=(i,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in i?Re(i[r])||i[r]instanceof String||Re(e[r])||e[r]instanceof String?t&&(i[r]=e[r]):gS(i[r],e[r],t):i[r]=e[r]);return i},co=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var hC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const fC=i=>Re(i)?i.replace(/[&<>"'\/]/g,e=>hC[e]):i;class dC{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const mC=[" ",",","?","!",";"],pC=new dC(20),gC=(i,e,t)=>{e=e||"",t=t||"";const r=mC.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(r.length===0)return!0;const a=pC.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(i);if(!l){const c=i.indexOf(t);c>0&&!a.test(i.substring(0,c))&&(l=!0)}return l},vp=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const r=e.split(t);let a=i;for(let l=0;l<r.length;){if(!a||typeof a!="object")return;let c,d="";for(let p=l;p<r.length;++p)if(p!==l&&(d+=t),d+=r[p],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<r.length-1)continue;l+=p-l+1;break}a=c}return a},pu=i=>i==null?void 0:i.replace("_","-"),yC={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){var t,r;(r=(t=console==null?void 0:console[i])==null?void 0:t.apply)==null||r.call(t,console,e)}};let _C=class Ep{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||yC,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(Re(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ep(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ep(this.logger,e)}};var Mi=new _C;class vf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(t)||0;this.observers[r].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...t])})}}class K0 extends vf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,a={}){var g,_;const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Re(r)&&l?d.push(...r.split(l)):d.push(r)));const p=$h(this.data,d);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),p||!c||!Re(r)?p:vp((_=(g=this.data)==null?void 0:g[e])==null?void 0:_[t],r,l)}addResource(e,t,r,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),$0(this.data,d,a),l.silent||this.emit("added",e,t,r,a)}addResources(e,t,r,a={silent:!1}){for(const l in r)(Re(r[l])||Array.isArray(r[l]))&&this.addResource(e,t,l,r[l],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,l,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=r,r=t,t=d[1]),this.addNamespaces(t);let p=$h(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?gS(p,r,l):p={...p,...r},$0(this.data,d,p),c.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var yS={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,r,a){return i.forEach(l=>{var c;e=((c=this.processors[l])==null?void 0:c.process(e,t,r,a))??e}),e}};const _S=Symbol("i18next/PATH_KEY");function vC(){const i=[],e=Object.create(null);let t;return e.get=(r,a)=>{var l;return(l=t==null?void 0:t.revoke)==null||l.call(t),a===_S?i:(i.push(a),t=Proxy.revocable(r,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Tp(i,e){const{[_S]:t}=i(vC());return t.join((e==null?void 0:e.keySeparator)??".")}const Q0={},Jm=i=>!Re(i)&&typeof i!="boolean"&&typeof i!="number";class Kh extends vf{constructor(e,t={}){super(),oC(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const a=this.resolve(e,r);if((a==null?void 0:a.res)===void 0)return!1;const l=Jm(a.res);return!(r.returnObjects===!1&&l)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!gC(e,r,a);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Re(l)?[l]:l};const g=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:Re(l)?[l]:l}}translate(e,t,r){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Tp(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],a),g=p[p.length-1];let _=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const v=a.lng||this.language,S=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return S?l?{res:`${g}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${_}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let V=x==null?void 0:x.res;const B=(x==null?void 0:x.usedKey)||d,j=(x==null?void 0:x.exactUsedKey)||d,W=["[object Number]","[object Function]","[object RegExp]"],re=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,X=!this.i18nFormat||this.i18nFormat.handleAsObject,le=a.count!==void 0&&!Re(a.count),ge=Kh.hasDefaultValue(a),ve=le?this.pluralResolver.getSuffix(v,a.count,a):"",D=a.ordinal&&le?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",N=le&&!a.ordinal&&a.count===0,A=N&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${ve}`]||a[`defaultValue${D}`]||a.defaultValue;let M=V;X&&!V&&ge&&(M=A);const C=Jm(M),U=Object.prototype.toString.apply(M);if(X&&M&&C&&W.indexOf(U)<0&&!(Re(re)&&Array.isArray(M))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(B,M,{...a,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(x.res=O,x.usedParams=this.getUsedParamsDetails(a),x):O}if(c){const O=Array.isArray(M),Te=O?[]:{},Qe=O?j:B;for(const Y in M)if(Object.prototype.hasOwnProperty.call(M,Y)){const se=`${Qe}${c}${Y}`;ge&&!V?Te[Y]=this.translate(se,{...a,defaultValue:Jm(A)?A[Y]:void 0,joinArrays:!1,ns:p}):Te[Y]=this.translate(se,{...a,joinArrays:!1,ns:p}),Te[Y]===se&&(Te[Y]=M[Y])}V=Te}}else if(X&&Re(re)&&Array.isArray(V))V=V.join(re),V&&(V=this.extendTranslation(V,e,a,r));else{let O=!1,Te=!1;!this.isValidLookup(V)&&ge&&(O=!0,V=A),this.isValidLookup(V)||(Te=!0,V=d);const Y=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Te?void 0:V,se=ge&&A!==V&&this.options.updateMissing;if(Te||O||se){if(this.logger.log(se?"updateKey":"missingKey",v,g,d,se?A:V),c){const I=this.resolve(d,{...a,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(let I=0;I<we.length;I++)ae.push(we[I]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(a.lng||this.language):ae.push(a.lng||this.language);const ce=(I,H,ne)=>{var fe;const ue=ge&&ne!==V?ne:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(I,g,H,ue,se,a):(fe=this.backendConnector)!=null&&fe.saveMissing&&this.backendConnector.saveMissing(I,g,H,ue,se,a),this.emit("missingKey",I,g,H,V)};this.options.saveMissing&&(this.options.saveMissingPlurals&&le?ae.forEach(I=>{const H=this.pluralResolver.getSuffixes(I,a);N&&a[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(ne=>{ce([I],d+ne,a[`defaultValue${ne}`]||A)})}):ce(ae,d,A))}V=this.extendTranslation(V,e,a,x,r),Te&&V===d&&this.options.appendNamespaceToMissingKey&&(V=`${g}${_}${d}`),(Te||O)&&this.options.parseMissingKeyHandler&&(V=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${d}`:d,O?V:void 0,a))}return l?(x.res=V,x.usedParams=this.getUsedParamsDetails(a),x):V}extendTranslation(e,t,r,a,l){var p,g;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const _=Re(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(_){const x=e.match(this.interpolator.nestingRegexp);v=x&&x.length}let S=r.replace&&!Re(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,r.lng||this.language||a.usedLng,r),_){const x=e.match(this.interpolator.nestingRegexp),V=x&&x.length;v<V&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(l==null?void 0:l[0])===x[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${t[0]}`),null):this.translate(...x,t),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=Re(c)?[c]:c;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=yS.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,a,l,c,d;return Re(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),_=g.key;a=_;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const S=t.count!==void 0&&!Re(t.count),x=S&&!t.ordinal&&t.count===0,V=t.context!==void 0&&(Re(t.context)||typeof t.context=="number")&&t.context!=="",B=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(j=>{var W,re;this.isValidLookup(r)||(d=j,!Q0[`${B[0]}-${j}`]&&((W=this.utils)!=null&&W.hasLoadedNamespace)&&!((re=this.utils)!=null&&re.hasLoadedNamespace(d))&&(Q0[`${B[0]}-${j}`]=!0,this.logger.warn(`key "${a}" for languages "${B.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(X=>{var ve;if(this.isValidLookup(r))return;c=X;const le=[_];if((ve=this.i18nFormat)!=null&&ve.addLookupKeys)this.i18nFormat.addLookupKeys(le,_,X,j,t);else{let D;S&&(D=this.pluralResolver.getSuffix(X,t.count,t));const N=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(t.ordinal&&D.indexOf(A)===0&&le.push(_+D.replace(A,this.options.pluralSeparator)),le.push(_+D),x&&le.push(_+N)),V){const M=`${_}${this.options.contextSeparator||"_"}${t.context}`;le.push(M),S&&(t.ordinal&&D.indexOf(A)===0&&le.push(M+D.replace(A,this.options.pluralSeparator)),le.push(M+D),x&&le.push(M+N))}}let ge;for(;ge=le.pop();)this.isValidLookup(r)||(l=ge,r=this.getResource(X,j,ge,t))}))})}),{res:r,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,a={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Re(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Y0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mi.create("languageUtils")}getScriptPartFromCode(e){if(e=pu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=pu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Re(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(r);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Re(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Re(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Re(e)&&l(this.formatLanguageCode(e)),r.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const X0={zero:0,one:1,two:2,few:3,many:4,other:5},J0={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class EC{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Mi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=pu(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:r,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),J0;if(!e.match(/-|_/))return J0;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((a,l)=>X0[a]-X0[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const W0=(i,e,t,r=".",a=!0)=>{let l=cC(i,e,t);return!l&&a&&Re(t)&&(l=vp(i,t,r),l===void 0&&(l=vp(e,t,r))),l},Wm=i=>i.replace(/\$/g,"$$$$");class TC{constructor(e={}){var t;this.logger=Mi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:v,nestingPrefix:S,nestingPrefixEscaped:x,nestingSuffix:V,nestingSuffixEscaped:B,nestingOptionsSeparator:j,maxReplaces:W,alwaysFormat:re}=e.interpolation;this.escape=t!==void 0?t:fC,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?co(l):c||"{{",this.suffix=d?co(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=S?co(S):x||co("$t("),this.nestingSuffix=V?co(V):B||co(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=W||1e3,this.alwaysFormat=re!==void 0?re:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,a){var x;let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=V=>{if(V.indexOf(this.formatSeparator)<0){const re=W0(t,p,V,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(re,void 0,r,{...a,...t,interpolationkey:V}):re}const B=V.split(this.formatSeparator),j=B.shift().trim(),W=B.join(this.formatSeparator).trim();return this.format(W0(t,p,j,this.options.keySeparator,this.options.ignoreJSONStructure),W,r,{...a,...t,interpolationkey:j})};this.resetRegExp();const _=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((x=a==null?void 0:a.interpolation)==null?void 0:x.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:V=>Wm(V)},{regex:this.regexp,safeValue:V=>this.escapeValue?Wm(this.escape(V)):Wm(V)}].forEach(V=>{for(d=0;l=V.regex.exec(e);){const B=l[1].trim();if(c=g(B),c===void 0)if(typeof _=="function"){const W=_(e,l,a);c=Re(W)?W:""}else if(a&&Object.prototype.hasOwnProperty.call(a,B))c="";else if(v){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${B} for interpolating ${e}`),c="";else!Re(c)&&!this.useRawValueToEscape&&(c=H0(c));const j=V.safeValue(c);if(e=e.replace(l[0],j),v?(V.regex.lastIndex+=c.length,V.regex.lastIndex-=l[0].length):V.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let a,l,c;const d=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const v=p.split(new RegExp(`${_}[ ]*{`));let S=`{${v[1]}`;p=v[0],S=this.interpolate(S,c);const x=S.match(/'/g),V=S.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!V||V.length%2!==0)&&(S=S.replace(/'/g,'"'));try{c=JSON.parse(S),g&&(c={...g,...c})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,B),`${p}${_}${S}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...r},c=c.replace&&!Re(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(p=a[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!Re(l))return l;Re(l)||(l=H0(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),p.length&&(l=p.reduce((_,v)=>this.format(_,v,r.lng,{...r,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const SC=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const r=i.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();t[_]||(t[_]=g),g==="false"&&(t[_]=!1),g==="true"&&(t[_]=!0),isNaN(g)||(t[_]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Z0=i=>{const e={};return(t,r,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=r+JSON.stringify(l);let d=e[c];return d||(d=i(pu(r),a),e[c]=d),d(t)}},bC=i=>(e,t,r)=>i(pu(t),r)(e);class wC{constructor(e={}){this.logger=Mi.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Z0:bC;this.formats={number:r((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return d=>c.format(d)}),currency:r((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>c.format(d)}),datetime:r((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return d=>c.format(d)}),relativetime:r((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return d=>c.format(d,l.range||"day")}),list:r((a,l)=>{const c=new Intl.ListFormat(a,{...l});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Z0(t)}format(e,t,r,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{var v;const{formatName:g,formatOptions:_}=SC(p);if(this.formats[g]){let S=d;try{const x=((v=a==null?void 0:a.formatParams)==null?void 0:v[a.interpolationkey])||{},V=x.locale||x.lng||a.locale||a.lng||r;S=this.formats[g](d,V,{..._,...a,...x})}catch(x){this.logger.warn(x)}return S}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const AC=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class RC extends vf{constructor(e,t,r,a={}){var l,c;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Mi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,r,a.backend,a)}queueLoad(e,t,r,a){const l={},c={},d={},p={};return e.forEach(g=>{let _=!0;t.forEach(v=>{const S=`${g}|${v}`;!r.reload&&this.store.hasResourceBundle(g,v)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?c[S]===void 0&&(c[S]=!0):(this.state[S]=1,_=!1,c[S]===void 0&&(c[S]=!0),l[S]===void 0&&(l[S]=!0),p[v]===void 0&&(p[v]=!0)))}),_||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&r&&this.store.addResourceBundle(l,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(p=>{uC(p.loaded,[l],c),AC(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const _=p.loaded[g];_.length&&_.forEach(v=>{d[g][v]===void 0&&(d[g][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&_&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,a+1,l*2,c)},l);return}c(g,_)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(_=>d(null,_)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Re(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Re(t)&&(t=[t]);const l=this.queueLoad(e,t,r,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),a=r[0],l=r[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,r,a,l,c={},d=()=>{}){var p,g,_,v,S;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((v=(_=this.services)==null?void 0:_.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((S=this.backend)!=null&&S.create){const x={...c,isUpdate:l},V=this.backend.create.bind(this.backend);if(V.length<6)try{let B;V.length===5?B=V(e,t,r,a,x):B=V(e,t,r,a),B&&typeof B.then=="function"?B.then(j=>d(null,j)).catch(d):d(null,B)}catch(B){d(B)}else V(e,t,r,a,d,x)}!e||!e[0]||this.store.addResource(e[0],t,r,a)}}}const eE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),Re(i[1])&&(e.defaultValue=i[1]),Re(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),tE=i=>{var e,t;return Re(i.ns)&&(i.ns=[i.ns]),Re(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Re(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((t=(e=i.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},Sh=()=>{},xC=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class au extends vf{constructor(e={},t){if(super(),this.options=tE(e),this.services={},this.logger=Mi,this.modules={external:[]},xC(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Re(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=eE();this.options={...r,...this.options,...tE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Mi.init(a(this.modules.logger),this.options):Mi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=wC;const _=new Y0(this.options);this.store=new K0(this.options.resources,this.options);const v=this.services;v.logger=Mi,v.resourceStore=this.store,v.languageUtils=_,v.pluralResolver=new EC(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=a(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new TC(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new RC(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(x,...V)=>{this.emit(x,...V)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Kh(this.services,this.options),this.translator.on("*",(x,...V)=>{this.emit(x,...V)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Sh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const d=Xl(),p=()=>{const g=(_,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),t(_,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=Sh){var l,c;let r=t;const a=Re(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};a?p(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>p(_)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const a=Xl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Sh),this.services.backendConnector.reload(e,t,l=>{a.resolve(),r(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&yS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Xl();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,p)=>{p?this.isLanguageChangingTo===e&&(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},c=d=>{var _,v;!e&&!d&&this.services.languageDetector&&(d=[]);const p=Re(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Re(d)?[d]:d);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),(v=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||v.call(_,g)),this.loadResources(g,S=>{l(S,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,t,r){const a=(l,c,...d)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([l,c].concat(d)):p={...c},p.lng=p.lng||a.lng,p.lngs=p.lngs||a.lngs,p.ns=p.ns||a.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||a.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(l)?_=l.map(v=>(typeof v=="function"&&(v=Tp(v,{...this.options,...c})),`${p.keyPrefix}${g}${v}`)):(typeof l=="function"&&(l=Tp(l,{...this.options,...c})),_=p.keyPrefix?`${p.keyPrefix}${g}${l}`:l),this.t(_,p)};return Re(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const r=Xl();return this.options.ns?(Re(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Xl();Re(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{r.resolve(),t&&t(c)}),r):(t&&t(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const c=new Intl.Locale(e);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((l=this.services)==null?void 0:l.languageUtils)||new Y0(eE());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new au(e,t);return r.createInstance=au.createInstance,r}cloneInstance(e={},t=Sh){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new au(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},r){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,v)=>(_[v]={...p[g][v]},_),p[g]),p),{});l.store=new K0(d,a),l.services.resourceStore=l.store}return l.translator=new Kh(l.services,a),l.translator.on("*",(d,...p)=>{l.emit(d,...p)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const on=au.createInstance();on.createInstance;on.dir;on.init;on.loadResources;on.reloadResources;on.use;on.changeLanguage;on.getFixedT;on.t;on.exists;on.setDefaultNamespace;on.hasLoadedNamespace;on.loadNamespaces;on.loadLanguages;const CC=(i,e,t,r)=>{var l,c,d,p;const a=[t,{code:e,...r||{}}];if((c=(l=i==null?void 0:i.services)==null?void 0:l.logger)!=null&&c.forward)return i.services.logger.forward(a,"warn","react-i18next::",!0);ca(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(p=(d=i==null?void 0:i.services)==null?void 0:d.logger)!=null&&p.warn?i.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},nE={},vS=(i,e,t,r)=>{ca(t)&&nE[t]||(ca(t)&&(nE[t]=new Date),CC(i,e,t,r))},ES=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},Sp=(i,e,t)=>{i.loadNamespaces(e,ES(i,t))},iE=(i,e,t,r)=>{if(ca(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return Sp(i,t,r);t.forEach(a=>{i.options.ns.indexOf(a)<0&&i.options.ns.push(a)}),i.loadLanguages(e,ES(i,r))},IC=(i,e,t={})=>!e.languages||!e.languages.length?(vS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(r,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,i))return!1}}),ca=i=>typeof i=="string",NC=i=>typeof i=="object"&&i!==null,OC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,DC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},MC=i=>DC[i],LC=i=>i.replace(OC,MC);let bp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:LC};const VC=(i={})=>{bp={...bp,...i}},PC=()=>bp;let TS;const kC=i=>{TS=i},UC=()=>TS,jC={type:"3rdParty",init(i){VC(i.options.react),kC(i)}},zC=k.createContext();class BC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Zm={exports:{}},ep={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function qC(){if(rE)return ep;rE=1;var i=mf();function e(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}var t=typeof Object.is=="function"?Object.is:e,r=i.useState,a=i.useEffect,l=i.useLayoutEffect,c=i.useDebugValue;function d(v,S){var x=S(),V=r({inst:{value:x,getSnapshot:S}}),B=V[0].inst,j=V[1];return l(function(){B.value=x,B.getSnapshot=S,p(B)&&j({inst:B})},[v,x,S]),a(function(){return p(B)&&j({inst:B}),v(function(){p(B)&&j({inst:B})})},[v]),c(x),x}function p(v){var S=v.getSnapshot;v=v.value;try{var x=S();return!t(v,x)}catch{return!0}}function g(v,S){return S()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return ep.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:_,ep}var sE;function HC(){return sE||(sE=1,Zm.exports=qC()),Zm.exports}var FC=HC();const GC=(i,e)=>ca(e)?e:NC(e)&&ca(e.defaultValue)?e.defaultValue:Array.isArray(i)?i[i.length-1]:i,$C={t:GC,ready:!1},KC=()=>()=>{},Ou=(i,e={})=>{var D,N;const{i18n:t}=e,{i18n:r,defaultNS:a}=k.useContext(zC)||{},l=t||r||UC();l&&!l.reportNamespaces&&(l.reportNamespaces=new BC),l||vS(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=k.useMemo(()=>{var A;return{...PC(),...(A=l==null?void 0:l.options)==null?void 0:A.react,...e}},[l,e]),{useSuspense:d,keyPrefix:p}=c,g=k.useMemo(()=>{var M;const A=a||((M=l==null?void 0:l.options)==null?void 0:M.defaultNS);return ca(A)?[A]:A||["translation"]},[i,a,l]);(N=(D=l==null?void 0:l.reportNamespaces)==null?void 0:D.addUsedNamespaces)==null||N.call(D,g);const _=k.useRef(0),v=k.useCallback(A=>{if(!l)return KC;const{bindI18n:M,bindI18nStore:C}=c,U=()=>{_.current+=1,A()};return M&&l.on(M,U),C&&l.store.on(C,U),()=>{M&&M.split(" ").forEach(O=>l.off(O,U)),C&&C.split(" ").forEach(O=>l.store.off(O,U))}},[l,c]),S=k.useRef(),x=k.useCallback(()=>{if(!l)return $C;const A=!!(l.isInitialized||l.initializedStoreOnce)&&g.every(Qe=>IC(Qe,l,c)),M=e.lng||l.language,C=_.current,U=S.current;if(U&&U.ready===A&&U.lng===M&&U.keyPrefix===p&&U.revision===C)return U;const Te={t:l.getFixedT(M,c.nsMode==="fallback"?g:g[0],p),ready:A,lng:M,keyPrefix:p,revision:C};return S.current=Te,Te},[l,g,p,c,e.lng]),[V,B]=k.useState(0),{t:j,ready:W}=FC.useSyncExternalStore(v,x,x);k.useEffect(()=>{if(l&&!W&&!d){const A=()=>B(M=>M+1);e.lng?iE(l,e.lng,g,A):Sp(l,g,A)}},[l,e.lng,g,W,d,V]);const re=l||{},X=k.useRef(null),le=k.useRef(),ge=A=>{const M=Object.getOwnPropertyDescriptors(A);M.__original&&delete M.__original;const C=Object.create(Object.getPrototypeOf(A),M);if(!Object.prototype.hasOwnProperty.call(C,"__original"))try{Object.defineProperty(C,"__original",{value:A,writable:!1,enumerable:!1,configurable:!1})}catch{}return C},ve=k.useMemo(()=>{const A=re,M=A==null?void 0:A.language;let C=A;A&&(X.current&&X.current.__original===A?le.current!==M?(C=ge(A),X.current=C,le.current=M):C=X.current:(C=ge(A),X.current=C,le.current=M));const U=[j,C,W];return U.t=j,U.i18n=C,U.ready=W,U},[j,re,W,re.resolvedLanguage,re.language,re.languages]);if(l&&d&&!W)throw new Promise(A=>{const M=()=>A();e.lng?iE(l,e.lng,g,M):Sp(l,g,M)});return ve},cr=({className:i})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ef=({className:i})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),QC=({className:i})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),YC=({className:i})=>R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),XC=()=>{const{t:i}=Ou(),e=t=>{const r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth",block:"start"})};return R.jsx("footer",{className:"bg-slate-800 text-slate-300",children:R.jsxs("div",{className:"container mx-auto px-6 py-12",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[R.jsx(Ef,{className:"w-7 h-7 text-indigo-400"}),R.jsx("h1",{className:"text-xl font-bold text-white",children:"Invoice AI Parser"})]}),R.jsx("p",{className:"text-sm text-slate-400",children:i("footer.about")})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-white mb-4",children:i("footer.navigation")}),R.jsxs("ul",{className:"space-y-2 text-sm",children:[R.jsx("li",{children:R.jsx("a",{href:"#features",onClick:t=>{t.preventDefault(),e("features")},className:"hover:text-indigo-400 transition-colors",children:i("header.features")})}),R.jsx("li",{children:R.jsx("a",{href:"#how-it-works",onClick:t=>{t.preventDefault(),e("how-it-works")},className:"hover:text-indigo-400 transition-colors",children:i("header.how_it_works")})}),R.jsx("li",{children:R.jsx("a",{href:"#pricing",onClick:t=>{t.preventDefault(),e("pricing")},className:"hover:text-indigo-400 transition-colors",children:i("header.pricing")})}),R.jsx("li",{children:R.jsx("a",{href:"#faq",onClick:t=>{t.preventDefault(),e("faq")},className:"hover:text-indigo-400 transition-colors",children:i("header.faq")})})]})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-white mb-4",children:i("footer.legal")}),R.jsxs("ul",{className:"space-y-2 text-sm",children:[R.jsx("li",{children:R.jsx(mu,{to:"/privacy-policy",className:"hover:text-indigo-400 transition-colors",children:i("footer.privacy_policy")})}),R.jsx("li",{children:R.jsx(mu,{to:"/terms-of-service",className:"hover:text-indigo-400 transition-colors",children:i("footer.terms_of_service")})})]})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-white mb-4",children:i("footer.contact")}),R.jsx("ul",{className:"space-y-2 text-sm",children:R.jsx("li",{children:R.jsx("a",{href:"mailto:support@invoiceaiparser.com",className:"hover:text-indigo-400 transition-colors",children:"support@invoiceaiparser.com"})})})]})]}),R.jsx("div",{className:"mt-12 border-t border-slate-700 pt-8 text-center text-sm text-slate-500",children:R.jsx("p",{children:" 2024 Invoice AI Parser. All rights reserved."})})]})})},JC=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},WC=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,p=a+2<i.length,g=p?i[a+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(S=64)),r.push(t[_],t[v],t[S],t[x])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(SS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):WC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const v=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new ZC;const S=l<<2|d>>4;if(r.push(S),g!==64){const x=d<<4&240|g>>2;if(r.push(x),v!==64){const V=g<<6&192|v;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ZC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eI=function(i){const e=SS(i);return bS.encodeByteArray(e,!0)},wS=function(i){return eI(i).replace(/\./g,"")},AS=function(i){try{return bS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=()=>tI().__FIREBASE_DEFAULTS__,iI=()=>{if(typeof process>"u"||typeof aE>"u")return;const i=aE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},rI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&AS(i[1]);return e&&JSON.parse(e)},Tf=()=>{try{return JC()||nI()||iI()||rI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sI=i=>{var e,t;return(t=(e=Tf())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},RS=()=>{var i;return(i=Tf())==null?void 0:i.config},xS=i=>{var e;return(e=Tf())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(i){return(await fetch(i,{credentials:"include"})).ok}const ou={};function oI(){const i={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?i.emulator.push(e):i.prod.push(e);return i}function lI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let oE=!1;function uI(i,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||ou[i]===e||ou[i]||oE)return;ou[i]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",l=oI().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{oE=!0,c()},S}function _(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=lI(r),x=t("text"),V=document.getElementById(x)||document.createElement("span"),B=t("learnmore"),j=document.getElementById(B)||document.createElement("a"),W=t("preprendIcon"),re=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;d(X),_(j,B);const le=g();p(re,W),X.append(re,V,j,le),document.body.appendChild(X)}l?(V.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function hI(){var e;const i=(e=Tf())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gI(){return!hI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="FirebaseError";class wr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vI,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?EI(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new wr(a,d,r)}}function EI(i,e){return i.replace(TI,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const TI=/\{\$([^}]+)}/g;function SI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ha(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(lE(l)&&lE(c)){if(!ha(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function lE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function eu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function bI(i,e){const t=new wI(i,e);return t.subscribe.bind(t)}class wI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=tp),a.error===void 0&&(a.error=tp),a.complete===void 0&&(a.complete=tp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(i){return i&&i._delegate?i._delegate:i}class fa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CI(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xI(i){return i===aa?void 0:i}function CI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const NI={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},OI=Ue.INFO,DI={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},MI=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=DI[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=MI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const LI=(i,e)=>e.some(t=>i instanceof t);let uE,cE;function VI(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PI(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IS=new WeakMap,wp=new WeakMap,NS=new WeakMap,np=new WeakMap,ug=new WeakMap;function kI(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(hs(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&IS.set(t,i)}).catch(()=>{}),ug.set(e,i),e}function UI(i){if(wp.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});wp.set(i,e)}let Ap={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return wp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||NS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function jI(i){Ap=i(Ap)}function zI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(ip(this),e,...t);return NS.set(r,e.sort?e.sort():[e]),hs(r)}:PI().includes(i)?function(...e){return i.apply(ip(this),e),hs(IS.get(this))}:function(...e){return hs(i.apply(ip(this),e))}}function BI(i){return typeof i=="function"?zI(i):(i instanceof IDBTransaction&&UI(i),LI(i,VI())?new Proxy(i,Ap):i)}function hs(i){if(i instanceof IDBRequest)return kI(i);if(np.has(i))return np.get(i);const e=BI(i);return e!==i&&(np.set(i,e),ug.set(e,i)),e}const ip=i=>ug.get(i);function qI(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=hs(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hs(c.result),p.oldVersion,p.newVersion,hs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const HI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],rp=new Map;function hE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=FI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||HI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return rp.set(e,l),l}jI(i=>({...i,get:(e,t,r)=>hE(e,t)||i.get(e,t,r),has:(e,t)=>!!hE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($I(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $I(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",fE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new lg("@firebase/app"),KI="@firebase/app-compat",QI="@firebase/analytics-compat",YI="@firebase/analytics",XI="@firebase/app-check-compat",JI="@firebase/app-check",WI="@firebase/auth",ZI="@firebase/auth-compat",e2="@firebase/database",t2="@firebase/data-connect",n2="@firebase/database-compat",i2="@firebase/functions",r2="@firebase/functions-compat",s2="@firebase/installations",a2="@firebase/installations-compat",o2="@firebase/messaging",l2="@firebase/messaging-compat",u2="@firebase/performance",c2="@firebase/performance-compat",h2="@firebase/remote-config",f2="@firebase/remote-config-compat",d2="@firebase/storage",m2="@firebase/storage-compat",p2="@firebase/firestore",g2="@firebase/ai",y2="@firebase/firestore-compat",_2="firebase",v2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",E2={[Rp]:"fire-core",[KI]:"fire-core-compat",[YI]:"fire-analytics",[QI]:"fire-analytics-compat",[JI]:"fire-app-check",[XI]:"fire-app-check-compat",[WI]:"fire-auth",[ZI]:"fire-auth-compat",[e2]:"fire-rtdb",[t2]:"fire-data-connect",[n2]:"fire-rtdb-compat",[i2]:"fire-fn",[r2]:"fire-fn-compat",[s2]:"fire-iid",[a2]:"fire-iid-compat",[o2]:"fire-fcm",[l2]:"fire-fcm-compat",[u2]:"fire-perf",[c2]:"fire-perf-compat",[h2]:"fire-rc",[f2]:"fire-rc-compat",[d2]:"fire-gcs",[m2]:"fire-gcs-compat",[p2]:"fire-fst",[y2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,T2=new Map,Cp=new Map;function dE(i,e){try{i.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function wo(i){const e=i.name;if(Cp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,i);for(const t of Qh.values())dE(t,i);for(const t of T2.values())dE(t,i);return!0}function cg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Du("app","Firebase",S2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=v2;function OS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:xp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw fs.create("bad-app-name",{appName:String(a)});if(t||(t=RS()),!t)throw fs.create("no-options");const l=Qh.get(a);if(l){if(ha(t,l.options)&&ha(r,l.config))return l;throw fs.create("duplicate-app",{appName:a})}const c=new II(a);for(const p of Cp.values())c.addComponent(p);const d=new b2(t,r,c);return Qh.set(a,d),d}function w2(i=xp){const e=Qh.get(i);if(!e&&i===xp&&RS())return OS();if(!e)throw fs.create("no-app",{appName:i});return e}function ds(i,e,t){let r=E2[i]??i;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(c.join(" "));return}wo(new fa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",R2=1,gu="firebase-heartbeat-store";let sp=null;function DS(){return sp||(sp=qI(A2,R2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),sp}async function x2(i){try{const t=(await DS()).transaction(gu),r=await t.objectStore(gu).get(MS(i));return await t.done,r}catch(e){if(e instanceof wr)vr.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(t.message)}}}async function mE(i,e){try{const r=(await DS()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,MS(i)),await r.done}catch(t){if(t instanceof wr)vr.warn(t.message);else{const r=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vr.warn(r.message)}}}function MS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1024,I2=30;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new D2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=pE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>I2){const c=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pE(),{heartbeatsToSend:r,unsentEntries:a}=O2(this._heartbeatsCache.heartbeats),l=wS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vr.warn(t),""}}}function pE(){return new Date().toISOString().substring(0,10)}function O2(i,e=C2){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),gE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),gE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gE(i){return wS(JSON.stringify({version:2,heartbeats:i})).length}function M2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i){wo(new fa("platform-logger",e=>new GI(e),"PRIVATE")),wo(new fa("heartbeat",e=>new N2(e),"PRIVATE")),ds(Rp,fE,i),ds(Rp,fE,"esm2020"),ds("fire-js","")}L2("");var V2="firebase",P2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(V2,P2,"app");function LS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k2=LS,VS=new Du("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new lg("@firebase/auth");function U2(i,...e){Yh.logLevel<=Ue.WARN&&Yh.warn(`Auth (${Vo}): ${i}`,...e)}function Lh(i,...e){Yh.logLevel<=Ue.ERROR&&Yh.error(`Auth (${Vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,...e){throw fg(i,...e)}function si(i,...e){return fg(i,...e)}function hg(i,e,t){const r={...k2(),[e]:t};return new Du("auth","Firebase",r).create(e,{appName:i.name})}function pr(i){return hg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j2(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(i,"argument-error"),hg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return VS.create(i,...e)}function Se(i,e,...t){if(!i)throw fg(e,...t)}function fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Lh(e),new Error(e)}function Er(i,e){i||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function z2(){return yE()==="http:"||yE()==="https:"}function yE(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||dI()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=cI()||mI()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){Er(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new Lu(3e4,6e4);function ws(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function As(i,e,t,r,a={}){return kS(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Mu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return fI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),PS.fetch()(await US(i,i.config.apiHost,t,d),g)})}async function kS(i,e,t){i._canInitEmulator=!1;const r={...H2,...e};try{const a=new K2(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw bh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw bh(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hg(i,_,g);Gn(i,_)}}catch(a){if(a instanceof wr)throw a;Gn(i,"network-request-failed",{message:String(a)})}}async function Vu(i,e,t,r,a={}){const l=await As(i,e,t,r,a);return"mfaPendingCredential"in l&&Gn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function US(i,e,t,r){const a=`${e}${t}?${r}`,l=i,c=l.config.emulator?dg(i.config,a):`${i.config.apiScheme}://${a}`;return F2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),G2.get())})}}function bh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=si(i,e,r);return a.customData._tokenResponse=t,a}function _E(i){return i!==void 0&&i.enterprise!==void 0}class Q2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y2(i,e){return As(i,"GET","/v2/recaptchaConfig",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(i,e){return As(i,"POST","/v1/accounts:delete",e)}async function Xh(i,e){return As(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J2(i,e=!1){const t=qt(i),r=await t.getIdToken(e),a=mg(r);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:lu(ap(a.auth_time)),issuedAtTime:lu(ap(a.iat)),expirationTime:lu(ap(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ap(i){return Number(i)*1e3}function mg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const a=AS(t);return a?JSON.parse(a):(Lh("Failed to decode base64 JWT payload"),null)}catch(a){return Lh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function vE(i){const e=mg(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wr&&W2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function W2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(i){var v;const e=i.auth,t=await i.getIdToken(),r=await yu(i,Xh(e,{idToken:t}));Se(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];i._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?jS(a.providerUserInfo):[],c=tN(i.providerData,l),d=i.isAnonymous,p=!(i.email&&a.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function eN(i){const e=qt(i);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tN(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function jS(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(i,e){const t=await kS(i,{},async()=>{const r=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await US(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),PS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iN(i,e){return As(i,"POST","/v2/accounts:revokeToken",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=vE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await nN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new _o;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Np(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J2(this,e)}reload(){return eN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await yu(this,X2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:x,providerData:V,stsTokenManager:B}=t;Se(v&&B,e,"internal-error");const j=_o.fromJSON(this.name,B);Se(typeof v=="string",e,"internal-error"),ss(r,e.name),ss(a,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),ss(l,e.name),ss(c,e.name),ss(d,e.name),ss(p,e.name),ss(g,e.name),ss(_,e.name);const W=new ri({uid:v,auth:e,email:a,emailVerified:S,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:_});return V&&Array.isArray(V)&&(W.providerData=V.map(re=>({...re}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,r=!1){const a=new _o;a.updateFromServerResponse(t);const l=new ri({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Jh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?jS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new _o;d.updateFromIdToken(r);const p=new ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function dr(i){Er(i instanceof Function,"Expected a class definition");let e=EE.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,EE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zS.type="NONE";const TE=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i,e,t){return`firebase:${i}:${e}:${t}`}class vo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Vh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new vo(dr(TE),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||dr(TE);const c=Vh(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const S=await Xh(e,{idToken:_}).catch(()=>{});if(!S)break;v=await ri._fromGetAccountInfoResponse(e,S,_)}else v=ri._fromJSON(e,_);g!==l&&(d=v),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new vo(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new vo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(KS(e))return"Webos";if(qS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(GS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BS(i=nn()){return/firefox\//i.test(i)}function qS(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(i=nn()){return/crios\//i.test(i)}function FS(i=nn()){return/iemobile/i.test(i)}function GS(i=nn()){return/android/i.test(i)}function $S(i=nn()){return/blackberry/i.test(i)}function KS(i=nn()){return/webos/i.test(i)}function pg(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rN(i=nn()){var e;return pg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function sN(){return pI()&&document.documentMode===10}function QS(i=nn()){return pg(i)||GS(i)||KS(i)||$S(i)||/windows phone/i.test(i)||FS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(i,e=[]){let t;switch(i){case"Browser":t=SE(nn());break;case"Worker":t=`${SE(nn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(i,e={}){return As(i,"GET","/v2/passwordPolicy",ws(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=6;class uN{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??lN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new aN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xh(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(r=p.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(pr(this));const t=e?qt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oN(this),t=new uN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&U2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rs(i){return qt(i)}class bE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bI(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hN(i){Sf=i}function XS(i){return Sf.loadJS(i)}function fN(){return Sf.recaptchaEnterpriseScript}function dN(){return Sf.gapiScript}function mN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pN{constructor(){this.enterprise=new gN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yN="recaptcha-enterprise",JS="NO_RECAPTCHA";class _N{constructor(e){this.type=yN,this.auth=Rs(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{Y2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Q2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;_E(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(JS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!t&&_E(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fN();p.length!==0&&(p+=d),XS(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function wE(i,e,t,r=!1,a=!1){const l=new _N(i);let c;if(a)c=JS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Op(i,e,t,r,a){var l;if((l=i._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wE(i,e,t,t==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wE(i,e,t,t==="getOobCode");return r(i,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i,e){const t=cg(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ha(l,e??{}))return a;Gn(a,"already-initialized")}return t.initialize({options:e})}function EN(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(dr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TN(i,e,t){const r=Rs(i);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=WS(e),{host:c,port:d}=SN(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ha(g,r.config.emulator)&&ha(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Lo(c)?(CS(`${l}//${c}${p}`),uI("Auth",!0)):bN()}function WS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function SN(i){const e=WS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:AE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:AE(c)}}}function AE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function wN(i,e){return As(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,e){return Vu(i,"POST","/v1/accounts:signInWithPassword",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(i,e){return Vu(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}async function xN(i,e){return Vu(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends gg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,t,"signInWithPassword",AN);case"emailLink":return RN(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,r,"signUpPassword",wN);case"emailLink":return xN(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e){return Vu(i,"POST","/v1/accounts:signInWithIdp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="http://localhost";class da extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new da(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Eo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Eo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eo(e,t)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NN(i){const e=Zl(eu(i)).link,t=e?Zl(eu(e)).deep_link_id:null,r=Zl(eu(i)).deep_link_id;return(r?Zl(eu(r)).link:null)||r||t||e||i}class yg{constructor(e){const t=Zl(eu(e)),r=t.apiKey??null,a=t.oobCode??null,l=IN(t.mode??null);Se(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=NN(e);try{return new yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=yg.parseLink(t);return Se(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends _g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Pu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hr.credential(t,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Pu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Pu{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return us.credential(t,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(i,e){return Vu(i,"POST","/v1/accounts:signUp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await ri._fromIdTokenResponse(e,r,a),c=RE(r);return new ma({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=RE(r);return new ma({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function RE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends wr{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Wh(e,t,r,a)}}function ZS(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(i,l,e,r):l})}async function DN(i,e,t=!1){const r=await yu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ma._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(i,e,t=!1){const{auth:r}=i;if(xn(r.app))return Promise.reject(pr(r));const a="reauthenticate";try{const l=await yu(i,ZS(r,a,e,i),t);Se(l.idToken,r,"internal-error");const c=mg(l.idToken);Se(c,r,"internal-error");const{sub:d}=c;return Se(i.uid===d,r,"user-mismatch"),ma._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(i,e,t=!1){if(xn(i.app))return Promise.reject(pr(i));const r="signIn",a=await ZS(i,r,e),l=await ma._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}async function LN(i,e){return eb(Rs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(i){const e=Rs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VN(i,e,t){if(xn(i.app))return Promise.reject(pr(i));const r=Rs(i),c=await Op(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ON).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tb(i),p}),d=await ma._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function PN(i,e,t){return xn(i.app)?Promise.reject(pr(i)):LN(qt(i),Po.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tb(i),r})}function kN(i,e,t,r){return qt(i).onIdTokenChanged(e,t,r)}function UN(i,e,t){return qt(i).beforeAuthStateChanged(e,t)}function jN(i,e,t,r){return qt(i).onAuthStateChanged(e,t,r)}function zN(i){return qt(i).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1e3,qN=10;class ib extends nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);sN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qN):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ib.type="LOCAL";const HN=ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rb.type="SESSION";const sb=rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await FN(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=vg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const S=v;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function $N(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function KN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function YN(){return ab()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firebaseLocalStorageDb",XN=1,ef="firebaseLocalStorage",lb="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wf(i,e){return i.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function JN(){const i=indexedDB.deleteDatabase(ob);return new ku(i).toPromise()}function Dp(){const i=indexedDB.open(ob,XN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(ef,{keyPath:lb})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(ef)?e(r):(r.close(),await JN(),e(await Dp()))})})}async function xE(i,e,t){const r=wf(i,!0).put({[lb]:e,value:t});return new ku(r).toPromise()}async function WN(i,e){const t=wf(i,!1).get(e),r=await new ku(t).toPromise();return r===void 0?null:r.value}function CE(i,e){const t=wf(i,!0).delete(e);return new ku(t).toPromise()}const ZN=800,eO=3;class ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>eO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ab()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(YN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await xE(e,Zh,"1"),await CE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>WN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=wf(a,!1).getAll();return new ku(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ub.type="LOCAL";const tO=ub;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(i,e){return e?dr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nO(i){return eb(i.auth,new Eg(i),i.bypassAuthState)}function iO(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),MN(t,new Eg(i),i.bypassAuthState)}async function rO(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),DN(t,new Eg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nO;case"linkViaPopup":case"linkViaRedirect":return rO;case"reauthViaPopup":case"reauthViaRedirect":return iO;default:Gn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Lu(2e3,1e4);async function aO(i,e,t){if(xn(i.app))return Promise.reject(si(i,"operation-not-supported-in-this-environment"));const r=Rs(i);j2(i,e,_g);const a=cb(r,t);return new oa(r,"signInViaPopup",e,a).executeNotNull()}class oa extends hb{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sO.get())};e()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="pendingRedirect",Ph=new Map;class lO extends hb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await uO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(i,e){const t=fO(e),r=hO(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function cO(i,e){Ph.set(i._key(),e)}function hO(i){return dr(i._redirectPersistence)}function fO(i){return Vh(oO,i.config.apiKey,i.name)}async function dO(i,e,t=!1){if(xn(i.app))return Promise.reject(pr(i));const r=Rs(i),a=cb(r,e),c=await new lO(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=600*1e3;class pO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fb(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(si(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function fb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,e={}){return As(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function EO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await yO(i);for(const t of e)try{if(TO(t))return}catch{}Gn(i,"unauthorized-domain")}function TO(i){const e=Ip(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!vO.test(t))return!1;if(_O.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Lu(3e4,6e4);function NE(){const i=Li().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function bO(i){return new Promise((e,t)=>{var a,l,c;function r(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),t(si(i,"network-request-failed"))},timeout:SO.get()})}if((l=(a=Li().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Li().gapi)!=null&&c.load)r();else{const d=mN("iframefcb");return Li()[d]=()=>{gapi.load?r():t(si(i,"network-request-failed"))},XS(`${dN()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw kh=null,e})}let kh=null;function wO(i){return kh=kh||bO(i),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Lu(5e3,15e3),RO="__/auth/iframe",xO="emulator/auth/iframe",CO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?dg(e,xO):`https://${i.config.authDomain}/${RO}`,r={apiKey:e.apiKey,appName:i.name,v:Vo},a=IO.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Mu(r).slice(1)}`}async function OO(i){const e=await wO(i),t=Li().gapi;return Se(t,i,"internal-error"),e.open({where:document.body,url:NO(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=si(i,"network-request-failed"),d=Li().setTimeout(()=>{l(c)},AO.get());function p(){Li().clearTimeout(d),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MO=500,LO=600,VO="_blank",PO="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kO(i,e,t,r=MO,a=LO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...DO,width:r.toString(),height:a.toString(),top:l,left:c},g=nn().toLowerCase();t&&(d=HS(g)?VO:t),BS(g)&&(e=e||PO,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[x,V])=>`${S}${x}=${V},`,"");if(rN(g)&&d!=="_self")return UO(e||"",d),new OE(null);const v=window.open(e||"",d,_);Se(v,i,"popup-blocked");try{v.focus()}catch{}return new OE(v)}function UO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",zO="emulator/auth/handler",BO=encodeURIComponent("fac");async function DE(i,e,t,r,a,l){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Vo,eventId:a};if(e instanceof _g){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",SI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof Pu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${BO}=${encodeURIComponent(p)}`:"";return`${qO(i)}?${Mu(d).slice(1)}${g}`}function qO({config:i}){return i.emulator?dg(i,zO):`https://${i.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class HO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sb,this._completeRedirectFn=dO,this._overrideRedirectResult=cO}async _openPopup(e,t,r,a){var c;Er((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await DE(e,t,r,Ip(),a);return kO(e,l,vg())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await DE(e,t,r,Ip(),a);return $N(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Er(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OO(e),r=new pO(e);return t.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[op];l!==void 0&&t(!!l),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QS()||qS()||pg()}}const FO=HO;var ME="@firebase/auth",LE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KO(i){wo(new fa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(i)},g=new cN(r,a,l,p);return EN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wo(new fa("auth-internal",e=>{const t=Rs(e.getProvider("auth").getImmediate());return(r=>new GO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(ME,LE,$O(i)),ds(ME,LE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=300,YO=xS("authIdTokenMaxAge")||QO;let VE=null;const XO=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YO)return;const a=t==null?void 0:t.token;VE!==a&&(VE=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function JO(i=w2()){const e=cg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=vN(i,{popupRedirectResolver:FO,persistence:[tO,HN,sb]}),r=xS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=XO(l.toString());UN(t,c,()=>c(t.currentUser)),kN(t,d=>c(d))}}const a=sI("auth");return a&&TN(t,`http://${a}`),t}function WO(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}hN({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=si("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",WO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KO("Browser");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,db;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function A(){}A.prototype=N.prototype,D.F=N.prototype,D.prototype=new A,D.prototype.constructor=D,D.D=function(M,C,U){for(var O=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];return N.prototype[C].apply(M,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,N,A){A||(A=0);const M=Array(16);if(typeof N=="string")for(var C=0;C<16;++C)M[C]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(C=0;C<16;++C)M[C]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=D.g[0],A=D.g[1],C=D.g[2];let U=D.g[3],O;O=N+(U^A&(C^U))+M[0]+3614090360&4294967295,N=A+(O<<7&4294967295|O>>>25),O=U+(C^N&(A^C))+M[1]+3905402710&4294967295,U=N+(O<<12&4294967295|O>>>20),O=C+(A^U&(N^A))+M[2]+606105819&4294967295,C=U+(O<<17&4294967295|O>>>15),O=A+(N^C&(U^N))+M[3]+3250441966&4294967295,A=C+(O<<22&4294967295|O>>>10),O=N+(U^A&(C^U))+M[4]+4118548399&4294967295,N=A+(O<<7&4294967295|O>>>25),O=U+(C^N&(A^C))+M[5]+1200080426&4294967295,U=N+(O<<12&4294967295|O>>>20),O=C+(A^U&(N^A))+M[6]+2821735955&4294967295,C=U+(O<<17&4294967295|O>>>15),O=A+(N^C&(U^N))+M[7]+4249261313&4294967295,A=C+(O<<22&4294967295|O>>>10),O=N+(U^A&(C^U))+M[8]+1770035416&4294967295,N=A+(O<<7&4294967295|O>>>25),O=U+(C^N&(A^C))+M[9]+2336552879&4294967295,U=N+(O<<12&4294967295|O>>>20),O=C+(A^U&(N^A))+M[10]+4294925233&4294967295,C=U+(O<<17&4294967295|O>>>15),O=A+(N^C&(U^N))+M[11]+2304563134&4294967295,A=C+(O<<22&4294967295|O>>>10),O=N+(U^A&(C^U))+M[12]+1804603682&4294967295,N=A+(O<<7&4294967295|O>>>25),O=U+(C^N&(A^C))+M[13]+4254626195&4294967295,U=N+(O<<12&4294967295|O>>>20),O=C+(A^U&(N^A))+M[14]+2792965006&4294967295,C=U+(O<<17&4294967295|O>>>15),O=A+(N^C&(U^N))+M[15]+1236535329&4294967295,A=C+(O<<22&4294967295|O>>>10),O=N+(C^U&(A^C))+M[1]+4129170786&4294967295,N=A+(O<<5&4294967295|O>>>27),O=U+(A^C&(N^A))+M[6]+3225465664&4294967295,U=N+(O<<9&4294967295|O>>>23),O=C+(N^A&(U^N))+M[11]+643717713&4294967295,C=U+(O<<14&4294967295|O>>>18),O=A+(U^N&(C^U))+M[0]+3921069994&4294967295,A=C+(O<<20&4294967295|O>>>12),O=N+(C^U&(A^C))+M[5]+3593408605&4294967295,N=A+(O<<5&4294967295|O>>>27),O=U+(A^C&(N^A))+M[10]+38016083&4294967295,U=N+(O<<9&4294967295|O>>>23),O=C+(N^A&(U^N))+M[15]+3634488961&4294967295,C=U+(O<<14&4294967295|O>>>18),O=A+(U^N&(C^U))+M[4]+3889429448&4294967295,A=C+(O<<20&4294967295|O>>>12),O=N+(C^U&(A^C))+M[9]+568446438&4294967295,N=A+(O<<5&4294967295|O>>>27),O=U+(A^C&(N^A))+M[14]+3275163606&4294967295,U=N+(O<<9&4294967295|O>>>23),O=C+(N^A&(U^N))+M[3]+4107603335&4294967295,C=U+(O<<14&4294967295|O>>>18),O=A+(U^N&(C^U))+M[8]+1163531501&4294967295,A=C+(O<<20&4294967295|O>>>12),O=N+(C^U&(A^C))+M[13]+2850285829&4294967295,N=A+(O<<5&4294967295|O>>>27),O=U+(A^C&(N^A))+M[2]+4243563512&4294967295,U=N+(O<<9&4294967295|O>>>23),O=C+(N^A&(U^N))+M[7]+1735328473&4294967295,C=U+(O<<14&4294967295|O>>>18),O=A+(U^N&(C^U))+M[12]+2368359562&4294967295,A=C+(O<<20&4294967295|O>>>12),O=N+(A^C^U)+M[5]+4294588738&4294967295,N=A+(O<<4&4294967295|O>>>28),O=U+(N^A^C)+M[8]+2272392833&4294967295,U=N+(O<<11&4294967295|O>>>21),O=C+(U^N^A)+M[11]+1839030562&4294967295,C=U+(O<<16&4294967295|O>>>16),O=A+(C^U^N)+M[14]+4259657740&4294967295,A=C+(O<<23&4294967295|O>>>9),O=N+(A^C^U)+M[1]+2763975236&4294967295,N=A+(O<<4&4294967295|O>>>28),O=U+(N^A^C)+M[4]+1272893353&4294967295,U=N+(O<<11&4294967295|O>>>21),O=C+(U^N^A)+M[7]+4139469664&4294967295,C=U+(O<<16&4294967295|O>>>16),O=A+(C^U^N)+M[10]+3200236656&4294967295,A=C+(O<<23&4294967295|O>>>9),O=N+(A^C^U)+M[13]+681279174&4294967295,N=A+(O<<4&4294967295|O>>>28),O=U+(N^A^C)+M[0]+3936430074&4294967295,U=N+(O<<11&4294967295|O>>>21),O=C+(U^N^A)+M[3]+3572445317&4294967295,C=U+(O<<16&4294967295|O>>>16),O=A+(C^U^N)+M[6]+76029189&4294967295,A=C+(O<<23&4294967295|O>>>9),O=N+(A^C^U)+M[9]+3654602809&4294967295,N=A+(O<<4&4294967295|O>>>28),O=U+(N^A^C)+M[12]+3873151461&4294967295,U=N+(O<<11&4294967295|O>>>21),O=C+(U^N^A)+M[15]+530742520&4294967295,C=U+(O<<16&4294967295|O>>>16),O=A+(C^U^N)+M[2]+3299628645&4294967295,A=C+(O<<23&4294967295|O>>>9),O=N+(C^(A|~U))+M[0]+4096336452&4294967295,N=A+(O<<6&4294967295|O>>>26),O=U+(A^(N|~C))+M[7]+1126891415&4294967295,U=N+(O<<10&4294967295|O>>>22),O=C+(N^(U|~A))+M[14]+2878612391&4294967295,C=U+(O<<15&4294967295|O>>>17),O=A+(U^(C|~N))+M[5]+4237533241&4294967295,A=C+(O<<21&4294967295|O>>>11),O=N+(C^(A|~U))+M[12]+1700485571&4294967295,N=A+(O<<6&4294967295|O>>>26),O=U+(A^(N|~C))+M[3]+2399980690&4294967295,U=N+(O<<10&4294967295|O>>>22),O=C+(N^(U|~A))+M[10]+4293915773&4294967295,C=U+(O<<15&4294967295|O>>>17),O=A+(U^(C|~N))+M[1]+2240044497&4294967295,A=C+(O<<21&4294967295|O>>>11),O=N+(C^(A|~U))+M[8]+1873313359&4294967295,N=A+(O<<6&4294967295|O>>>26),O=U+(A^(N|~C))+M[15]+4264355552&4294967295,U=N+(O<<10&4294967295|O>>>22),O=C+(N^(U|~A))+M[6]+2734768916&4294967295,C=U+(O<<15&4294967295|O>>>17),O=A+(U^(C|~N))+M[13]+1309151649&4294967295,A=C+(O<<21&4294967295|O>>>11),O=N+(C^(A|~U))+M[4]+4149444226&4294967295,N=A+(O<<6&4294967295|O>>>26),O=U+(A^(N|~C))+M[11]+3174756917&4294967295,U=N+(O<<10&4294967295|O>>>22),O=C+(N^(U|~A))+M[2]+718787259&4294967295,C=U+(O<<15&4294967295|O>>>17),O=A+(U^(C|~N))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,N){N===void 0&&(N=D.length);const A=N-this.blockSize,M=this.C;let C=this.h,U=0;for(;U<N;){if(C==0)for(;U<=A;)a(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<N;)if(M[C++]=D.charCodeAt(U++),C==this.blockSize){a(this,M),C=0;break}}else for(;U<N;)if(M[C++]=D[U++],C==this.blockSize){a(this,M),C=0;break}}this.h=C,this.o+=N},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var A=D.length-8;A<D.length;++A)D[A]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,A=0;A<4;++A)for(let M=0;M<32;M+=8)D[N++]=this.g[A]>>>M&255;return D};function l(D,N){var A=d;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=N(D)}function c(D,N){this.h=N;const A=[];let M=!0;for(let C=D.length-1;C>=0;C--){const U=D[C]|0;M&&U==N||(A[C]=U,M=!1)}this.g=A}var d={};function p(D){return-128<=D&&D<128?l(D,function(N){return new c([N|0],N<0?-1:0)}):new c([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return j(g(-D));const N=[];let A=1;for(let M=0;D>=A;M++)N[M]=D/A|0,A*=4294967296;return new c(N,0)}function _(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return j(_(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(N,8));let M=v;for(let U=0;U<D.length;U+=8){var C=Math.min(8,D.length-U);const O=parseInt(D.substring(U,U+C),N);C<8?(C=g(Math.pow(N,C)),M=M.j(C).add(g(O))):(M=M.j(A),M=M.add(g(O)))}return M}var v=p(0),S=p(1),x=p(16777216);i=c.prototype,i.m=function(){if(B(this))return-j(this).m();let D=0,N=1;for(let A=0;A<this.g.length;A++){const M=this.i(A);D+=(M>=0?M:4294967296+M)*N,N*=4294967296}return D},i.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(B(this))return"-"+j(this).toString(D);const N=g(Math.pow(D,6));var A=this;let M="";for(;;){const C=le(A,N).g;A=W(A,C.j(N));let U=((A.g.length>0?A.g[0]:A.h)>>>0).toString(D);if(A=C,V(A))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},i.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function B(D){return D.h==-1}i.l=function(D){return D=W(this,D),B(D)?-1:V(D)?0:1};function j(D){const N=D.g.length,A=[];for(let M=0;M<N;M++)A[M]=~D.g[M];return new c(A,~D.h).add(S)}i.abs=function(){return B(this)?j(this):this},i.add=function(D){const N=Math.max(this.g.length,D.g.length),A=[];let M=0;for(let C=0;C<=N;C++){let U=M+(this.i(C)&65535)+(D.i(C)&65535),O=(U>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);M=O>>>16,U&=65535,O&=65535,A[C]=O<<16|U}return new c(A,A[A.length-1]&-2147483648?-1:0)};function W(D,N){return D.add(j(N))}i.j=function(D){if(V(this)||V(D))return v;if(B(this))return B(D)?j(this).j(j(D)):j(j(this).j(D));if(B(D))return j(this.j(j(D)));if(this.l(x)<0&&D.l(x)<0)return g(this.m()*D.m());const N=this.g.length+D.g.length,A=[];for(var M=0;M<2*N;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(let C=0;C<D.g.length;C++){const U=this.i(M)>>>16,O=this.i(M)&65535,Te=D.i(C)>>>16,Qe=D.i(C)&65535;A[2*M+2*C]+=O*Qe,re(A,2*M+2*C),A[2*M+2*C+1]+=U*Qe,re(A,2*M+2*C+1),A[2*M+2*C+1]+=O*Te,re(A,2*M+2*C+1),A[2*M+2*C+2]+=U*Te,re(A,2*M+2*C+2)}for(D=0;D<N;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=N;D<2*N;D++)A[D]=0;return new c(A,0)};function re(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function X(D,N){this.g=D,this.h=N}function le(D,N){if(V(N))throw Error("division by zero");if(V(D))return new X(v,v);if(B(D))return N=le(j(D),N),new X(j(N.g),j(N.h));if(B(N))return N=le(D,j(N)),new X(j(N.g),N.h);if(D.g.length>30){if(B(D)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var A=S,M=N;M.l(D)<=0;)A=ge(A),M=ge(M);var C=ve(A,1),U=ve(M,1);for(M=ve(M,2),A=ve(A,2);!V(M);){var O=U.add(M);O.l(D)<=0&&(C=C.add(A),U=O),M=ve(M,1),A=ve(A,1)}return N=W(D,C.j(N)),new X(C,N)}for(C=v;D.l(N)>=0;){for(A=Math.max(1,Math.floor(D.m()/N.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(A),O=U.j(N);B(O)||O.l(D)>0;)A-=M,U=g(A),O=U.j(N);V(U)&&(U=S),C=C.add(U),D=W(D,O)}return new X(C,D)}i.B=function(D){return le(this,D).h},i.and=function(D){const N=Math.max(this.g.length,D.g.length),A=[];for(let M=0;M<N;M++)A[M]=this.i(M)&D.i(M);return new c(A,this.h&D.h)},i.or=function(D){const N=Math.max(this.g.length,D.g.length),A=[];for(let M=0;M<N;M++)A[M]=this.i(M)|D.i(M);return new c(A,this.h|D.h)},i.xor=function(D){const N=Math.max(this.g.length,D.g.length),A=[];for(let M=0;M<N;M++)A[M]=this.i(M)^D.i(M);return new c(A,this.h^D.h)};function ge(D){const N=D.g.length+1,A=[];for(let M=0;M<N;M++)A[M]=D.i(M)<<1|D.i(M-1)>>>31;return new c(A,D.h)}function ve(D,N){const A=N>>5;N%=32;const M=D.g.length-A,C=[];for(let U=0;U<M;U++)C[U]=N>0?D.i(U+A)>>>N|D.i(U+A+1)<<32-N:D.i(U+A);return new c(C,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,db=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ms=c}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mb,tu,pb,Uh,Mp,gb,yb,_b;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var T=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in T))break e;T=T[q]}h=h[h.length-1],w=T[h],y=y(w),y!=w&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var T=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&T.push([w,y[w]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function v(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(w,q,K){for(var oe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)oe[Oe-2]=arguments[Oe];return y.prototype[q].apply(w,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const T=Array(y);for(let w=0;w<y;w++)T[w]=h[w];return T}return[]}function V(h,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const K=q.length||0;h.length=T+K;for(let oe=0;oe<K;oe++)h[T+oe]=q[oe]}else h.push(q)}}class B{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function W(){var h=D;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,T){const w=X.get();w.set(y,T),this.h?this.h.next=w:this.g=w,this.h=w}}var X=new B(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ve=!1,D=new re,N=()=>{const h=Promise.resolve(void 0);ge=()=>{h.then(A)}};function A(){for(var h;h=W();){try{h.h.call(h.g)}catch(T){j(T)}var y=X;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ve=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function Te(h,y){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(Te,C),Te.prototype.init=function(h,y){const T=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(h,y,T,w,q){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!w,this.ha=q,this.key=++Y,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function we(h,y,T){for(const w in h)y.call(T,h[w],w,h)}function ce(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function I(h){const y={};for(const T in h)y[T]=h[T];return y}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,y){let T,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(T in w)h[T]=w[T];for(let K=0;K<H.length;K++)T=H[K],Object.prototype.hasOwnProperty.call(w,T)&&(h[T]=w[T])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,y,T,w,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const oe=Ae(h,y,w,q);return oe>-1?(y=h[oe],T||(y.fa=!1)):(y=new se(y,this.src,K,!!w,q),y.fa=T,h.push(y)),y};function fe(h,y){const T=y.type;if(T in h.g){var w=h.g[T],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(ae(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ae(h,y,T,w){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==y&&K.capture==!!T&&K.ha==w)return q}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),pt={};function st(h,y,T,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)st(h,y[K],T,w,q);return null}return T=Fo(T),h&&h[Qe]?h.J(y,T,d(w)?!!w.capture:!1,q):qi(h,y,T,!1,w,q)}function qi(h,y,T,w,q,K){if(!y)throw Error("Invalid event type");const oe=d(q)?!!q.capture:!!q;let Oe=Is(h);if(Oe||(h[Ce]=Oe=new ue(h)),T=Oe.add(y,T,w,oe,K),T.proxy)return T;if(w=Hi(),T.proxy=w,w.src=h,w.listener=T,h.addEventListener)U||(q=oe),q===void 0&&(q=!1),h.addEventListener(y.toString(),w,q);else if(h.attachEvent)h.attachEvent(ui(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Hi(){function h(T){return y.call(h.src,h.listener,T)}const y=qo;return h}function Ar(h,y,T,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ar(h,y[K],T,w,q);else w=d(w)?!!w.capture:!!w,T=Fo(T),h&&h[Qe]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],T=Ae(y,T,w,q),T>-1&&(ae(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=Is(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ae(y,T,w,q)),(T=h>-1?y[h]:null)&&Sa(T))}function Sa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Qe])fe(y.i,h);else{var T=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(T,w,h.capture):y.detachEvent?y.detachEvent(ui(T),w):y.addListener&&y.removeListener&&y.removeListener(w),(T=Is(y))?(fe(T,h),T.h==0&&(T.src=null,y[Ce]=null)):ae(h)}}}function ui(h){return h in pt?pt[h]:pt[h]="on"+h}function qo(h,y){if(h.da)h=!0;else{y=new Te(y,this);const T=h.listener,w=h.ha||h.src;h.fa&&Sa(h),h=T.call(w,y)}return h}function Is(h){return h=h[Ce],h instanceof ue?h:null}var Ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fo(h){return typeof h=="function"?h:(h[Ho]||(h[Ho]=function(y){return h.handleEvent(y)}),h[Ho])}function St(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}v(St,M),St.prototype[Qe]=!0,St.prototype.removeEventListener=function(h,y,T,w){Ar(this,h,y,T,w)};function Lt(h,y){var T,w=h.G;if(w)for(T=[];w;w=w.G)T.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new C(y,h);else if(y instanceof C)y.target=y.target||h;else{var q=y;y=new C(w,h),ne(y,q)}q=!0;let K,oe;if(T)for(oe=T.length-1;oe>=0;oe--)K=y.g=T[oe],q=Rr(K,w,!0,y)&&q;if(K=y.g=h,q=Rr(K,w,!0,y)&&q,q=Rr(K,w,!1,y)&&q,T)for(oe=0;oe<T.length;oe++)K=y.g=T[oe],q=Rr(K,w,!1,y)&&q}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let w=0;w<T.length;w++)ae(T[w]);delete h.g[y],h.h--}}this.G=null},St.prototype.J=function(h,y,T,w){return this.i.add(String(h),y,!1,T,w)},St.prototype.K=function(h,y,T,w){return this.i.add(String(h),y,!0,T,w)};function Rr(h,y,T,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==T){const Oe=oe.listener,yt=oe.ha||oe.src;oe.fa&&fe(h.i,oe),q=Oe.call(yt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Gf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Gu(h){h.g=Gf(()=>{h.g=null,h.i&&(h.i=!1,Gu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends M{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(h){M.call(this),this.h=h,this.g={}}v(Ns,M);var Go=[];function $o(h){we(h.g,function(y,T){this.g.hasOwnProperty(T)&&Sa(y)},h),h.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),$o(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=c.JSON.stringify,$f=c.JSON.parse,$u=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ku(){}function Qu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){C.call(this,"d")}v(Ht,C);function In(){C.call(this,"c")}v(In,C);var gt={},Yu=null;function ba(){return Yu=Yu||new St}gt.Ia="serverreachability";function Xu(h){C.call(this,gt.Ia,h)}v(Xu,C);function ci(h){const y=ba();Lt(y,new Xu(y))}gt.STAT_EVENT="statevent";function Os(h,y){C.call(this,gt.STAT_EVENT,h),this.stat=y}v(Os,C);function bt(h){const y=ba();Lt(y,new Os(y,h))}gt.Ja="timingevent";function hi(h,y){C.call(this,gt.Ja,h),this.size=y}v(hi,C);function fi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Kf(h,y,T,w,q,K){h.info(function(){if(h.g)if(K){var oe="",Oe=K.split("&");for(let Ge=0;Ge<Oe.length;Ge++){var yt=Oe[Ge].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const Mn=ut.split("_");oe=Mn.length>=2&&Mn[1]=="type"?oe+(ut+"="+yt+"&"):oe+(ut+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+T+`
`+oe})}function Ju(h,y,T,w,q,K,oe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+T+`
`+K+" "+oe})}function di(h,y,T,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qf(h,T)+(w?" "+w:"")})}function Ds(h,y){h.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Qf(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return xr(K)}catch{return y}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Ls(){}v(Ls,Ku),Ls.prototype.g=function(){return new XMLHttpRequest},Qo=new Ls;function Fi(h){return encodeURIComponent(String(h))}function Wu(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Qn(h,y,T,w){this.j=h,this.i=y,this.l=T,this.S=w||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function mi(h,y,T){h.M=1,h.A=Vs(Rt(y)),h.u=T,h.R=!0,wa(h,null)}function wa(h,y){h.F=Date.now(),pi(h),h.B=Rt(h.A);var T=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ca(T.i,"t",w),h.C=0,T=h.j.L,h.h=new Yn,h.g=dc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Go[0]=q.toString()),q=Go);for(let K=0;K<q.length;K++){const oe=st(T,q[K],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.J?I(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ci(),Kf(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)e:{const Oe=Wn(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Oe!=4||yt==7||(yt==8||Ge<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var T=Yf(this);if(this.o=y==200,Ju(this.i,this.v,this.B,this.l,this.S,Oe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(w)){var K=w;break t}}K=null}if(h=K)di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,h);else{this.o=!1,this.m=3,bt(12),_n(this),Nn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<T.length;)if(ut=ec(this,T),ut==Ut){Oe==4&&(this.m=4,bt(14),h=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,bt(15),di(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else di(this.i,this.l,ut,null),yi(this,ut);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,bt(16),h=!1),this.o=this.o&&h,!h)di(this.i,this.l,T,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(T.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ul(oe),oe.P=!0,bt(11))}}else di(this.i,this.l,T,null),yi(this,T);Oe==4&&_n(this),this.o&&!this.K&&(Oe==4?uc(this.j,this):(this.o=!1,pi(this)))}else $i(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),Nn(this)}}}catch{}finally{}};function Yf(h){if(!Zu(h))return h.g.la();const y=Ft(h.g);if(y==="")return"";let T="";const w=y.length,q=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),Nn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,T+=h.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ec(h,y){var T=h.C,w=y.indexOf(`
`,T);return w==-1?Ut:(T=Number(y.substring(T,w)),isNaN(T)?wt:(w+=1,w+T>y.length?Ut:(y=y.slice(w,w+T),h.C=w+T,y)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function pi(h){h.T=Date.now()+h.H,Aa(h,h.H)}function Aa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=fi(g(h.aa,h),y)}function gi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(ci(),bt(17)),_n(this),this.m=2,Nn(this)):Aa(this,this.T-h)};function Nn(h){h.j.I==0||h.K||uc(h.j,h)}function _n(h){gi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,$o(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function yi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||vi(T.h,h))){if(!h.L&&vi(T.h,h)&&T.I==3){try{var w=T.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ma(T),Vr(T);else break e;qs(T),bt(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=fi(g(T.Va,T),6e3));_i(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ai(T,11)}else if((h.L||T.g==h)&&Ma(T),!O(y))for(q=T.Ba.g.parse(y),y=0;y<q.length;y++){let Ge=q[y];const ut=Ge[0];if(!(ut<=T.K))if(T.K=ut,Ge=Ge[1],T.I==2)if(Ge[0]=="c"){T.M=Ge[1],T.ba=Ge[2];const Mn=Ge[3];Mn!=null&&(T.ka=Mn,T.j.info("VER="+T.ka));const Ri=Ge[4];Ri!=null&&(T.za=Ri,T.j.info("SVER="+T.za));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(w=1.5*Zn,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const ei=h.g;if(ei){const Hs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var K=w.h;K.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Jo(K,K.h),K.h=null))}if(w.G){const La=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(w.wa=La,Ye(w.J,w.G,La))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var oe=h;if(w.na=fc(w,w.L?w.ba:null,w.W),oe.L){Wo(w.h,oe);var Oe=oe,yt=w.O;yt&&(Oe.H=yt),Oe.D&&(gi(Oe),pi(Oe)),w.g=oe}else oc(w);T.i.length>0&&wi(T)}else Ge[0]!="stop"&&Ge[0]!="close"||Ai(T,7);else T.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ai(T,7):ol(T):Ge[0]!="noop"&&T.l&&T.l.qa(Ge),T.A=0)}}ci(4)}catch{}}var At=class{constructor(h,y){this.g=h,this.map=y}};function Yo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _i(h){return h.h?1:h.g?h.g.size:0}function vi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Jo(h,y){h.g?h.g.add(y):h.h=y}function Wo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return x(h.i)}var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const w=h[T].indexOf("=");let q,K=null;w>=0?(q=h[T].substring(0,w),K=h[T].substring(w+1)):q=h[T],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vn?(this.l=h.l,jt(this,h.j),this.o=h.o,this.g=h.g,Cr(this,h.u),this.h=h.h,el(this,sc(h.i)),this.m=h.m):h&&(y=String(h).match(tc))?(this.l=!1,jt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),Cr(this,y[4]),this.h=Ei(y[5]||"",!0),el(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}vn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ps(y,xa,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ps(y,xa,!0),"@"),h.push(Fi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ps(T,T.charAt(0)=="/"?tl:nc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ps(T,ic)),h.join("")},vn.prototype.resolve=function(h){const y=Rt(this);let T=!!h.j;T?jt(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var w=h.h;if(T)Cr(y,h.u);else if(T=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let oe=0;oe<q.length;){const Oe=q[oe++];Oe=="."?w&&oe==q.length&&K.push(""):Oe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&oe==q.length&&K.push("")):(K.push(Oe),w=!0)}w=K.join("/")}else w=q}return T?y.h=w:T=h.i.toString()!=="",T?el(y,sc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Rt(h){return new vn(h)}function jt(h,y,T){h.j=T?Ei(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Cr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function el(h,y,T){y instanceof Nr?(h.i=y,Ia(h.i,h.l)):(T||(y=Ps(y,Ir)),h.i=new Nr(y,h.l))}function Ye(h,y,T){h.i.set(y,T)}function Vs(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ei(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ps(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,ln),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xa=/[#\/\?@]/g,nc=/[#\?:]/g,tl=/[#\?]/g,Ir=/[#\?@]/g,ic=/#/g;function Nr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=Nr.prototype,i.add=function(h,y){un(this),this.i=null,h=Or(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function rc(h,y){un(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function nl(h,y){return un(h),y=Or(h,y),h.g.has(y)}i.forEach=function(h,y){un(this),this.g.forEach(function(T,w){T.forEach(function(q){h.call(y,q,w,this)},this)},this)};function il(h,y){un(h);let T=[];if(typeof y=="string")nl(h,y)&&(T=T.concat(h.g.get(Or(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}i.set=function(h,y){return un(this),this.i=null,h=Or(this,h),nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=il(this,h),h.length>0?String(h[0]):y):y};function Ca(h,y,T){rc(h,y),T.length>0&&(h.i=null,h.g.set(Or(h,y),x(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var T=y[w];const q=Fi(T);T=il(this,T);for(let K=0;K<T.length;K++){let oe=q;T[K]!==""&&(oe+="="+Fi(T[K])),h.push(oe)}}return this.i=h.join("&")};function sc(h){const y=new Nr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ia(h,y){y&&!h.j&&(un(h),h.i=null,h.g.forEach(function(T,w){const q=w.toLowerCase();w!=q&&(rc(this,w),Ca(this,q,T))},h)),h.j=y}function Xn(h,y){const T=new Kn;if(c.Image){const w=new Image;w.onload=_(On,T,"TestLoadImage: loaded",!0,y,w),w.onerror=_(On,T,"TestLoadImage: error",!1,y,w),w.onabort=_(On,T,"TestLoadImage: abort",!1,y,w),w.ontimeout=_(On,T,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function rl(h,y){const T=new Kn,w=new AbortController,q=setTimeout(()=>{w.abort(),On(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?On(T,"TestPingServer: ok",!0,y):On(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),On(T,"TestPingServer: error",!1,y)})}function On(h,y,T,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(T)}catch{}}function Dr(){this.g=new $u}function Ti(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Ti,Ku),Ti.prototype.g=function(){return new ks(this.i,this.h)};function ks(h,y){St.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ks,St),i=ks.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Jn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):Jn(this),this.readyState==3&&Na(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},i.Na=function(h){this.g&&(this.response=h,Mr(this))},i.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Dn(h){let y="";return we(h,function(T,w){y+=w,y+=":",y+=T,y+=`\r
`}),y}function Us(h,y,T){e:{for(w in T){var w=!1;break e}w=!0}w||(T=Dn(T),typeof h=="string"?T!=null&&Fi(T):Ye(h,y,T))}function Ze(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ze,St);var Si=/^https?$/i,sl=["POST","PUT"];i=Ze.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){js(this,K);return}if(h=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)T.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())T.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||w||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of T)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){js(this,K)}};function js(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,al(h),Gi(h)}function al(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},i.Xa=function(){zs(this)};function zs(h){if(h.h&&typeof l<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var w;if(w=K===0){let oe=String(h.D).match(tc)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),w=!Si.test(oe?oe.toLowerCase():"")}T=w}if(T)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var q=Wn(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",al(h)}}finally{Gi(h)}}}}function Gi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Lt(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$f(y)}};function Ft(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const y={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(O(h[w]))continue;var T=Wu(h[w]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=y[q]||[];y[q]=K,K.push(T)}ce(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Lr(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,h),this.Za=bi("retryDelaySeedMs",1e4,h),this.Ta=bi("forwardChannelMaxRetries",2,h),this.va=bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(h&&h.concurrentRequestLimit),this.Ba=new Dr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Lr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,T,w){bt(0),this.W=h,this.H=y||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=fc(this,null,this.W),wi(this)};function ol(h){if(Oa(h),h.I==3){var y=h.V++,T=Rt(h.J);if(Ye(T,"SID",h.M),Ye(T,"RID",y),Ye(T,"TYPE","terminate"),Bs(h,T),y=new Qn(h,h.j,y),y.M=2,y.A=Vs(Rt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=dc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}hc(h)}function Vr(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Oa(h){Vr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function wi(h){if(!Xo(h.h)&&!h.m){h.m=!0;var y=h.Ea;ge||N(),ve||(ge(),ve=!0),D.add(y,h),h.D=0}}function Da(h,y){return _i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=fi(g(h.Ea,h,y),cc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Qn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=I(K),ne(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=ac(this,q,y),T=Rt(this.J),Ye(T,"RID",h),Ye(T,"CVER",22),this.G&&Ye(T,"X-HTTP-Session-Id",this.G),Bs(this,T),K&&(this.R?y="headers="+Fi(Dn(K))+"&"+y:this.u&&Us(T,this.u,K)),Jo(this.h,q),this.Ra&&Ye(T,"TYPE","init"),this.S?(Ye(T,"$req",y),Ye(T,"SID","null"),q.U=!0,mi(q,T,null)):mi(q,T,y),this.I=2}}else this.I==3&&(h?ll(this,h):this.i.length==0||Xo(this.h)||ll(this))};function ll(h,y){var T;y?T=y.l:T=h.V++;const w=Rt(h.J);Ye(w,"SID",h.M),Ye(w,"RID",T),Ye(w,"AID",h.K),Bs(h,w),h.u&&h.o&&Us(w,h.u,h.o),T=new Qn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ac(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Jo(h.h,T),mi(T,w,y)}function Bs(h,y){h.H&&we(h.H,function(T,w){Ye(y,w,T)}),h.l&&we({},function(T,w){Ye(y,w,T)})}function ac(h,y,T){T=Math.min(h.i.length,T);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Oe=-1;for(;;){const yt=["count="+T];Oe==-1?T>0?(Oe=q[0].g,yt.push("ofs="+Oe)):Oe=0:yt.push("ofs="+Oe);let Ge=!0;for(let ut=0;ut<T;ut++){var K=q[ut].g;const Mn=q[ut].map;if(K-=Oe,K<0)Oe=Math.max(0,q[ut].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var oe=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ri,Zn]of oe){let ei=Zn;d(Zn)&&(ei=xr(Zn)),yt.push(K+Ri+"="+encodeURIComponent(ei))}}catch(Ri){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Ri}}catch{w&&w(Mn)}}if(Ge){oe=yt.join("&");break e}}oe=void 0}return h=h.i.splice(0,T),y.G=h,oe}function oc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ge||N(),ve||(ge(),ve=!0),D.add(y,h),h.A=0}}function qs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=fi(g(h.Da,h),cc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=fi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Vr(this),lc(this))};function ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function lc(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rt(h.na);Ye(y,"RID","rpc"),Ye(y,"SID",h.M),Ye(y,"AID",h.K),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(y,"TO",h.ia),Ye(y,"TYPE","xmlhttp"),Bs(h,y),h.u&&h.o&&Us(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Vs(Rt(y)),T.u=null,T.R=!0,wa(T,h)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),qs(this),bt(19))};function Ma(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function uc(h,y){var T=null;if(h.g==y){Ma(h),ul(h),h.g=null;var w=2}else if(vi(h.h,y))T=y.G,Wo(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;w=ba(),Lt(w,new hi(w,T)),wi(h)}else oc(h);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Da(h,y)||w==2&&qs(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),q){case 1:Ai(h,5);break;case 4:Ai(h,10);break;case 3:Ai(h,6);break;default:Ai(h,2)}}}function cc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Ai(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),w=h.Ua;const q=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jt(w,"https"),Vs(w),q?Xn(w.toString(),T):rl(w.toString(),T)}else bt(2);h.I=0,h.l&&h.l.pa(y),hc(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function hc(h){if(h.I=0,h.ja=[],h.l){const y=Zo(h.h);(y.length!=0||h.i.length!=0)&&(V(h.ja,y),V(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function fc(h,y,T){var w=T instanceof vn?Rt(T):new vn(T);if(w.g!="")y&&(w.g=y+"."+w.g),Cr(w,w.u);else{var q=c.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new vn(null);w&&jt(K,w),y&&(K.g=y),q&&Cr(K,q),T&&(K.h=T),w=K}return T=h.G,y=h.wa,T&&y&&Ye(w,T,y),Ye(w,"VER",h.ka),Bs(h,w),w}function dc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ze(new Ti({ab:T})):new Ze(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}i=mc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pr(){}Pr.prototype.g=function(h,y){return new sn(h,y)};function sn(h,y){St.call(this),this.g=new Lr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!O(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ki(this)}v(sn,St),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){ol(this.g)},sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=xr(h),h=T);y.i.push(new At(y.Ya++,h)),y.I==3&&wi(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,sn.Z.N.call(this)};function pc(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v(pc,Ht);function gc(){In.call(this),this.status=1}v(gc,In);function Ki(h){this.g=h}v(Ki,mc),Ki.prototype.ra=function(){Lt(this.g,"a")},Ki.prototype.qa=function(h){Lt(this.g,new pc(h))},Ki.prototype.pa=function(h){Lt(this.g,new gc)},Ki.prototype.oa=function(){Lt(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,_b=function(){return new Pr},yb=function(){return ba()},gb=gt,Mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Uh=Ms,Ko.COMPLETE="complete",pb=Ko,Qu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",St.prototype.listen=St.prototype.J,tu=Qu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,mb=Ze}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",UE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new lg("@firebase/firestore");function mo(){return pa.logLevel}function de(i,...e){if(pa.logLevel<=Ue.DEBUG){const t=e.map(Tg);pa.debug(`Firestore (${ko}): ${i}`,...t)}}function Tr(i,...e){if(pa.logLevel<=Ue.ERROR){const t=e.map(Tg);pa.error(`Firestore (${ko}): ${i}`,...t)}}function vu(i,...e){if(pa.logLevel<=Ue.WARN){const t=e.map(Tg);pa.warn(`Firestore (${ko}): ${i}`,...t)}}function Tg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vb(i,r,t)}function vb(i,e,t){let r=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Tr(r),new Error(r)}function Ke(i,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,i||vb(e,a,r)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pn.UNAUTHENTICATED)))}shutdown(){}}class tD{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new ZO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class nD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new nD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=sD(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function je(i,e){return i<e?-1:i>e?1:0}function Lp(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const a=i.charAt(r),l=e.charAt(r);if(a!==l)return lp(a)===lp(l)?je(a,l):lp(a)?1:-1}return je(i.length,e.length)}const aD=55296,oD=57343;function lp(i){const e=i.charCodeAt(0);return e>=aD&&e<=oD}function Ao(i,e,t){return i.length===e.length&&i.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Oi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),a=Oi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):Lp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class rt extends Oi{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const lD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return lD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zE}static keyField(){return new Xt([zE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(i,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function uD(i,e,t,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function BE(i){if(!_e.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qE(i){if(_e.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Tb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Af(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function ji(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Af(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Uu(i,e){if(!Tb(i))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new he(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-62135596800,FE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*FE);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-HE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Mt("string",lt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function cD(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new gs(a,_e.empty(),e)}function hD(i){return new gs(i.readTime,i.key,Eu)}class gs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gs(xe.min(),_e.empty(),Eu)}static max(){return new gs(xe.max(),_e.empty(),Eu)}}function fD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==dD)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>r(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((a=>a?ie.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&r(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new ie(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function pD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=-1;function xf(i){return i==null}function tf(i){return i===0&&1/i==-1/0}function gD(i){return typeof i=="number"&&Number.isInteger(i)&&!tf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="";function yD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=GE(e)),e=_D(i.get(t),e);return GE(e)}function _D(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case Sb:t+="";break;default:t+=l}}return t}function GE(i){return i+Sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function xs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function bb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=a??Yt.EMPTY,this.right=l??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Yt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KE(this.data.getIterator())}getIteratorFrom(e){return new KE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class KE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new kt(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wb("Invalid base64 string: "+l):l}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const vD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=vD.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _s(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="server_timestamp",Rb="__type__",xb="__previous_value__",Cb="__local_write_time__";function wg(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[Rb])==null?void 0:r.stringValue)===Ab}function Cf(i){const e=i.mapValue.fields[xb];return wg(e)?Cf(e):e}function Tu(i){const e=ys(i.mapValue.fields[Cb].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,r,a,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const nf="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||nf}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="__type__",TD="__max__",Rh={mapValue:{}},Nb="__vector__",rf="value";function vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wg(i)?4:bD(i)?9007199254740991:SD(i)?10:11:be(28295,{value:i})}function zi(i,e){if(i===e)return!0;const t=vs(i);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tu(i).isEqual(Tu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ys(a.timestampValue),d=ys(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return _s(a.bytesValue).isEqual(_s(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Et(a.doubleValue),d=Et(l.doubleValue);return c===d?tf(c)===tf(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if($E(c)!==$E(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!zi(c[p],d[p])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function bu(i,e){return(i.values||[]).find((t=>zi(t,e)))!==void 0}function Ro(i,e){if(i===e)return 0;const t=vs(i),r=vs(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Et(l.integerValue||l.doubleValue),p=Et(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return QE(i.timestampValue,e.timestampValue);case 4:return QE(Tu(i),Tu(e));case 5:return Lp(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=_s(l),p=_s(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=je(d[g],p[g]);if(_!==0)return _}return je(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=je(Et(l.latitude),Et(c.latitude));return d!==0?d:je(Et(l.longitude),Et(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return YE(i.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,x,V,B;const d=l.fields||{},p=c.fields||{},g=(S=d[rf])==null?void 0:S.arrayValue,_=(x=p[rf])==null?void 0:x.arrayValue,v=je(((V=g==null?void 0:g.values)==null?void 0:V.length)||0,((B=_==null?void 0:_.values)==null?void 0:B.length)||0);return v!==0?v:YE(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Rh.mapValue&&c===Rh.mapValue)return 0;if(l===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const S=Lp(p[v],_[v]);if(S!==0)return S;const x=Ro(d[p[v]],g[_[v]]);if(x!==0)return x}return je(p.length,_.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function QE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=ys(i),r=ys(e),a=je(t.seconds,r.seconds);return a!==0?a:je(t.nanos,r.nanos)}function YE(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ro(t[a],r[a]);if(l)return l}return je(t.length,r.length)}function xo(i){return Vp(i)}function Vp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=ys(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return _s(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return _e.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Vp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Vp(t.fields[c])}`;return a+"}"})(i.mapValue):be(61005,{value:i})}function jh(i){switch(vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(i);return e?16+jh(e):16;case 5:return 2*i.stringValue.length;case 6:return _s(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+jh(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return xs(r.fields,((l,c)=>{a+=l.length+jh(c)})),a})(i.mapValue);default:throw be(13486,{value:i})}}function XE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Pp(i){return!!i&&"integerValue"in i}function Ag(i){return!!i&&"arrayValue"in i}function JE(i){return!!i&&"nullValue"in i}function WE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function SD(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[Ib])==null?void 0:r.stringValue)===Nb}function uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return xs(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=uu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(i.arrayValue.values[t]);return e}return{...i}}function bD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===TD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=Xt.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=uu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){xs(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new yn(uu(this.value))}}function Ob(i){const e=[];return xs(i.fields,((t,r)=>{const a=new Xt([t]);if(zh(r)){const l=Ob(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,xe.min(),xe.min(),xe.min(),yn.empty(),0)}static newFoundDocument(e,t,r,a){return new tn(e,1,t,xe.min(),r,a,0)}static newNoDocument(e,t){return new tn(e,2,t,xe.min(),xe.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,xe.min(),xe.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.position=e,this.inclusive=t}}function ZE(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(c.referenceValue),t.key):r=Ro(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function eT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!zi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t="asc"){this.field=e,this.dir=t}}function wD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{}class Dt extends Db{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RD(e,t,r):t==="array-contains"?new ID(e,r):t==="in"?new ND(e,r):t==="not-in"?new OD(e,r):t==="array-contains-any"?new DD(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xD(e,r):new CD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ro(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Db{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ai(e,t)}matches(e){return Mb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mb(i){return i.op==="and"}function Lb(i){return AD(i)&&Mb(i)}function AD(i){for(const e of i.filters)if(e instanceof ai)return!1;return!0}function kp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(Lb(i))return i.filters.map((e=>kp(e))).join(",");{const e=i.filters.map((t=>kp(t))).join(",");return`${i.op}(${e})`}}function Vb(i,e){return i instanceof Dt?(function(r,a){return a instanceof Dt&&r.op===a.op&&r.field.isEqual(a.field)&&zi(r.value,a.value)})(i,e):i instanceof ai?(function(r,a){return a instanceof ai&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&Vb(c,a.filters[d])),!0):!1})(i,e):void be(19439)}function Pb(i){return i instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`})(i):i instanceof ai?(function(t){return t.op.toString()+" {"+t.getFilters().map(Pb).join(" ,")+"}"})(i):"Filter"}class RD extends Dt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class xD extends Dt{constructor(e,t){super(e,"in",t),this.keys=kb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class CD extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=kb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kb(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class ID extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&bu(t.arrayValue,this.value)}}class ND extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}}class OD extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bu(this.value.arrayValue,t)}}class DD extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>bu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function tT(i,e=null,t=[],r=[],a=null,l=null,c=null){return new MD(i,e,t,r,a,l,c)}function Rg(i){const e=Ne(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>kp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>xo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>xo(r))).join(",")),e.Te=t}return e.Te}function xg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!wD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Vb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!eT(i.startAt,e.startAt)&&eT(i.endAt,e.endAt)}function Up(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LD(i,e,t,r,a,l,c,d){return new ju(i,e,t,r,a,l,c,d)}function Cg(i){return new ju(i)}function nT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ub(i){return i.collectionGroup!==null}function cu(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new kt(Xt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new af(l,r))})),t.has(Xt.keyField().canonicalString())||e.Ie.push(new af(Xt.keyField(),r))}return e.Ie}function Vi(i){const e=Ne(i);return e.Ee||(e.Ee=VD(e,cu(i))),e.Ee}function VD(i,e){if(i.limitType==="F")return tT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new af(a.field,l)}));const t=i.endAt?new sf(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new sf(i.startAt.position,i.startAt.inclusive):null;return tT(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function jp(i,e){const t=i.filters.concat([e]);return new ju(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function zp(i,e,t){return new ju(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function If(i,e){return xg(Vi(i),Vi(e))&&i.limitType===e.limitType}function jb(i){return`${Rg(Vi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Pb(a))).join(", ")}]`),xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>xo(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>xo(a))).join(",")),`Target(${r})`})(Vi(i))}; limitType=${i.limitType})`}function Nf(i,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,a){for(const l of cu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,p){const g=ZE(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,cu(r),a)||r.endAt&&!(function(c,d,p){const g=ZE(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,cu(r),a))})(i,e)}function PD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zb(i){return(e,t)=>{let r=!1;for(const a of cu(i)){const l=kD(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function kD(i,e,t){const r=i.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Ro(p,g):be(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new ft(_e.comparator);function Sr(){return UD}const Bb=new ft(_e.comparator);function nu(...i){let e=Bb;for(const t of i)e=e.insert(t.key,t);return e}function qb(i){let e=Bb;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function la(){return hu()}function Hb(){return hu()}function hu(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const jD=new ft(_e.comparator),zD=new kt(_e.comparator);function ze(...i){let e=zD;for(const t of i)e=e.add(t);return e}const BD=new kt(je);function qD(){return BD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function Fb(i){return{integerValue:""+i}}function Gb(i,e){return gD(e)?Fb(e):Ig(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function HD(i,e,t){return i instanceof of?(function(a,l){const c={fields:{[Rb]:{stringValue:Ab},[Cb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wg(l)&&(l=Cf(l)),l&&(c.fields[xb]=l),{mapValue:c}})(t,e):i instanceof wu?Kb(i,e):i instanceof Au?Qb(i,e):(function(a,l){const c=$b(a,l),d=iT(c)+iT(a.Ae);return Pp(c)&&Pp(a.Ae)?Fb(d):Ig(a.serializer,d)})(i,e)}function FD(i,e,t){return i instanceof wu?Kb(i,e):i instanceof Au?Qb(i,e):t}function $b(i,e){return i instanceof Ru?(function(r){return Pp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class of extends Of{}class wu extends Of{constructor(e){super(),this.elements=e}}function Kb(i,e){const t=Yb(e);for(const r of i.elements)t.some((a=>zi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Au extends Of{constructor(e){super(),this.elements=e}}function Qb(i,e){let t=Yb(e);for(const r of i.elements)t=t.filter((a=>!zi(a,r)));return{arrayValue:{values:t}}}class Ru extends Of{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function iT(i){return Et(i.integerValue||i.doubleValue)}function Yb(i){return Ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this.field=e,this.transform=t}}function $D(i,e){return i.field.isEqual(e.field)&&(function(r,a){return r instanceof wu&&a instanceof wu||r instanceof Au&&a instanceof Au?Ao(r.elements,a.elements,zi):r instanceof Ru&&a instanceof Ru?zi(r.Ae,a.Ae):r instanceof of&&a instanceof of})(i.transform,e.transform)}class KD{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Df{}function Xb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ng(i.key,Hn.none()):new zu(i.key,i.data,Hn.none());{const t=i.data,r=yn.empty();let a=new kt(Xt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Cs(i.key,r,new Cn(a.toArray()),Hn.none())}}function QD(i,e,t){i instanceof zu?(function(a,l,c){const d=a.value.clone(),p=sT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Cs?(function(a,l,c){if(!Bh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=sT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Jb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function fu(i,e,t,r){return i instanceof zu?(function(l,c,d,p){if(!Bh(l.precondition,c))return d;const g=l.value.clone(),_=aT(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof Cs?(function(l,c,d,p){if(!Bh(l.precondition,c))return d;const g=aT(l.fieldTransforms,p,c),_=c.data;return _.setAll(Jb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(i,e,t,r):(function(l,c,d){return Bh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function YD(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=$b(r.transform,a||null);l!=null&&(t===null&&(t=yn.empty()),t.set(r.field,l))}return t||null}function rT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ao(r,a,((l,c)=>$D(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class zu extends Df{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Cs extends Df{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function sT(i,e,t){const r=new Map;Ke(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,FD(c,d,t[a]))}return r}function aT(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,HD(l,c,e))}return r}class Ng extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XD extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&QD(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hb();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=Xb(c,d);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((t,r)=>rT(t,r)))&&Ao(this.baseMutations,e.baseMutations,((t,r)=>rT(t,r)))}}class Og{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return jD})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Og(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,qe;function eM(i){switch(i){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function Wb(i){if(i===void 0)return Tr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:i})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new ms([4294967295,4294967295],0);function oT(i){const e=tM().encode(i),t=new db;return t.update(e),new Uint8Array(t.digest())}function lT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ms([t,r],0),new ms([a,l],0)]}class Dg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ms.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ms.fromNumber(r)));return a.compare(nM)===1&&(a=new ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=oT(e),[r,a]=lT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Dg(l,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=oT(e),[r,a]=lT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mf(xe.min(),a,new ft(je),Sr(),ze())}}class Bu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bu(r,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Zb{constructor(e,t){this.targetId=e,this.Ce=t}}class ew{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class uT{constructor(){this.ve=0,this.Fe=cT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:l})}})),new Bu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=cT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.Je=xh(),this.He=xh(),this.Ye=new ft(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Up(l))if(r===0){const c=new _e(l.path);this.et(t,c,tn.newNoDocument(c,xe.min()))}else Ke(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=_s(r).toUint8Array()}catch(p){if(p instanceof wb)return vu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Dg(c,a,l)}catch(p){return vu(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Up(d.target)){const p=new _e(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,tn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Mf(e,t,this.Ye,this.je,r);return this.je=Sr(),this.Je=xh(),this.He=xh(),this.Ye=new ft(je),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new uT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xh(){return new ft(_e.comparator)}function cT(){return new ft(_e.comparator)}const rM={asc:"ASCENDING",desc:"DESCENDING"},sM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aM={and:"AND",or:"OR"};class oM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bp(i,e){return i.useProto3Json||xf(e)?e:{value:e}}function lf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function lM(i,e){return lf(i,e.toTimestamp())}function Pi(i){return Ke(!!i,49232),xe.fromTimestamp((function(t){const r=ys(t);return new lt(r.seconds,r.nanos)})(i))}function Mg(i,e){return qp(i,e).canonicalString()}function qp(i,e){const t=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function nw(i){const e=rt.fromString(i);return Ke(ow(e),10190,{key:e.toString()}),e}function Hp(i,e){return Mg(i.databaseId,e.path)}function up(i,e){const t=nw(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(rw(t))}function iw(i,e){return Mg(i.databaseId,e)}function uM(i){const e=nw(i);return e.length===4?rt.emptyPath():rw(e)}function Fp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rw(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function hT(i,e,t){return{name:Hp(i,e),fields:t.value.mapValue.fields}}function cM(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Jt.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:Wb(g.code);return new he(_,g.message||"")})(c);t=new ew(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=up(i,r.document.name),l=Pi(r.document.updateTime),c=r.document.createTime?Pi(r.document.createTime):xe.min(),d=new yn({mapValue:{fields:r.document.fields}}),p=tn.newFoundDocument(a,l,c,d),g=r.targetIds||[],_=r.removedTargetIds||[];t=new qh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=up(i,r.document),l=r.readTime?Pi(r.readTime):xe.min(),c=tn.newNoDocument(a,l),d=r.removedTargetIds||[];t=new qh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=up(i,r.document),l=r.removedTargetIds||[];t=new qh([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new ZD(a,l),d=r.targetId;t=new Zb(d,c)}}return t}function hM(i,e){let t;if(e instanceof zu)t={update:hT(i,e.key,e.value)};else if(e instanceof Ng)t={delete:Hp(i,e.key)};else if(e instanceof Cs)t={update:hT(i,e.key,e.data),updateMask:EM(e.fieldMask)};else{if(!(e instanceof XD))return be(16599,{Vt:e.type});t={verify:Hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof of)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:lM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(i,e.precondition)),t}function fM(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?Pi(a.updateTime):Pi(l);return c.isEqual(xe.min())&&(c=Pi(l)),new KD(c,a.transformResults||[])})(t,e)))):[]}function dM(i,e){return{documents:[iw(i,e.path)]}}function mM(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iw(i,a);const l=(function(g){if(g.length!==0)return aw(ai.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:go(S.field),direction:yM(S.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Bp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function pM(i){let e=uM(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ke(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(v){const S=sw(v);return S instanceof ai&&Lb(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((S=>(function(V){return new af(yo(V.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(v){let S;return S=typeof v=="object"?v.value:v,xf(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(v){const S=!!v.before,x=v.values||[];return new sf(x,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const S=!v.before,x=v.values||[];return new sf(x,S)})(t.endAt)),LD(e,a,c,l,d,"F",p,g)}function gM(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=yo(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=yo(t.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Dt.create(yo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ai.create(t.compositeFilter.filters.map((r=>sw(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(i):be(30097,{filter:i})}function yM(i){return rM[i]}function _M(i){return sM[i]}function vM(i){return aM[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return Xt.fromServerFormat(i.fieldPath)}function aw(i){return i instanceof Dt?(function(t){if(t.op==="=="){if(WE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(JE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(JE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:_M(t.op),value:t.value}}})(i):i instanceof ai?(function(t){const r=t.getFilters().map((a=>aw(a)));return r.length===1?r[0]:{compositeFilter:{op:vM(t.op),filters:r}}})(i):be(54877,{filter:i})}function EM(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ow(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,r,a,l=xe.min(),c=xe.min(),d=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.yt=e}}function SM(i){const e=pM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.Cn=new wM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(gs.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class wM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new kt(rt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(lw,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",uw=1048576;function mT([i,e],[t,r]){const a=je(i,t);return a===0?je(e,r):a}class AM{constructor(e){this.Ir=e,this.buffer=new kt(mT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(dT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?de(dT,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Vr(3e5)}))}}class xM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Rf.ce);const r=new AM(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(fT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),mo()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function CM(i,e){return new xM(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.changes=new _a((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&fu(r.mutation,a,Cn.empty(),lt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const a=la();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=nu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=la();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let l=Sr();const c=hu(),d=(function(){return hu()})();return t.forEach(((p,g)=>{const _=r.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Cs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),fu(_.mutation,g,_.mutation.getFieldMask(),lt.now())):c.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new NM(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=hu();let a=new ft(((c,d)=>c-d)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||Cn.empty();_=d.applyToLocalView(g,_),r.set(p,_);const v=(a.get(d.batchId)||ze()).add(p);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=Hb();_.forEach((S=>{if(!l.has(S)){const x=Xb(t.get(S),r.get(S));x!==null&&v.set(S,x),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ub(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ie.resolve(la());let d=Eu,p=l;return c.next((g=>ie.forEach(g,((_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ze()))).next((_=>({batchId:d,changes:qb(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let a=nu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(p=>{const g=(function(v,S){return new ju(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((_=>{_.forEach(((v,S)=>{c=c.insert(v,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,tn.newInvalidDocument(_)))}));let d=nu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&fu(_.mutation,g,Cn.empty(),lt.now()),Nf(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Pi(a.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:SM(a.bundledQuery),readTime:Pi(a.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=la();return ie.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const a=la(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new ft(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=l.get(g.largestBatchId);_===null&&(_=la(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=la(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=a)););return ie.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new WD(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new _e(new rt([])),r=new Bt(t,e),a=new Bt(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new rt([])),r=new Bt(t,e),a=new Bt(t,e+1);let l=ze();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Bt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new JD(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?bg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),a=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(je);return t.forEach((a=>{const l=new Bt(a,0),c=new Bt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const c=new Bt(new _e(l),0);let d=new kt(je);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),ie.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(t.mutations,(a=>{const l=new Bt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Bt(t,0),a=this.Zr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.ri=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=Sr();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():tn.newInvalidDocument(a))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Sr();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||fD(hD(_),r)<=0||(a.has(_.key)||Nf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,r,a){be(9500)}ii(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new kM(this)}getSize(e){return ie.resolve(this.size)}}class kM extends IM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.si=new _a((t=>Rg(t)),xg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new LM,this.referenceDelegate=e(this),this.Pi=new UM(this),this.indexManager=new bM,this.remoteDocumentCache=(function(a){return new PM(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new TM(t),this.Ii=new DM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new VM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const a=new jM(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class jM extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Ri=new Lg,this.Vi=null}static mi(e){return new Vg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const a=_e.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class uf{constructor(e,t){this.persistence=e,this.pi=new _a((r=>yD(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=CM(this,t)}static mi(e,t){return new uf(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ie.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,l.removeEntry(c,xe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}br(e,t,r){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Pg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gI()?8:pD(nn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new zM;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(mo()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(mo()<=Ue.DEBUG&&de("QueryEngine","Query:",po(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(mo()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):ie.resolve())}ys(e,t){if(nT(t))return ie.resolve(null);let r=Vi(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=zp(t,null,"F"),r=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,zp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,a){return nT(t)||a.isEqual(xe.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?ie.resolve(null):(mo()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),po(t)),this.vs(e,c,t,cD(a,Eu)).next((d=>d)))}))}Ds(e,t){let r=new kt(zb(e));return t.forEach(((a,l)=>{Nf(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return mo()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",po(t)),this.ps.getDocumentsMatchingQuery(e,t,gs.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",qM=3e8;class HM{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new ft(je),this.xs=new _a((l=>Rg(l)),xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function FM(i,e,t,r){return new HM(i,e,t,r)}async function hw(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let p=ze();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function GM(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const v=g.batch,S=v.keys();let x=ie.resolve();return S.forEach((V=>{x=x.next((()=>_.getEntry(p,V))).next((B=>{const j=g.docVersions.get(V);Ke(j!==null,48541),B.version.compareTo(j)<0&&(v.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),_.addEntry(B)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function fw(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function $M(i,e){const t=Ne(i),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,v)=>{const S=a.get(v);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,v))));let x=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(Jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,r)),a=a.insert(v,x),(function(B,j,W){return B.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=qM?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(S,x,_)&&d.push(t.Pi.updateTargetData(l,x))}));let p=Sr(),g=ze();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(KM(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(xe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(_)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function KM(i,e,t){let r=ze(),a=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=Sr();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(kg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function QM(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function YM(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ie.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new cs(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Gp(i,e,t){const r=Ne(i),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!jo(c))throw c;de(kg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function pT(i,e,t){const r=Ne(i);let a=xe.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const v=Ne(p),S=v.xs.get(_);return S!==void 0?ie.resolve(v.Ms.get(S)):v.Pi.getTargetData(g,_)})(r,c,Vi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:xe.min(),t?l:ze()))).next((d=>(XM(r,PD(e),d),{documents:d,Qs:l})))))}function XM(i,e,t){let r=i.Os.get(e)||xe.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}class gT{constructor(){this.activeTargetIds=qD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JM{constructor(){this.Mo=new gT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="ConnectivityMonitor";class _T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(yT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(yT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function $p(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===nf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=$p(),d=this.zo(e,t.toUriEncodedString());de(cp,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),_=Lo(g);return this.Jo(e,d,p,r,_).then((v=>(de(cp,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw vu(cp,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=ZM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class n4 extends e4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=$p();return new Promise(((d,p)=>{const g=new mb;g.setWithCredentials(!0),g.listenOnce(pb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const v=g.getResponseJson();de(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Uh.TIMEOUT:de(en,`RPC '${e}' ${c} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const S=g.getStatus();if(de(en,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const B=(function(W){const re=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(re)>=0?re:ee.UNKNOWN})(V.status);p(new he(B,V.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(en,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);de(en,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const a=$p(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_b(),d=yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=l.join("");de(en,`Creating RPC '${e}' stream ${a}: ${_}`,p);const v=c.createWebChannel(_,p);this.I_(v);let S=!1,x=!1;const V=new t4({Yo:j=>{x?de(en,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(S||(de(en,`Opening RPC '${e}' stream ${a} transport.`),v.open(),S=!0),de(en,`RPC '${e}' stream ${a} sending:`,j),v.send(j))},Zo:()=>v.close()}),B=(j,W,re)=>{j.listen(W,(X=>{try{re(X)}catch(le){setTimeout((()=>{throw le}),0)}}))};return B(v,tu.EventType.OPEN,(()=>{x||(de(en,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),B(v,tu.EventType.CLOSE,(()=>{x||(x=!0,de(en,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(v))})),B(v,tu.EventType.ERROR,(j=>{x||(x=!0,vu(en,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),V.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),B(v,tu.EventType.MESSAGE,(j=>{var W;if(!x){const re=j.data[0];Ke(!!re,16349);const X=re,le=(X==null?void 0:X.error)||((W=X[0])==null?void 0:W.error);if(le){de(en,`RPC '${e}' stream ${a} received error:`,le);const ge=le.status;let ve=(function(A){const M=Ot[A];if(M!==void 0)return Wb(M)})(ge),D=le.message;ve===void 0&&(ve=ee.INTERNAL,D="Unknown error status: "+ge+" with message "+le.message),x=!0,V.a_(new he(ve,D)),v.close()}else de(en,`RPC '${e}' stream ${a} received:`,re),V.u_(re)}})),B(d,gb.STAT_EVENT,(j=>{j.stat===Mp.PROXY?de(en,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Mp.NOPROXY&&de(en,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(i){return new oM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class mw{constructor(e,t,r,a,l,c,d,p){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i4 extends mw{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=cM(this.serializer,e),r=(function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Pi(c.readTime):xe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Fp(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Up(p)?{documents:dM(l,p)}:{query:mM(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=tw(l,c.resumeToken);const g=Bp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(xe.min())>0){d.readTime=lf(l,c.snapshotVersion.toTimestamp());const g=Bp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=gM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Fp(this.serializer),t.removeTarget=e,this.q_(t)}}class r4 extends mw{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fM(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Fp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>hM(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{}class a4 extends s4{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,qp(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ee.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,qp(t,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class o4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class l4{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{va(this)&&(de(ga,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Vf(g)})(this))}))})),this.Ra=new o4(r,a)}}async function Vf(i){if(va(i))for(const e of i.da)await e(!0)}async function qu(i){for(const e of i.da)await e(!1)}function pw(i,e){const t=Ne(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bg(t)?zg(t):zo(t).O_()&&jg(t,e))}function Ug(i,e){const t=Ne(i),r=zo(t);t.Ia.delete(e),r.O_()&&gw(t,e),t.Ia.size===0&&(r.O_()?r.L_():va(t)&&t.Ra.set("Unknown"))}function jg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(i).Y_(e)}function gw(i,e){i.Va.Ue(e),zo(i).Z_(e)}function zg(i){i.Va=new iM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.Ra.ua()}function Bg(i){return va(i)&&!zo(i).x_()&&i.Ia.size>0}function va(i){return Ne(i).Ea.size===0}function yw(i){i.Va=void 0}async function u4(i){i.Ra.set("Online")}async function c4(i){i.Ia.forEach(((e,t)=>{jg(i,e)}))}async function h4(i,e){yw(i),Bg(i)?(i.Ra.ha(e),zg(i)):i.Ra.set("Unknown")}async function f4(i,e,t){if(i.Ra.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,e)}catch(r){de(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(i,r)}else if(e instanceof qh?i.Va.Ze(e):e instanceof Zb?i.Va.st(e):i.Va.tt(e),!t.isEqual(xe.min()))try{const r=await fw(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Jt.EMPTY_BYTE_STRING,_.snapshotVersion)),gw(l,p);const v=new cs(_.target,p,g,_.sequenceNumber);jg(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(r){de(ga,"Failed to raise snapshot:",r),await cf(i,r)}}async function cf(i,e,t){if(!jo(e))throw e;i.Ea.add(1),await qu(i),i.Ra.set("Offline"),t||(t=()=>fw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(ga,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Vf(i)}))}function _w(i,e){return e().catch((t=>cf(i,t,e)))}async function Pf(i){const e=Ne(i),t=Es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bg;for(;d4(e);)try{const a=await QM(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,m4(e,a)}catch(a){await cf(e,a)}vw(e)&&Ew(e)}function d4(i){return va(i)&&i.Ta.length<10}function m4(i,e){i.Ta.push(e);const t=Es(i);t.O_()&&t.X_&&t.ea(e.mutations)}function vw(i){return va(i)&&!Es(i).x_()&&i.Ta.length>0}function Ew(i){Es(i).start()}async function p4(i){Es(i).ra()}async function g4(i){const e=Es(i);for(const t of i.Ta)e.ea(t.mutations)}async function y4(i,e,t){const r=i.Ta.shift(),a=Og.from(r,e,t);await _w(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Pf(i)}async function _4(i,e){e&&Es(i).X_&&await(async function(r,a){if((function(c){return eM(c)&&c!==ee.ABORTED})(a.code)){const l=r.Ta.shift();Es(r).B_(),await _w(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Pf(r)}})(i,e),vw(i)&&Ew(i)}async function ET(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),de(ga,"RemoteStore received new credentials");const r=va(t);t.Ea.add(3),await qu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vf(t)}async function v4(i,e){const t=Ne(i);e?(t.Ea.delete(2),await Vf(t)):e||(t.Ea.add(2),await qu(t),t.Ra.set("Unknown"))}function zo(i){return i.ma||(i.ma=(function(t,r,a){const l=Ne(t);return l.sa(),new i4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:u4.bind(null,i),t_:c4.bind(null,i),r_:h4.bind(null,i),H_:f4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Bg(i)?zg(i):i.Ra.set("Unknown")):(await i.ma.stop(),yw(i))}))),i.ma}function Es(i){return i.fa||(i.fa=(function(t,r,a){const l=Ne(t);return l.sa(),new r4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:p4.bind(null,i),r_:_4.bind(null,i),ta:g4.bind(null,i),na:y4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Pf(i)):(await i.fa.stop(),i.Ta.length>0&&(de(ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new qg(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),jo(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.ga=new ft(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Io{constructor(e,t,r,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Io(e,t,To.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class T4{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ne(t),l=a.queries;a.queries=ST(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function ST(){return new _a((i=>jb(i)),If)}async function Tw(i,e){const t=Ne(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new E4,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Hg(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Fg(t)}async function Sw(i,e){const t=Ne(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function S4(i,e){const t=Ne(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&Fg(t)}function b4(i,e,t){const r=Ne(i),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Fg(i){i.Ca.forEach((e=>{e.next()}))}var Kp,bT;(bT=Kp||(Kp={})).Ma="default",bT.Cache="cache";class bw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class w4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=zb(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new TT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,v)=>{const S=a.get(_),x=Nf(this.query,v)?v:null,V=!!S&&this.mutatedKeys.has(S.key),B=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;S&&x?S.data.isEqual(x.data)?V!==B&&(r.track({type:3,doc:x}),j=!0):this.su(S,x)||(r.track({type:2,doc:x}),j=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(d=!0)):!S&&x?(r.track({type:0,doc:x}),j=!0):S&&!x&&(r.track({type:1,doc:S}),j=!0,(p||g)&&(d=!0)),j&&(x?(c=c.add(x),l=B?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,v)=>(function(x,V){const B=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:j})}};return B(x)-B(V)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Io(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Aw(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new ww(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gg="SyncEngine";class A4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R4{constructor(e){this.key=e,this.hu=!1}}class x4{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _a((d=>jb(d)),If),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C4(i,e,t=!0){const r=Ow(i);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Rw(r,e,t,!0),a}async function I4(i,e){const t=Ow(i);await Rw(t,e,!0,!1)}async function Rw(i,e,t,r){const a=await YM(i.localStore,Vi(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await N4(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&pw(i.remoteStore,a),d}async function N4(i,e,t,r,a){i.pu=(v,S,x)=>(async function(B,j,W,re){let X=j.view.ru(W);X.Cs&&(X=await pT(B.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,X))));const le=re&&re.targetChanges.get(j.targetId),ge=re&&re.targetMismatches.get(j.targetId)!=null,ve=j.view.applyChanges(X,B.isPrimaryClient,le,ge);return AT(B,j.targetId,ve.au),ve.snapshot})(i,v,S,x);const l=await pT(i.localStore,e,!0),c=new w4(e,l.Qs),d=c.ru(l.documents),p=Bu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,p);AT(i,t,g.au);const _=new A4(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function O4(i,e,t){const r=Ne(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!If(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Gp(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ug(r.remoteStore,a.targetId),Qp(r,a.targetId)})).catch(Uo)):(Qp(r,a.targetId),await Gp(r.localStore,a.targetId,!0))}async function D4(i,e){const t=Ne(i),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(t.remoteStore,r.targetId))}async function M4(i,e,t){const r=z4(i);try{const a=await(function(c,d){const p=Ne(c),g=lt.now(),_=d.reduce(((x,V)=>x.add(V.key)),ze());let v,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let V=Sr(),B=ze();return p.Ns.getEntries(x,_).next((j=>{V=j,V.forEach(((W,re)=>{re.isValidDocument()||(B=B.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,V))).next((j=>{v=j;const W=[];for(const re of d){const X=YD(re,v.get(re.key).overlayedDocument);X!=null&&W.push(new Cs(re.key,X,Ob(X.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,W,d)})).next((j=>{S=j;const W=j.applyToLocalDocumentSet(v,B);return p.documentOverlayCache.saveOverlays(x,j.batchId,W)}))})).then((()=>({batchId:S.batchId,changes:qb(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ft(je)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,t),await Hu(r,a.changes),await Pf(r.remoteStore)}catch(a){const l=Hg(a,"Failed to persist write");t.reject(l)}}async function xw(i,e){const t=Ne(i);try{const r=await $M(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ke(c.hu,14607):a.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Hu(t,r,e)}catch(r){await Uo(r)}}function wT(i,e,t){const r=Ne(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Ne(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,v)=>{for(const S of v.Sa)S.va(d)&&(g=!0)})),g&&Fg(p)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L4(i,e,t){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new ft(_e.comparator);c=c.insert(l,tn.newNoDocument(l,xe.min()));const d=ze().add(l),p=new Mf(xe.min(),new Map,new ft(je),c,d);await xw(r,p),r.du=r.du.remove(l),r.Au.delete(e),$g(r)}else await Gp(r.localStore,e,!1).then((()=>Qp(r,e,t))).catch(Uo)}async function V4(i,e){const t=Ne(i),r=e.batch.batchId;try{const a=await GM(t.localStore,e);Iw(t,r,null),Cw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(t,a)}catch(a){await Uo(a)}}async function P4(i,e,t){const r=Ne(i);try{const a=await(function(c,d){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((v=>(Ke(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);Iw(r,e,t),Cw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Hu(r,a)}catch(a){await Uo(a)}}function Cw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Iw(i,e,t){const r=Ne(i);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Qp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Nw(i,r)}))}function Nw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ug(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),$g(i))}function AT(i,e,t){for(const r of t)r instanceof ww?(i.Ru.addReference(r.key,e),k4(i,r)):r instanceof Aw?(de(Gg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Nw(i,r.key)):be(19791,{wu:r})}function k4(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(de(Gg,"New document in limbo: "+t),i.Eu.add(r),$g(i))}function $g(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new _e(rt.fromString(e)),r=i.fu.next();i.Au.set(r,new R4(t)),i.du=i.du.insert(t,r),pw(i.remoteStore,new cs(Vi(Cg(t.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function Hu(i,e,t){const r=Ne(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,e,t).then((g=>{var _;if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=Pg.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ie.forEach(g,(S=>ie.forEach(S.Es,(x=>_.persistence.referenceDelegate.addReference(v,S.targetId,x))).next((()=>ie.forEach(S.ds,(x=>_.persistence.referenceDelegate.removeReference(v,S.targetId,x)))))))))}catch(v){if(!jo(v))throw v;de(kg,"Failed to update sequence numbers: "+v)}for(const v of g){const S=v.targetId;if(!v.fromCache){const x=_.Ms.get(S),V=x.snapshotVersion,B=x.withLastLimboFreeSnapshotVersion(V);_.Ms=_.Ms.insert(S,B)}}})(r.localStore,l))}async function U4(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){de(Gg,"User change. New user:",e.toKey());const r=await hw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(ee.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(t,r.Ls)}}function j4(i,e){const t=Ne(i),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function Ow(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Pu.H_=S4.bind(null,e.eventManager),e.Pu.yu=b4.bind(null,e.eventManager),e}function z4(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P4.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return FM(this.persistence,new BM,e.initialUser,this.serializer)}Cu(e){return new cw(Vg.mi,this.serializer)}Du(e){return new JM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class B4 extends hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new cw((r=>uf.mi(r,t)),this.serializer)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new T4})()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=(function(l){return new n4(l)})(e.databaseInfo);return(function(l,c,d,p){return new a4(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,d){return new l4(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>wT(this.syncEngine,t,0)),(function(){return _T.v()?new _T:new WM})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,_){const v=new x4(a,l,c,d,p,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ne(a);de(ga,"RemoteStore shutting down."),l.Ea.add(5),await qu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class q4{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{de(Ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(de(Ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fp(i,e){i.asyncQueue.verifyOperationInProgress(),de(Ts,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await hw(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function RT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await H4(i);de(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>ET(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>ET(e.remoteStore,a))),i._onlineComponents=e}async function H4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Ts,"Using user provided OfflineComponentProvider");try{await fp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;vu("Error using user provided cache. Falling back to memory cache: "+t),await fp(i,new hf)}}else de(Ts,"Using default OfflineComponentProvider"),await fp(i,new B4(void 0));return i._offlineComponents}async function Mw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Ts,"Using user provided OnlineComponentProvider"),await RT(i,i._uninitializedComponentsProvider._online)):(de(Ts,"Using default OnlineComponentProvider"),await RT(i,new Yp))),i._onlineComponents}function F4(i){return Mw(i).then((e=>e.syncEngine))}async function Lw(i){const e=await Mw(i),t=e.eventManager;return t.onListen=C4.bind(null,e.syncEngine),t.onUnlisten=O4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=D4.bind(null,e.syncEngine),t}function G4(i,e,t={}){const r=new gr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new Dw({next:S=>{_.Nu(),c.enqueueAndForget((()=>Sw(l,v)));const x=S.docs.has(d);!x&&S.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),v=new bw(Cg(d.path),_,{includeMetadataChanges:!0,qa:!0});return Tw(l,v)})(await Lw(i),i.asyncQueue,e,t,r))),r.promise}function $4(i,e,t={}){const r=new gr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new Dw({next:S=>{_.Nu(),c.enqueueAndForget((()=>Sw(l,v))),S.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),v=new bw(d,_,{includeMetadataChanges:!0,qa:!0});return Tw(l,v)})(await Lw(i),i.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="firestore.googleapis.com",CT=!0;class IT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K4,this.ssl=CT}else this.host=e.host,this.ssl=e.ssl??CT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uw)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eD;switch(r.type){case"firstParty":return new iD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=xT.get(t);r&&(de("ComponentProvider","Removing Datastore"),xT.delete(t),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Uu(t,Tt._jsonSchema))return new Tt(e,r||null,new _e(rt.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Mt("string",Tt._jsonSchemaVersion),referencePath:Mt("string")};class ps extends Bo{constructor(e,t,r){super(e,t,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new _e(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Ea(i,e,...t){if(i=qt(i),Eb("collection","path",e),i instanceof Kg){const r=rt.fromString(e,...t);return qE(r),new ps(i,null,r)}{if(!(i instanceof Tt||i instanceof ps))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...t));return qE(r),new ps(i.firestore,null,r)}}function li(i,e,...t){if(i=qt(i),arguments.length===1&&(e=Sg.newId()),Eb("doc","path",e),i instanceof Kg){const r=rt.fromString(e,...t);return BE(r),new Tt(i,null,new _e(r))}{if(!(i instanceof Tt||i instanceof ps))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...t));return BE(r),new Tt(i.firestore,i instanceof ps?i.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="AsyncQueue";class OT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dw(this,"async_queue_retry"),this._c=()=>{const r=hp();r&&de(NT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;de(NT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",DT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=qg.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:DT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ta extends Kg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new OT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function Q4(i,e,t){t||(t=nf);const r=cg(i,"firestore");if(r.isInitialized(t)){const a=r.getImmediate({identifier:t}),l=r.getOptions(t);if(ha(l,e))return a;throw new he(ee.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(ee.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uw)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Lo(e.host)&&CS(e.host),r.initialize({options:e,instanceIdentifier:t})}function Qg(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Y4(i),i._firestoreClient}function Y4(i){var r,a,l;const e=i._freezeSettings(),t=(function(d,p,g,_){return new ED(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Vw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new q4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Jt.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Mt("string",qn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Uu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Mt("string",ki._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ui(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Mt("string",Ui._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^__.*__$/;class J4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class Pw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:i})}}class Yg{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ff(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kw(this.Ac)&&X4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}Cc(e,t,r,a=!1){return new Yg({Ac:e,methodName:t,Dc:r,path:Xt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(i){const e=i._freezeSettings(),t=Lf(i._databaseId);return new W4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Uw(i,e,t,r,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,a);Jg("Data must be an object, but it was:",c,r);const d=jw(r,c);let p,g;if(l.merge)p=new Cn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const S=Xp(e,v,t);if(!c.contains(S))throw new he(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Bw(_,S)||_.push(S)}p=new Cn(_),g=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=c.fieldTransforms;return new J4(new yn(d),p,g)}class zf extends Uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}class Xg extends Uf{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ru(e.serializer,Gb(e.serializer,this.Fc));return new GD(e.path,t)}isEqual(e){return e instanceof Xg&&this.Fc===e.Fc}}function Z4(i,e,t,r){const a=i.Cc(1,e,t);Jg("Data must be an object, but it was:",a,r);const l=[],c=yn.empty();xs(r,((p,g)=>{const _=Wg(e,p,t);g=qt(g);const v=a.yc(_);if(g instanceof zf)l.push(_);else{const S=Fu(g,v);S!=null&&(l.push(_),c.set(_,S))}}));const d=new Cn(l);return new Pw(c,d,a.fieldTransforms)}function eL(i,e,t,r,a,l){const c=i.Cc(1,e,t),d=[Xp(e,r,t)],p=[a];if(l.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Xp(e,l[S])),p.push(l[S+1]);const g=[],_=yn.empty();for(let S=d.length-1;S>=0;--S)if(!Bw(g,d[S])){const x=d[S];let V=p[S];V=qt(V);const B=c.yc(x);if(V instanceof zf)g.push(x);else{const j=Fu(V,B);j!=null&&(g.push(x),_.set(x,j))}}const v=new Cn(g);return new Pw(_,v,c.fieldTransforms)}function tL(i,e,t,r=!1){return Fu(t,i.Cc(r?4:3,e))}function Fu(i,e){if(zw(i=qt(i)))return Jg("Unsupported field value:",e,i),jw(i,e);if(i instanceof Uf)return(function(r,a){if(!kw(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let p=Fu(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,a){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gb(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:lf(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(a.serializer,l)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:tw(a.serializer,r._byteString)};if(r instanceof Tt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ui)return(function(c,d){return{mapValue:{fields:{[Ib]:{stringValue:Nb},[rf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ig(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Af(r)}`)})(i,e)}function jw(i,e){const t={};return bb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(i,((r,a)=>{const l=Fu(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function zw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof lt||i instanceof ki||i instanceof qn||i instanceof Tt||i instanceof Uf||i instanceof Ui)}function Jg(i,e,t){if(!zw(t)||!Tb(t)){const r=Af(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Xp(i,e,t){if((e=qt(e))instanceof kf)return e._internalPath;if(typeof e=="string")return Wg(i,e);throw ff("Field path arguments must be of type string or ",i,!1,void 0,t)}const nL=new RegExp("[~\\*/\\[\\]]");function Wg(i,e,t){if(e.search(nL)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new kf(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ff(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new he(ee.INVALID_ARGUMENT,d+i+p)}function Bw(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iL extends qw{data(){return super.data()}}function Zg(i,e){return typeof e=="string"?Wg(i,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class sL extends ey{}function ty(i,e,...t){let r=[];e instanceof ey&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((p=>p instanceof iy)).length,d=l.filter((p=>p instanceof Bf)).length;if(c>1||c>0&&d>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)i=a._apply(i);return i}class Bf extends sL{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Bf(e,t,r)}_apply(e){const t=this._parse(e);return Hw(e._query,t),new Bo(e.firestore,e.converter,jp(e._query,t))}_parse(e){const t=jf(e.firestore);return(function(l,c,d,p,g,_,v){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){LT(v,_);const V=[];for(const B of v)V.push(MT(p,l,B));S={arrayValue:{values:V}}}else S=MT(p,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||LT(v,_),S=tL(d,c,v,_==="in"||_==="not-in");return Dt.create(g,_,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ny(i,e,t){const r=e,a=Zg("where",i);return Bf._create(a,r,t)}class iy extends ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)Hw(c,p),c=jp(c,p)})(e._query,t),new Bo(e.firestore,e.converter,jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MT(i,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ub(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XE(i,new _e(r))}if(t instanceof Tt)return XE(i,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(t)}.`)}function LT(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hw(i,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aL{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xs(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){var r,a,l;const t=(l=(a=(r=e.fields)==null?void 0:r[rf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Et(c.doubleValue)));return new Ui(t)}convertGeoPoint(e){return new ki(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=ys(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ke(ow(r),9688,{name:e});const a=new Su(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return a.isEqual(t)||Tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends qw{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Zg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ua._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Mt("string",ua._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Hh extends ua{data(e={}){return super.data(e)}}class So{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ru(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Hh(this._firestore,this._userDataWriter,r.key,r,new ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:oL(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i){i=ji(i,Tt);const e=ji(i.firestore,Ta);return G4(Qg(e),i._key).then((t=>lL(e,i,t)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Mt("string",So._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class $w extends aL{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function ry(i){i=ji(i,Bo);const e=ji(i.firestore,Ta),t=Qg(e),r=new $w(e);return rL(i._query),$4(t,i._query).then((a=>new So(e,r,i,a)))}function Kw(i,e,t){i=ji(i,Tt);const r=ji(i.firestore,Ta),a=Fw(i.converter,e);return Ff(r,[Uw(jf(r),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Hn.none())])}function qf(i,e,t,...r){i=ji(i,Tt);const a=ji(i.firestore,Ta),l=jf(a);let c;return c=typeof(e=qt(e))=="string"||e instanceof kf?eL(l,"updateDoc",i._key,e,t,r):Z4(l,"updateDoc",i._key,e),Ff(a,[c.toMutation(i._key,Hn.exists(!0))])}function sy(i){return Ff(ji(i.firestore,Ta),[new Ng(i._key,Hn.none())])}function Hf(i,e){const t=ji(i.firestore,Ta),r=li(i),a=Fw(i.converter,e);return Ff(t,[Uw(jf(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then((()=>r))}function Ff(i,e){return(function(r,a){const l=new gr;return r.asyncQueue.enqueueAndForget((async()=>M4(await F4(r),a,l))),l.promise})(Qg(i),e)}function lL(i,e,t){const r=t.docs.get(e._key),a=new $w(i);return new ua(i,a,e._key,r,new ru(t.hasPendingWrites,t.fromCache),e.converter)}function uL(i){return new Xg("increment",i)}(function(e,t=!0){(function(a){ko=a})(Vo),wo(new fa("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Ta(new tD(r.getProvider("auth-internal")),new rD(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ds(kE,UE,e),ds(kE,UE,"esm2020")})();const Qw={apiKey:"AIzaSyAnCQe9X4JQof57VTZlKNpJhKYTGO-31IA",authDomain:"invoice-ai-7f9f5.firebaseapp.com",projectId:"invoice-ai-7f9f5",storageBucket:"invoice-ai-7f9f5.firebasestorage.app",messagingSenderId:"840098157464",appId:"1:840098157464:web:b89b53953d7cc8475b11ed",measurementId:"G-JJC59GREEH"};for(const[i,e]of Object.entries(Qw))if(e===void 0)throw new Error(`Firebase config is missing required environment variable: ${i}. Make sure your .env file is correctly set up.`);const Yw=OS(Qw),bo=JO(Yw),Wt=Q4(Yw,{experimentalForceLongPolling:!0}),cL=async i=>(await Hf(Ea(Wt,"companies"),i)).id,hL=async i=>{const e=ty(Ea(Wt,"companies"),ny("ownerId","==",i)),t=await ry(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r},fL=async(i,e)=>{const t=li(Wt,"companies",i);await qf(t,e)},dL=async i=>{await sy(li(Wt,"companies",i))},mL=async i=>(await Hf(Ea(Wt,"warehouses"),i)).id,pL=async i=>{const e=ty(Ea(Wt,"warehouses"),ny("companyId","==",i)),t=await ry(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r},gL=async(i,e)=>{const t=li(Wt,"warehouses",i);await qf(t,e)},yL=async i=>{await sy(li(Wt,"warehouses",i))},_L=async i=>(await Hf(Ea(Wt,"nomenclatures"),i)).id,vL=async i=>{const e=ty(Ea(Wt,"nomenclatures"),ny("companyId","==",i)),t=await ry(e),r=[];return t.forEach(a=>{r.push({id:a.id,...a.data()})}),r},EL=async(i,e)=>{const t=li(Wt,"nomenclatures",i);await qf(t,e)},TL=async i=>{await sy(li(Wt,"nomenclatures",i))},SL=async i=>{const e=li(Wt,"users",i.uid);(await Gw(e)).exists()||(await Kw(e,{id:i.uid,email:i.email,name:i.displayName,picture:i.photoURL,companyIds:[]}),await bL(i.uid,"free"))},bL=async(i,e)=>{const t=li(Wt,"subscriptions",i),r={planId:e,invoiceCount:0,startDate:Date.now(),endDate:Date.now()+720*60*60*1e3};await Kw(t,r)},wL=async i=>{const e=li(Wt,"subscriptions",i),t=await Gw(e);return t.exists()?t.data():null},AL=async i=>{const e=li(Wt,"subscriptions",i);await qf(e,{invoiceCount:uL(1)})},RL=async i=>{const e=await Hf(Ea(Wt,"processedInvoices"),i);return await AL(i.userId),e.id},xL=async(i,e,t)=>{try{const r=await fetch("http://localhost:4242/api/parse-invoice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:i,mimeType:e,nomenclatureData:t})});if(!r.ok){const l=await r.json();throw new Error(l.error||"Failed to process invoice")}return await r.json()}catch(r){console.error("Error calling backend to process invoice:",r);const a=r.message||"An unknown error occurred.";throw new Error(`Failed to process the invoice with AI. Details: ${a}`)}},VT=i=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(i),r.onload=()=>e(r.result),r.onerror=a=>t(a)}),CL=({user:i,selectedCompanyId:e,setSelectedCompanyId:t,selectedWarehouseId:r,setSelectedWarehouseId:a,companies:l,setCompanies:c,warehouses:d,setWarehouses:p,nomenclatures:g,setNomenclatures:_,nomenclature:v,setNomenclature:S,invoiceData:x,setInvoiceData:V,isLoading:B,setIsLoading:j,error:W,setError:re,uploadedInvoices:X,setUploadedInvoices:le,currentPlan:ge,invoiceCount:ve,openPricingModal:D,exportConfig:N,setExportConfig:A,DEFAULT_EXPORT_CONFIG:M})=>{const{t:C}=Ou(),[U,O]=k.useState(!1),[Te,Qe]=k.useState("company"),[Y,se]=k.useState(!1),[ae,we]=k.useState("company");return k.useEffect(()=>{(async()=>{if(e){const I=await pL(e);p(I),I.length>0&&!r&&a(I[0].id);const H=await vL(e);_(H)}else p([]),_([]),a(null)})()},[e,p,_,a,r]),k.useCallback(ce=>{Qe(ce),O(!0)},[]),k.useCallback(async ce=>{if(!i){We.error("User not authenticated.");return}try{if(Te==="company"){const I={name:ce,ownerId:i.id},H=await cL(I);c(ne=>[...ne,{id:H,...I}]),We.success(C("modals.create_company.success",{name:ce}))}else if(Te==="warehouse"){if(!e){We.error("No company selected.");return}const I={name:ce,companyId:e},H=await mL(I);p(ne=>[...ne,{id:H,...I}]),We.success(C("modals.create_warehouse.success",{name:ce}))}else if(Te==="nomenclature"){if(!e){We.error("No company selected.");return}const I={name:ce,companyId:e,data:[]},H=await _L(I);_(ne=>[...ne,{id:H,...I}]),We.success(C("modals.create_nomenclature.success",{name:ce}))}}catch(I){console.error(`Failed to create ${Te}:`,I),We.error(C(`modals.create_${Te}.error`))}},[i,Te,e,c,p,_,C]),k.useCallback(ce=>{we(ce),se(!0)},[]),k.useCallback(async(ce,I)=>{try{ae==="company"?(await fL(ce,{name:I}),c(H=>H.map(ne=>ne.id===ce?{...ne,name:I}:ne)),We.success(C("modals.manage_company.rename_success",{newName:I}))):ae==="warehouse"?(await gL(ce,{name:I}),p(H=>H.map(ne=>ne.id===ce?{...ne,name:I}:ne)),We.success(C("modals.manage_warehouse.rename_success",{newName:I}))):ae==="nomenclature"&&(await EL(ce,{name:I}),_(H=>H.map(ne=>ne.id===ce?{...ne,name:I}:ne)),We.success(C("modals.manage_nomenclature.rename_success",{newName:I})))}catch(H){console.error(`Failed to rename ${ae}:`,H),We.error(C(`modals.manage_${ae}.rename_error`))}},[ae,c,p,_,C]),k.useCallback(async ce=>{try{ae==="company"?(await dL(ce),c(I=>I.filter(H=>H.id!==ce)),e===ce&&t(null),We.success(C("modals.manage_company.delete_success"))):ae==="warehouse"?(await yL(ce),p(I=>I.filter(H=>H.id!==ce)),r===ce&&a(null),We.success(C("modals.manage_warehouse.delete_success"))):ae==="nomenclature"&&(await TL(ce),_(I=>I.filter(H=>H.id!==ce)),We.success(C("modals.manage_nomenclature.delete_success")))}catch(I){console.error(`Failed to delete ${ae}:`,I),We.error(C(`modals.manage_${ae}.delete_error`))}},[ae,e,t,r,a,c,p,_,C]),k.useCallback(ce=>{S(ce),We.success(C("nomenclature.upload_success"))},[S,C]),k.useCallback(async ce=>{if(!(!ce||ce.length===0)){V(null),re(null),j(!0);try{const I=await Promise.all(Array.from(ce).map(async H=>({file:H,preview:await VT(H)})));le(I),We.success(C("invoices.upload_success",{count:ce.length}))}catch(I){re(C("invoices.upload_error")),We.error(C("invoices.upload_error")),console.error(I)}finally{j(!1)}}},[V,re,j,le,C]),k.useCallback(async()=>{var I;if(!i||!e||!r||!v){We.error(C("invoices.process_prerequisites_error"));return}if(X.length===0){We.error(C("invoices.process_no_files_error"));return}if(ve>=ge.invoiceLimit){We.error(C("invoices.process_limit_error")),D();return}j(!0),re(null),V(null);try{const H=await Promise.allSettled(X.map(async({file:fe})=>{const Ce=(await VT(fe)).split(",")[1],pt=fe.type;return(await xL(Ce,pt,v,i.id)).map(qi=>{var Hi;return{...qi,id:crypto.randomUUID(),invoiceFileName:fe.name,userId:i.id,companyId:e,warehouseId:r,nomenclatureId:((Hi=g.find(Ar=>Ar.data===v))==null?void 0:Hi.id)||"unknown"}})})),ne=H.filter(fe=>fe.status==="fulfilled").flatMap(fe=>fe.value),ue=H.filter(fe=>fe.status==="rejected");if(ue.length>0&&(console.error("Some invoices failed to process:",ue),We.error(C("invoices.process_partial_error",{failed:ue.length,total:X.length}))),ne.length===0&&ue.length>0){const fe=ue[0].reason;throw new Error((fe==null?void 0:fe.message)||C("invoices.process_all_failed_error"))}V(ne),We.success(C("invoices.process_success"));for(const fe of ne)await RL({userId:i.id,companyId:e,warehouseId:r,nomenclatureId:((I=g.find(Ae=>Ae.data===v))==null?void 0:I.id)||"unknown",fileName:fe.invoiceFileName,processedAt:Date.now(),items:[fe]})}catch(H){console.error(H),re(H.message||C("invoices.process_unexpected_error")),We.error(H.message||C("invoices.process_unexpected_error"))}finally{j(!1)}},[i,e,r,v,X,ve,ge,V,re,j,g,C,D]),k.useCallback(()=>{le([]),V(null),re(null),We.success(C("invoices.reset_success"))},[le,V,re,C]),k.useCallback((ce,I)=>{V(H=>H?H.map(ne=>ne.id===ce?{...ne,...I}:ne):null)},[V]),k.useCallback(ce=>{A(ce),We.success(C("export.config_save_success"))},[A,C]),useMemo(()=>{if(!v)return[];try{const ce=XLSX.read(v,{type:"string"}),I=ce.SheetNames[0],H=ce.Sheets[I],ne=XLSX.utils.sheet_to_json(H,{header:1});if(ne.length<2)return[];const ue=ne[0].map(Ce=>String(Ce).toLowerCase().trim()),fe=ue.indexOf("name"),Ae=ue.indexOf("sku");return fe===-1||Ae===-1?[]:ne.slice(1).map(Ce=>({name:String(Ce[fe]||""),sku:String(Ce[Ae]||"")})).filter(Ce=>Ce.name&&Ce.sku)}catch{return[]}},[v]),ve>=ge.invoiceLimit,R.jsx("main",{className:"container mx-auto p-4 md:p-8"})},IL=({onSetupComplete:i})=>{const[e,t]=k.useState(""),[r,a]=k.useState(""),[l,c]=k.useState(""),d=p=>{p.preventDefault(),e.trim()&&r.trim()?i(e.trim(),r.trim()):c("Both company and warehouse names are required.")};return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center p-4",children:R.jsxs("div",{className:"w-full max-w-md",children:[R.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200",children:[R.jsx("div",{className:"flex justify-center mb-6",children:R.jsx("div",{className:"bg-indigo-600 p-4 rounded-full text-white",children:R.jsx(Ef,{className:"h-10 w-10"})})}),R.jsx("h1",{className:"text-2xl font-bold text-center text-slate-800",children:"Welcome!"}),R.jsx("p",{className:"text-center text-slate-500 mt-2 mb-6",children:"Let's get started by setting up your first company and warehouse."}),R.jsxs("form",{onSubmit:d,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"company-name",className:"block text-sm font-medium text-slate-700",children:"Company Name"}),R.jsx("input",{id:"company-name",type:"text",value:e,onChange:p=>t(p.target.value),placeholder:"e.g., My Restaurant Group",className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"warehouse-name",className:"block text-sm font-medium text-slate-700",children:"Warehouse / Location Name"}),R.jsx("input",{id:"warehouse-name",type:"text",value:r,onChange:p=>a(p.target.value),placeholder:"e.g., Central Kitchen",className:"mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),l&&R.jsx("p",{className:"text-sm text-red-600",children:l}),R.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Start Processing Invoices"})]})]}),R.jsx("footer",{className:"text-center p-4 text-xs text-slate-400 mt-4",children:R.jsx("p",{children:" 2024 Invoice AI Parser."})})]})})},NL=({onLogin:i})=>{const[e,t]=k.useState(!1),[r,a]=k.useState(""),[l,c]=k.useState(""),[d,p]=k.useState(""),g=async v=>{if(v.preventDefault(),p(""),!r||!l){p("Please enter both email and password.");return}if(!/\S+@\S+\.\S+/.test(r)){p("Please enter a valid email address.");return}try{let S;if(e){if(l.length<6){p("Password must be at least 6 characters long.");return}S=await VN(bo,r,l)}else S=await PN(bo,r,l);const x=S.user,V={id:x.uid,name:x.displayName||r.split("@")[0],email:x.email,picture:x.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(r.split("@")[0])}&background=random&color=fff`};i(V)}catch(S){S.code==="auth/email-already-in-use"?p("An account with this email already exists. Please sign in."):S.code==="auth/user-not-found"?p("No account found with this email. Please sign up."):S.code==="auth/wrong-password"?p("Incorrect password."):p("Authentication failed. Please try again."),console.error("Firebase authentication error:",S)}},_=async()=>{p("");try{const v=new hr,x=(await aO(bo,v)).user,V={id:x.uid,name:x.displayName,email:x.email,picture:x.photoURL};i(V)}catch(v){p("Google Sign-In failed. Please try again."),console.error("Google Sign-In error:",v)}};return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center p-4",children:R.jsxs("div",{className:"w-full max-w-sm",children:[R.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200",children:[R.jsx("div",{className:"flex justify-center mb-6",children:R.jsx("div",{className:"bg-indigo-600 p-4 rounded-full text-white",children:R.jsx(Ef,{className:"h-10 w-10"})})}),R.jsx("h1",{className:"text-2xl font-bold text-center text-slate-800",children:"Invoice AI Parser"}),R.jsx("p",{className:"text-center text-slate-500 mt-2 mb-6",children:e?"Create an account to get started.":"Sign in to your account."}),R.jsxs("form",{onSubmit:g,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),R.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:v=>a(v.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Email address"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),R.jsx("input",{id:"password",name:"password",type:"password",autoComplete:e?"new-password":"current-password",required:!0,value:l,onChange:v=>c(v.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-slate-300 placeholder-slate-400 text-slate-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Password"})]}),d&&R.jsx("p",{className:"text-xs text-red-600 text-center",children:d}),R.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:e?"Sign Up":"Sign In"})]}),R.jsx("div",{className:"text-center my-4",children:R.jsx("button",{onClick:()=>{t(!e),p("")},className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:e?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),R.jsx("div",{className:"my-6",children:R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute inset-0 flex items-center",children:R.jsx("div",{className:"w-full border-t border-slate-300"})}),R.jsx("div",{className:"relative flex justify-center text-sm",children:R.jsx("span",{className:"px-2 bg-white text-slate-500",children:"Or"})})]})}),R.jsx("div",{className:"flex justify-center",children:R.jsxs("button",{onClick:_,className:"flex items-center justify-center w-full px-4 py-2 border border-slate-300 rounded-md shadow-sm text-sm font-medium text-slate-700 bg-white hover:bg-slate-50",children:[R.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:R.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.5 512 244 512 111.3 512 0 398.5 0 256S111.3 0 244 0c69.1 0 125.3 27.2 170.4 69.1L377.5 128C345.1 98.1 300.5 80 244 80c-87.6 0-158.3 70.7-158.3 158.3s70.7 158.3 158.3 158.3c96.1 0 133.3-67.9 138-102.3H244v-73.4h239.3c5.1 27.3 8.7 56.4 8.7 87.5z"})}),"Sign in with Google"]})})]}),R.jsx("footer",{className:"text-center p-4 text-xs text-slate-400 mt-4",children:R.jsx("p",{children:" 2024 Invoice AI Parser."})})]})})};var Xw="clover",OL=function(e){return e===3?"v3":e},Jw="https://js.stripe.com",DL="".concat(Jw,"/").concat(Xw,"/stripe.js"),ML=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,LL=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var VL=function(e){return ML.test(e)||LL.test(e)},PL=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Jw,'"]')),t=0;t<e.length;t++){var r=e[t];if(VL(r.src))return r}return null},PT=function(e){var t="",r=document.createElement("script");r.src="".concat(DL).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},kL=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:t})},Jl=null,Ih=null,Nh=null,UL=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},jL=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},zL=function(e){return Jl!==null?Jl:(Jl=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=PL();if(!(a&&e)){if(!a)a=PT(e);else if(a&&Nh!==null&&Ih!==null){var l;a.removeEventListener("load",Nh),a.removeEventListener("error",Ih),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=PT(e)}}Nh=jL(t,r),Ih=UL(r),a.addEventListener("load",Nh),a.addEventListener("error",Ih)}catch(c){r(c);return}}),Jl.catch(function(t){return Jl=null,Promise.reject(t)}))},BL=function(e,t,r){if(e===null)return null;var a=t[0],l=a.match(/^pk_test/),c=OL(e.version),d=Xw;l&&c!==d&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(d,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var p=e.apply(void 0,t);return kL(p,r),p},Wl,Ww=!1,Zw=function(){return Wl||(Wl=zL(null).catch(function(e){return Wl=null,Promise.reject(e)}),Wl)};Promise.resolve().then(function(){return Zw()}).catch(function(i){Ww||console.warn(i)});var qL=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Ww=!0;var a=Date.now();return Zw().then(function(l){return BL(l,t,a)})};const HL="pk_test_51PbsA5RqcWwIeHkP3F5y6hN1DEk3qSt0cs5a7yLdeWDoaFzAnz5pA9VbJ2zTGNkpqd7T2n6SzoM957QZXaFxDR3z00qAbUfAb4";qL(HL);const FL=({isOpen:i,onClose:e,onSelectPlan:t,currentPlanId:r,plans:a,userEmail:l})=>{const[c,d]=k.useState(!1),p=async _=>{if(_.price===0)t(_.id),e();else{d(!0);try{const v=await fetch("http://localhost:4242/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:_.stripePriceId,userEmail:l})}),{url:S}=await v.json();S?window.location.href=S:console.error("Failed to get Stripe checkout URL")}catch(v){console.error("Error creating Stripe checkout session:",v)}finally{d(!1)}}};if(!i)return null;const g=Object.values(a);return R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:R.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative",onClick:_=>_.stopPropagation(),children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Choose Your Plan"}),R.jsx("p",{className:"text-slate-500 mt-2",children:"Start for free, then upgrade as you grow."})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:g.map(_=>R.jsxs("div",{className:`p-6 rounded-lg border-2 flex flex-col ${r===_.id?"border-indigo-500":"border-slate-200"}`,children:[R.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:_.name}),R.jsx("p",{className:"text-slate-500 mt-1 flex-grow",children:_.description}),R.jsxs("div",{className:"my-6",children:[R.jsxs("span",{className:"text-4xl font-bold text-slate-800",children:["",_.price]}),_.price>0&&R.jsx("span",{className:"text-slate-500",children:" / month"})]}),R.jsxs("ul",{className:"space-y-3 text-sm text-slate-600 mb-8",children:[R.jsxs("li",{className:"flex items-start",children:[R.jsx(cr,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),R.jsxs("span",{children:["Process up to ",R.jsx("strong",{children:_.invoiceLimit.toLocaleString()})," invoices"]})]}),R.jsxs("li",{className:"flex items-start",children:[R.jsx(cr,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),R.jsx("span",{children:"AI-powered data extraction"})]}),R.jsxs("li",{className:"flex items-start",children:[R.jsx(cr,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),R.jsx("span",{children:"Excel & CSV export"})]})]}),R.jsx("button",{onClick:()=>p(_),disabled:r===_.id||c,className:"w-full mt-auto px-4 py-2 text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:cursor-not-allowed disabled:opacity-70 bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 disabled:bg-slate-400",children:c?"Processing...":r===_.id?"Current Plan":"Choose Plan"})]},_.id))}),R.jsx("div",{className:"text-center mt-6",children:R.jsx("button",{onClick:e,className:"text-sm text-slate-500 hover:text-slate-700",children:"Close"})})]})})},GL=({question:i,answer:e,isOpen:t,onClick:r})=>R.jsxs("div",{className:"border-b border-slate-200 py-4",children:[R.jsxs("button",{onClick:r,className:"w-full flex justify-between items-center text-left",children:[R.jsx("span",{className:"text-lg font-medium text-slate-800",children:i}),R.jsx(YC,{className:`w-6 h-6 text-slate-500 transition-transform ${t?"transform rotate-180":""}`})]}),R.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${t?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:R.jsx("div",{className:"overflow-hidden",children:R.jsx("p",{className:"pt-2 text-slate-600",children:e})})})]}),$L=()=>{const{t:i}=Ou(),[e,t]=k.useState(null),r=[{question:i("faq.q1"),answer:i("faq.a1")},{question:i("faq.q2"),answer:i("faq.a2")},{question:i("faq.q3"),answer:i("faq.a3")},{question:i("faq.q4"),answer:i("faq.a4")}],a=l=>{t(e===l?null:l)};return R.jsx("section",{id:"faq",className:"py-20 bg-white",children:R.jsxs("div",{className:"container mx-auto px-6",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:i("faq.title")}),R.jsx("p",{className:"mt-4 text-lg text-slate-600",children:i("faq.subtitle")})]}),R.jsx("div",{className:"max-w-3xl mx-auto",children:r.map((l,c)=>R.jsx(GL,{question:l.question,answer:l.answer,isOpen:e===c,onClick:()=>a(c)},c))})]})})},KL=()=>{const{i18n:i}=Ou(),e=t=>{i.changeLanguage(t)};return R.jsxs("div",{className:"flex space-x-2 text-sm",children:[R.jsx("button",{onClick:()=>e("en"),className:`px-2 py-1 rounded ${i.language==="en"?"bg-indigo-600 text-white":"hover:bg-slate-100"}`,children:"EN"}),R.jsx("button",{onClick:()=>e("ru"),className:`px-2 py-1 rounded ${i.language==="ru"?"bg-indigo-600 text-white":"hover:bg-slate-100"}`,children:"RU"})]})},QL=({plans:i})=>{const{t:e,i18n:t}=Ou(),r=ng(),a=()=>{r("/login")},l=d=>{const p=document.getElementById(d);p&&p.scrollIntoView({behavior:"smooth",block:"start"})},c=Object.values(i);return R.jsxs("div",{className:"bg-white text-slate-800 font-sans",children:[R.jsx("header",{className:"bg-white/90 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 border-b border-slate-200",children:R.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[R.jsxs("a",{href:"#",className:"flex items-center space-x-2",children:[R.jsx(Ef,{className:"w-7 h-7 text-indigo-600"}),R.jsx("h1",{className:"text-xl font-bold",children:"Invoice AI Parser"})]}),R.jsxs("nav",{className:"hidden md:flex items-center space-x-8 text-sm font-medium text-slate-600",children:[R.jsx("a",{href:"#features",onClick:d=>{d.preventDefault(),l("features")},className:"hover:text-indigo-600 transition-colors",children:e("header.features")}),R.jsx("a",{href:"#how-it-works",onClick:d=>{d.preventDefault(),l("how-it-works")},className:"hover:text-indigo-600 transition-colors",children:e("header.how_it_works")}),R.jsx("a",{href:"#pricing",onClick:d=>{d.preventDefault(),l("pricing")},className:"hover:text-indigo-600 transition-colors",children:e("header.pricing")}),R.jsx("a",{href:"#faq",onClick:d=>{d.preventDefault(),l("faq")},className:"hover:text-indigo-600 transition-colors",children:e("header.faq")})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx(KL,{}),R.jsx("button",{onClick:a,className:"px-5 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all",children:e("header.login")})]})]})}),R.jsxs("main",{children:[R.jsx("section",{className:"relative pt-32 pb-20 md:pt-48 md:pb-32 bg-slate-50",children:R.jsxs("div",{className:"container mx-auto px-6 grid md:grid-cols-2 gap-10 items-center",children:[R.jsxs("div",{className:"text-center md:text-left",children:[R.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 leading-tight",dangerouslySetInnerHTML:{__html:e("hero.title",{1:'<span class="text-indigo-600">',postProcess:"html"})}}),R.jsx("p",{className:"mt-6 text-lg text-slate-600",children:e("hero.subtitle")}),R.jsxs("div",{className:"mt-10",children:[R.jsxs("button",{onClick:a,className:"inline-flex items-center justify-center px-8 py-3 text-lg font-semibold text-white bg-indigo-600 rounded-lg shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transform hover:scale-105 transition-all",children:[e("hero.cta"),R.jsx(QC,{className:"w-5 h-5 ml-2"})]}),R.jsx("p",{className:"mt-4 text-xs text-slate-500",children:e("hero.cta_note")})]})]}),R.jsx("div",{className:"relative",children:R.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-1696413565d3?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Invoice processing demonstration",className:"rounded-xl shadow-2xl w-full h-auto object-cover"})})]})}),R.jsx("section",{id:"how-it-works",className:"py-20 bg-white",children:R.jsxs("div",{className:"container mx-auto px-6",children:[R.jsxs("div",{className:"text-center mb-16",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:e("how_it_works.title")}),R.jsx("p",{className:"mt-4 text-lg text-slate-600 max-w-2xl mx-auto",children:e("how_it_works.subtitle")})]}),R.jsxs("div",{className:"grid md:grid-cols-3 gap-10 text-center relative",children:[R.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-px -translate-y-1/2",children:R.jsx("svg",{width:"100%",height:"2",children:R.jsx("line",{x1:"0",y1:"1",x2:"100%",y2:"1",stroke:"#cbd5e1",strokeWidth:"2",strokeDasharray:"8 8"})})}),R.jsxs("div",{className:"relative bg-white z-10",children:[R.jsx("div",{className:"mx-auto mb-6 w-16 h-16 flex items-center justify-center bg-slate-100 text-indigo-600 rounded-full font-bold text-2xl border-2 border-white ring-4 ring-slate-100",children:"1"}),R.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("how_it_works.step1_title")}),R.jsx("p",{className:"text-slate-600",children:e("how_it_works.step1_description")})]}),R.jsxs("div",{className:"relative bg-white z-10",children:[R.jsx("div",{className:"mx-auto mb-6 w-16 h-16 flex items-center justify-center bg-slate-100 text-indigo-600 rounded-full font-bold text-2xl border-2 border-white ring-4 ring-slate-100",children:"2"}),R.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("how_it_works.step2_title")}),R.jsx("p",{className:"text-slate-600",children:e("how_it_works.step2_description")})]}),R.jsxs("div",{className:"relative bg-white z-10",children:[R.jsx("div",{className:"mx-auto mb-6 w-16 h-16 flex items-center justify-center bg-slate-100 text-indigo-600 rounded-full font-bold text-2xl border-2 border-white ring-4 ring-slate-100",children:"3"}),R.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("how_it_works.step3_title")}),R.jsx("p",{className:"text-slate-600",children:e("how_it_works.step3_description")})]})]})]})}),R.jsx("section",{id:"features",className:"py-20 bg-slate-50",children:R.jsx("div",{className:"container mx-auto px-6",children:R.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:e("features.title")}),R.jsx("p",{className:"mt-4 text-lg text-slate-600",children:e("features.subtitle")}),R.jsxs("ul",{className:"mt-8 space-y-6",children:[R.jsxs("li",{className:"flex items-start",children:[R.jsx(cr,{className:"h-6 w-6 text-indigo-600 mr-3 flex-shrink-0 mt-1"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-lg",children:e("features.feature1_title")}),R.jsx("p",{className:"text-slate-600",children:e("features.feature1_description")})]})]}),R.jsxs("li",{className:"flex items-start",children:[R.jsx(cr,{className:"h-6 w-6 text-indigo-600 mr-3 flex-shrink-0 mt-1"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-lg",children:e("features.feature2_title")}),R.jsx("p",{className:"text-slate-600",children:e("features.feature2_description")})]})]}),R.jsxs("li",{className:"flex items-start",children:[R.jsx(cr,{className:"h-6 w-6 text-indigo-600 mr-3 flex-shrink-0 mt-1"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-lg",children:e("features.feature3_title")}),R.jsx("p",{className:"text-slate-600",children:e("features.feature3_description")})]})]})]})]}),R.jsx("div",{children:R.jsx("img",{src:"https://images.unsplash.com/photo-1587573089734-09cb69c0f2b4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Business analytics dashboard",className:"rounded-xl shadow-2xl w-full h-auto object-cover"})})]})})}),R.jsx("section",{id:"pricing",className:"py-20 bg-white",children:R.jsxs("div",{className:"container mx-auto px-6",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:e("pricing.title")}),R.jsx("p",{className:"mt-4 text-lg text-slate-600",children:e("pricing.subtitle")})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:c.map(d=>R.jsxs("div",{className:`p-8 rounded-xl border flex flex-col ${d.id==="pro"?"border-indigo-500":"border-slate-200"}`,children:[R.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:e(`plans.${d.id}.name`)}),R.jsx("p",{className:"text-slate-500 mt-2 flex-grow",children:e(`plans.${d.id}.description`)}),R.jsxs("div",{className:"my-8 text-center",children:[R.jsxs("span",{className:"text-5xl font-extrabold text-slate-900",children:["",d.price]}),d.price>0&&R.jsxs("span",{className:"text-slate-500",children:[" / ",t.language==="ru"?"":"month"]})]}),R.jsxs("ul",{className:"space-y-4 text-sm text-slate-600 mb-8",children:[R.jsxs("li",{className:"flex items-center",children:[R.jsx(cr,{className:"h-5 w-5 text-indigo-600 mr-3"}),R.jsxs("span",{children:[R.jsx("strong",{children:d.invoiceLimit.toLocaleString()})," ",e("plans.invoices_per_month",{count:d.invoiceLimit})]})]}),R.jsxs("li",{className:"flex items-center",children:[R.jsx(cr,{className:"h-5 w-5 text-indigo-600 mr-3"}),R.jsx("span",{children:e("plans.ai_powered_extraction")})]}),R.jsxs("li",{className:"flex items-center",children:[R.jsx(cr,{className:"h-5 w-5 text-indigo-600 mr-3"}),R.jsx("span",{children:e("plans.excel_csv_export")})]})]}),R.jsx("button",{onClick:a,className:`w-full mt-auto px-6 py-3 text-sm font-semibold rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ${d.id==="pro"?"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500":"bg-slate-100 text-slate-700 hover:bg-slate-200 focus:ring-slate-300"}`,children:e("pricing.cta")})]},d.id))})]})}),R.jsx($L,{}),R.jsx("section",{className:"py-20 bg-slate-800 text-white",children:R.jsxs("div",{className:"container mx-auto px-6 text-center",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:e("cta_final.title")}),R.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-slate-300",children:e("cta_final.subtitle")}),R.jsx("div",{className:"mt-8",children:R.jsx("button",{onClick:a,className:"inline-flex items-center justify-center px-8 py-3 text-lg font-semibold text-slate-900 bg-white rounded-lg shadow-lg hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transform hover:scale-105 transition-all",children:e("cta_final.cta")})})]})})]})]})},dp={free:{id:"free",name:"Starter",price:0,currency:"EUR",invoiceLimit:50,description:"Great for testing the service.",stripePriceId:""},pro:{id:"pro",name:"Pro",price:19.99,currency:"EUR",invoiceLimit:1e3,description:"Ideal for small to medium businesses.",stripePriceId:"price_1Pbum2RqcWwIeHkP3sVkYF3h"},premium:{id:"premium",name:"Premium",price:79.99,currency:"EUR",invoiceLimit:1e4,description:"For large companies and high volumes.",stripePriceId:"price_1PbumMRqcWwIeHkPz11L95Yv"}},kT=[{key:"invoiceFileName",header:"Invoice File",enabled:!0,order:0},{key:"matchedProductName",header:"Matched Product Name",enabled:!0,order:1},{key:"originalName",header:"Original Name",enabled:!0,order:2},{key:"sku",header:"SKU",enabled:!0,order:3},{key:"quantity",header:"Quantity",enabled:!0,order:4},{key:"totalQuantity",header:"Total Quantity",enabled:!0,order:5},{key:"unitOfMeasure",header:"Unit of Measure",enabled:!0,order:6},{key:"unitPrice",header:"Unit Price",enabled:!0,order:7},{key:"totalPrice",header:"Total Price",enabled:!0,order:8}],YL=({children:i})=>{const t=br().pathname==="/",[r]=k.useState(bo.currentUser);return R.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 font-sans flex flex-col",children:[i,(!r||!t)&&R.jsx(XC,{})]})},XL=()=>{const[i,e]=k.useState(null),[t,r]=k.useState(null),[a,l]=k.useState(!1),[c,d]=k.useState(""),[p,g]=k.useState(null),[_,v]=k.useState(!1),[S,x]=k.useState(null),[V,B]=k.useState([]),[j,W]=k.useState([]),[re,X]=k.useState([]),[le,ge]=k.useState(null),[ve,D]=k.useState(null),[N,A]=k.useState([]),[M,C]=k.useState(kT),[U,O]=k.useState(!1),Te=k.useMemo(()=>dp[(t==null?void 0:t.planId)||"free"],[t]),Qe=k.useMemo(()=>(t==null?void 0:t.invoiceCount)||0,[t]),Y=k.useCallback(async ae=>{try{await SL(ae);const we={id:ae.uid,name:ae.displayName||ae.email.split("@")[0],email:ae.email,picture:ae.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(ae.email.split("@")[0])}&background=random&color=fff`,companyIds:[]};e(we);const ce=await wL(ae.uid);r(ce);const I=await hL(ae.uid);if(W(I),I.length>0){const H=I[0].id;ge(H)}}catch(we){console.error("Failed to load user data:",we),We.error("Failed to load your data. Please try again later.")}finally{O(!0)}},[]);k.useEffect(()=>{const ae=jN(bo,we=>{we?Y(we):(e(null),r(null),W([]),X([]),ge(null),D(null),O(!0))});return()=>ae()},[Y]);const se=k.useCallback(async()=>{try{await zN(bo),We.success("Logged out successfully!")}catch(ae){console.error("Logout failed:",ae),We.error("Failed to log out.")}},[]);return R.jsxs(YL,{children:[R.jsxs(jR,{children:[R.jsx(sa,{path:"/login",element:i?R.jsx(Ql,{to:"/app"}):R.jsx(NL,{onLogin:()=>{}})}),R.jsx(sa,{path:"/setup",element:i&&j.length===0?R.jsx(IL,{onSetupComplete:()=>{}}):R.jsx(Ql,{to:"/app"})}),R.jsx(sa,{path:"/app",element:i?j.length===0&&U?R.jsx(Ql,{to:"/setup"}):R.jsxs(R.Fragment,{children:[R.jsx(aC,{user:i,onLogout:se,plan:Te,invoiceCount:Qe,onUpgrade:()=>l(!0),companies:j,warehouses:re,selectedCompanyId:le,onCompanyChange:ge,onWarehouseChange:D,setCompanies:W,setWarehouses:X}),R.jsx(CL,{user:i,selectedCompanyId:le,setSelectedCompanyId:ge,selectedWarehouseId:ve,setSelectedWarehouseId:D,companies:j,setCompanies:W,warehouses:re,setWarehouses:X,nomenclatures:N,setNomenclatures:A,nomenclature:c,setNomenclature:d,invoiceData:p,setInvoiceData:g,isLoading:_,setIsLoading:v,error:S,setError:x,uploadedInvoices:V,setUploadedInvoices:B,currentPlan:Te,invoiceCount:Qe,openPricingModal:()=>l(!0),exportConfig:M,setExportConfig:C,DEFAULT_EXPORT_CONFIG:kT})]}):R.jsx(Ql,{to:"/"})}),R.jsx(sa,{path:"/",element:i?R.jsx(Ql,{to:"/app"}):R.jsx(QL,{plans:Object.values(dp)})}),R.jsx(sa,{path:"/privacy-policy",element:R.jsx("div",{children:"Privacy Policy Page"})}),R.jsx(sa,{path:"/terms-of-service",element:R.jsx("div",{children:"Terms of Service Page"})})]}),R.jsx(FL,{isOpen:a,onClose:()=>l(!1),onSelectPlan:()=>{},currentPlanId:(t==null?void 0:t.planId)||"free",plans:dp,userEmail:(i==null?void 0:i.email)??""})]})},JL=()=>R.jsxs(lx,{children:[R.jsx(sC,{position:"top-center",reverseOrder:!1,toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),R.jsx(XL,{})]}),{slice:WL,forEach:ZL}=[];function eV(i){return ZL.call(WL.call(arguments,1),e=>{if(e)for(const t in e)i[t]===void 0&&(i[t]=e[t])}),i}function tV(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(i))}const UT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,nV=function(i,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${i}=${a}`;if(r.maxAge>0){const c=r.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(r.domain){if(!UT.test(r.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${r.domain}`}if(r.path){if(!UT.test(r.path))throw new TypeError("option path is invalid");l+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(l+="; Partitioned"),l},jT={create(i,e,t,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),r&&(a.domain=r),document.cookie=nV(i,e,a)},read(i){const e=`${i}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let a=t[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(i,e){this.create(i,"",-1,e)}};var iV={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return jT.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&jT.create(t,i,r,a,l)}},rV={name:"querystring",lookup(i){var r;let{lookupQuerystring:e}=i,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const c=a.substring(1).split("&");for(let d=0;d<c.length;d++){const p=c[d].indexOf("=");p>0&&c[d].substring(0,p)===e&&(t=c[d].substring(p+1))}}return t}},sV={name:"hash",lookup(i){var a;let{lookupHash:e,lookupFromHashIndex:t}=i,r;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const c=l.substring(1);if(e){const d=c.split("&");for(let p=0;p<d.length;p++){const g=d[p].indexOf("=");g>0&&d[p].substring(0,g)===e&&(r=d[p].substring(g+1))}}if(r)return r;if(!r&&t>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(a=d[typeof t=="number"?t:0])==null?void 0:a.replace("/",""):void 0}}}return r}};let ho=null;const zT=()=>{if(ho!==null)return ho;try{if(ho=typeof window<"u"&&window.localStorage!==null,!ho)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{ho=!1}return ho};var aV={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&zT())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:t}=e;t&&zT()&&window.localStorage.setItem(t,i)}};let fo=null;const BT=()=>{if(fo!==null)return fo;try{if(fo=typeof window<"u"&&window.sessionStorage!==null,!fo)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{fo=!1}return fo};var oV={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&BT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:t}=e;t&&BT()&&window.sessionStorage.setItem(t,i)}},lV={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},uV={name:"htmlTag",lookup(i){let{htmlTag:e}=i,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},cV={name:"path",lookup(i){var a;let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},hV={name:"subdomain",lookup(i){var a,l;let{lookupFromSubdomainIndex:e}=i;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let e1=!1;try{document.cookie,e1=!0}catch{}const t1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];e1||t1.splice(1,1);const fV=()=>({order:t1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class n1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=eV(t,this.options||{},fV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(iV),this.addDetector(rV),this.addDetector(aV),this.addDetector(oV),this.addDetector(lV),this.addDetector(uV),this.addDetector(cV),this.addDetector(hV),this.addDetector(sV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(r=>r!=null&&!tV(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}n1.type="languageDetector";function Jp(i){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(i)}function i1(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Jp(XMLHttpRequest))==="object"}function dV(i){return!!i&&typeof i.then=="function"}function mV(i){return dV(i)?i:Promise.resolve(i)}const pV="modulepreload",gV=function(i){return"/"+i},qT={},yV=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(t.map(g=>{if(g=gV(g),g in qT)return;qT[g]=!0;const _=g.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":pV,_||(S.as="script"),S.crossOrigin="",S.href=g,p&&S.setAttribute("nonce",p),document.head.appendChild(S),_)return new Promise((x,V)=>{S.addEventListener("load",x),S.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function HT(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function FT(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(t),!0).forEach(function(r){_V(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):HT(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function _V(i,e,t){return(e=vV(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function vV(i){var e=EV(i,"string");return ya(e)=="symbol"?e:e+""}function EV(i,e){if(ya(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ya(i){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(i)}var Ss=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Ss=global.fetch:typeof window<"u"&&window.fetch&&(Ss=window.fetch);var xu;i1()&&(typeof global<"u"&&global.XMLHttpRequest?xu=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(xu=window.XMLHttpRequest));var df;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?df=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(df=window.ActiveXObject));typeof Ss!="function"&&(Ss=void 0);if(!Ss&&!xu&&!df)try{yV(()=>import("./browser-ponyfill-babrMdUU.js").then(i=>i.b),[]).then(function(i){Ss=i.default}).catch(function(){})}catch{}var Wp=function(e,t){if(t&&ya(t)==="object"){var r="";for(var a in t)r+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},GT=function(e,t,r,a){var l=function(p){if(!p.ok)return r(p.statusText||"Error",{status:p.status});p.text().then(function(g){r(null,{status:p.status,data:g})}).catch(r)};if(a){var c=a(e,t);if(c instanceof Promise){c.then(l).catch(r);return}}typeof fetch=="function"?fetch(e,t).then(l).catch(r):Ss(e,t).then(l).catch(r)},$T=!1,TV=function(e,t,r,a){e.queryStringParams&&(t=Wp(t,e.queryStringParams));var l=FT({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(l["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(l["Content-Type"]="application/json");var c=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,d=FT({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:l},$T?{}:c),p=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{GT(t,d,a,p)}catch(g){if(!c||Object.keys(c).length===0||!g.message||g.message.indexOf("not implemented")<0)return a(g);try{Object.keys(c).forEach(function(_){delete d[_]}),GT(t,d,a,p),$T=!0}catch(_){a(_)}}},SV=function(e,t,r,a){r&&ya(r)==="object"&&(r=Wp("",r).slice(1)),e.queryStringParams&&(t=Wp(t,e.queryStringParams));try{var l=xu?new xu:new df("MSXML2.XMLHTTP.3.0");l.open(r?"POST":"GET",t,1),e.crossDomain||l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.withCredentials=!!e.withCredentials,r&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.overrideMimeType&&l.overrideMimeType("application/json");var c=e.customHeaders;if(c=typeof c=="function"?c():c,c)for(var d in c)l.setRequestHeader(d,c[d]);l.onreadystatechange=function(){l.readyState>3&&a(l.status>=400?l.statusText:null,{status:l.status,data:l.responseText})},l.send(r)}catch(p){console&&console.log(p)}},bV=function(e,t,r,a){if(typeof r=="function"&&(a=r,r=void 0),a=a||function(){},Ss&&t.indexOf("file:")!==0)return TV(e,t,r,a);if(i1()||typeof ActiveXObject=="function")return SV(e,t,r,a);a(new Error("No fetch and no xhr implementation found!"))};function No(i){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(i)}function KT(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function mp(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(t),!0).forEach(function(r){r1(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):KT(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function wV(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function AV(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,s1(r.key),r)}}function RV(i,e,t){return e&&AV(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function r1(i,e,t){return(e=s1(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function s1(i){var e=xV(i,"string");return No(e)=="symbol"?e:e+""}function xV(i,e){if(No(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(No(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var CV=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,r,a){return r1({},r,a||"")},parseLoadPayload:function(t,r){},request:bV,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},a1=(function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};wV(this,i),this.services=e,this.options=t,this.allOptions=r,this.type="backend",this.init(e,t,r)}return RV(i,[{key:"init",value:function(t){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=mp(mp(mp({},CV()),this.options||{}),a),this.allOptions=l,this.services&&this.options.reloadInterval){var c=setInterval(function(){return r.reload()},this.options.reloadInterval);No(c)==="object"&&typeof c.unref=="function"&&c.unref()}}},{key:"readMulti",value:function(t,r,a){this._readAny(t,t,r,r,a)}},{key:"read",value:function(t,r,a){this._readAny([t],t,[r],r,a)}},{key:"_readAny",value:function(t,r,a,l,c){var d=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(t,a)),p=mV(p),p.then(function(g){if(!g)return c(null,{});var _=d.services.interpolator.interpolate(g,{lng:t.join("+"),ns:a.join("+")});d.loadUrl(_,c,r,l)})}},{key:"loadUrl",value:function(t,r,a,l){var c=this,d=typeof a=="string"?[a]:a,p=typeof l=="string"?[l]:l,g=this.options.parseLoadPayload(d,p);this.options.request(this.options,t,g,function(_,v){if(v&&(v.status>=500&&v.status<600||!v.status))return r("failed loading "+t+"; status code: "+v.status,!0);if(v&&v.status>=400&&v.status<500)return r("failed loading "+t+"; status code: "+v.status,!1);if(!v&&_&&_.message){var S=_.message.toLowerCase(),x=["failed","fetch","network","load"].find(function(j){return S.indexOf(j)>-1});if(x)return r("failed loading "+t+": "+_.message,!0)}if(_)return r(_,!1);var V,B;try{typeof v.data=="string"?V=c.options.parse(v.data,a,l):V=v.data}catch{B="failed parsing "+t+" to json"}if(B)return r(B,!1);r(null,V)})}},{key:"create",value:function(t,r,a,l,c){var d=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var p=this.options.parsePayload(r,a,l),g=0,_=[],v=[];t.forEach(function(S){var x=d.options.addPath;typeof d.options.addPath=="function"&&(x=d.options.addPath(S,r));var V=d.services.interpolator.interpolate(x,{lng:S,ns:r});d.options.request(d.options,V,p,function(B,j){g+=1,_.push(B),v.push(j),g===t.length&&typeof c=="function"&&c(_,v)})})}}},{key:"reload",value:function(){var t=this,r=this.services,a=r.backendConnector,l=r.languageUtils,c=r.logger,d=a.language;if(!(d&&d.toLowerCase()==="cimode")){var p=[],g=function(v){var S=l.toResolveHierarchy(v);S.forEach(function(x){p.indexOf(x)<0&&p.push(x)})};g(d),this.allOptions.preload&&this.allOptions.preload.forEach(function(_){return g(_)}),p.forEach(function(_){t.allOptions.ns.forEach(function(v){a.read(_,v,"read",null,null,function(S,x){S&&c.warn("loading namespace ".concat(v," for language ").concat(_," failed"),S),!S&&x&&c.log("loaded namespace ".concat(v," for language ").concat(_),x),a.loaded("".concat(_,"|").concat(v),S,x)})})})}}}])})();a1.type="backend";on.use(a1).use(n1).use(jC).init({supportedLngs:["en","ru"],fallbackLng:"en",detection:{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],caches:["cookie"]},backend:{loadPath:"/locales/{{lng}}/translation.json"},react:{useSuspense:!1}});QA.createRoot(document.getElementById("root")).render(R.jsx(zA.StrictMode,{children:R.jsx(JL,{})}));export{IV as c,QT as g};
